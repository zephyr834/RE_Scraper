MOVE.AmenitiesNearYou=function(e){function t(e){return _.size(e)>0}function i(){_.each(x,function(e){e.setMap(null)}),x=[]}var n,a,o,r,s,l,c,d,u,h,p,f,m,g,v=($(".ldp-amenities-list input[type='radio']:checked").val(),$(".ldp-amenities-list input[type='radio']")),y=$("#ldp-amenities-map-container"),b={property:"/assets/marker-property-24f04caa55310a293edba9e2baf22cfb558eb3b3d5fb811e1281967bd97da8da.png",amenity:"/assets/marker-amenity-ab359eb71f1ed62959e7771b1b6b42b2a472e283365134f4bcaeeaa35cb48f99.png",amenityActive:"/assets/marker-amenity-active-517b9fba15d4c208b20cecd0c233c145198d5f143125b01e90a37ea075524fe1.png",customMarker:"/images/custom-marker.png"},x=[],w=document.getElementById("amenitiesMap"),M=w?w.getAttribute("data-property-lat"):"",A=w?w.getAttribute("data-property-lon"):"",S=$("#amenitiesMap");return n=function(){S.appear(),f(),m()},h=function(){var t=void 0!=$("#topLDPMap").html()&&""!==$("#topLDPMap").html(),i=void 0!=$("#photoGalleryLDPMap").html()&&""!==$("#photoGalleryLDPMap").html(),n=(t||i)&&""===S.html();e.Helper.initMapComponent(a,n),S.off("appear")},f=function(){S.on("appear",function(){h(),p()})},m=function(){S.is(":appeared")&&(h(),p())},g=function(){e.AmenitiesNearYouADS.init(e.AmenitiesNearYouADS.getAdsData())},p=function(){e.AmenitiesNearYouADS.getAdsData()?g():S.on("MapVertisingDataReady",function(){g()})},a=function(t){mapComponentClient=new move.map.Client({id:t.clientId,url:t.service_url}),mapOptions={scrollwheel:!1,styles:[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"transit.station",stylers:[{visibility:"off"}]}],streetViewControl:!0,zoomControl:!($.Device.isIPad||$.Device.isIPhone||$.Device.isAndroid),mapTypeControl:!0,minZoom:9},$.extend(mapOptions,e.Helper.getMapOptions(google)),map=new google.maps.Map(w,mapOptions),loadAmenities()},loadAmenities=function(){$.ajax({url:"/amenities",data:{lat:parseFloat(M),lon:parseFloat(A),radius:"10mi",limit:50},success:function(e){o(e),S.trigger("amenitiesDataReady"),v.on("click",function(){var e=$(this).val(),t=$(this).attr("data-omtag");t&&_satellite.track(t),i(),s(e)})}})},o=function(e){r=e,u(r)?(s("insurances"),l()):y.hide()},u=function(e){return _.values(e).some(t)},s=function(e){function t(t){var i=JST["templates/amenity_ads_map_card"]({amenity:t,amenityType:e}),a=new google.maps.Marker({position:{lat:t.address.lat,lng:t.address.lon},icon:t.logo,map:map,title:t.name,ads_marker:!0,zIndex:google.maps.Marker.MAX_ZINDEX+1});x.push(a),a.addListener("click",function(){n=a,c.close(),c.setContent(i),c.open(map,a)})}function i(t){var i=JST["templates/amenity_map_card"]({amenity:t,amenityType:e,rating:t.rating.toString().replace(".","-")}),a=new google.maps.Marker({position:{lat:t.address.lat,lng:t.address.lon},icon:o,map:map,title:t.name,ads_marker:!1});x.push(a),a.addListener("click",function(){n&&!n.ads_marker&&n.setIcon(o),n=a,a.setIcon(s),c.close(),c.setContent(i),c.open(map,a)})}var n,a=r[e],o=b.amenity,s=b.amenityActive,l=new google.maps.LatLngBounds,c=new google.maps.InfoWindow;if(!MOVE_DATA.propertyDetails.flags.is_address_suppressed){new google.maps.Marker({position:{lat:parseFloat(M),lng:parseFloat(A)},map:map,icon:b.property})}a.length&&_.each(a,function(e){e.havingAdCampaign?t(e):i(e)});var d=new google.maps.LatLng(parseFloat(M)+.005,parseFloat(A)+.005),u=new google.maps.LatLng(parseFloat(M)-.005,parseFloat(A)-.005);l.extend(d),l.extend(u),map.fitBounds(l),google.maps.event.addListener(c,"closeclick",function(){n&&!n.ads_marker&&n.setIcon(o)})},l=function(){v.each(function(){var e=$(this).val();$(this).parents(".ldp-amenity").find(".ldp-amenity-count").html("("+r[e].length+")")})},d=function(){return r},e.AmenitiesNearYou={init:n,getMapAdsContent:c,allAmenitiesData:d,plotAmenities:o},e.AmenitiesNearYou}(MOVE||{}),MOVE.MapMiniCard=function(){var e,t,i,n,a,o,r=$(".map-mini-card"),s={card:r,visible:!1,innerCard:r.find(".mini-card-inner-container")},l=$(".map-mini-card-wrap");MOVE.Helper.detectPageType();e=function(){return s},t=function(e){s=e},n=function(e){c(e),s.visible!==!1&&(s.card.addClass("hide"),l.addClass("no-show"),s.innerCard.html(""),s.visible=!1)};var c=function(e){void 0!==e&&(s={card:e,visible:!1,innerCard:e.find(".mini-card-inner-container")})};a=function(e,t){return t?(e.leftPosition<440?e.leftPosition+=70:e.leftPosition-=350,e.topPosition<0?e.topPosition+=70:e.topPosition>0&&e.topPosition<350?e.topPosition-=20:e.topPosition-=200,e):(e.leftPosition<200?e.leftPosition+=50:e.leftPosition-=225,e.topPosition<68&&e.topPosition>0?e.topPosition-=20:e.topPosition<0?e.topPosition+=70:e.topPosition-=70,e)},o=function(e,t){var i="",n=MOVE.Helper.detectPageType();if("ldp"===n){var a=$(".js-nearby-homes-for-sale").hasClass("active"),o=$(".js-nearby-recently-sold").hasClass("active"),r=$(".js-nearby-home-values").hasClass("active");void 0!==t&&t.hasClass("js-ldp-nearby-homevalues-mini-card")?(e.omTag="ldp:bottom:home-estimates:map:card",e.dataStatus="not_for_sale"):void 0!==t&&t.hasClass("js-ldp-recently-sold-around-mini-card")?(e.omTag="ldp:bottom:recently-sold-by-address:map:card",e.dataStatus="not_for_sale"):a?(e.omTag="ldp:bottom:nearby-homes:for_sale:card",e.dataStatus="for_sale"):o?(e.omTag="ldp:bottom:nearby-homes:recently_sold:card",e.dataStatus="recently_sold"):r&&(e.omTag="ldp:bottom:nearby-homes:not_for_sale:card",e.dataStatus="not_for_sale")}return e instanceof Array?_.each(e,function(e){i+=JST["templates/map_card_small"]({property:e})}):i=JST["templates/map_card_small"]({property:e}),i},i=function(e,t,i,n,r,d){var u=a({leftPosition:parseInt(t,10),topPosition:parseInt(i,10)},n),h=u.leftPosition.toString()+"px",p=u.topPosition.toString()+"px",f=document.createElement("div");if($(f).css({left:h,top:p}),c(d),s.visible===!0&&s.card.css("left")===$(f).css("left")&&s.card.css("top")===$(f).css("top"))MOVE.MapMiniCard.closeInfoWindowCard(),"direct"===r&&MOVE.SRP.MapView.map.properties.select();else{var m=o(e,d);s.innerCard.html(m),s.card.removeClass("hide"),l.removeClass("no-show"),s.visible=!0,s.card.css({left:h,top:p}),s.innerCard.find(".mini-card-item").click(function(){MOVE.UserActivity.updateSrpListingClicked({turboStatus:"organic",dataSource:"map-pin"});var e=$(this).data("ldpurl");window.location=e})}MOVE.MapMiniCard.Tracking.init(e)};var d=function(e){return MOVE.Helper.isPhone()?e:e.replace("xd-w225_h169_q80.jpg","xd-r1_w480_h480_q80.jpg")},u=function(){return"large"===MOVE.Helper.detectViewPort()?"coming-soon-lg":"coming-soon-sm"},h=function(e){return"for_sale"===e||"not_for_sale"===e?"mini-card-float-meta":""},p=function(e){return"for_rent"===e?"":"no-show"};return MOVE.MapMiniCard={openInfoWindowCard:i,closeInfoWindowCard:n,getInfoWindowCard:e,infoWindowCard:s,getMiniCardPhoto:d,getComingSoonPhoto:u,getMiniCardPriceClass:h,getMiniCardPriceTagClass:p},MOVE.MapMiniCard}(MOVE.MapMiniCard||{}),function(e){var t,i,n,a,o,r,s,l,c,d,u,h,p=".mini-card-item",f="srp:map:mini-card:impression";t=function(e){r=[],h=_wrap(e),i().innerCard.find(p).each(n),a(),_satellite.track(f)},_wrap=function(e){return _.isArray(e)?e:[e]},i=function(){return e.getInfoWindowCard()},n=function(e,t){var i=h[e];o(i),$(t).attr(_getAttrs(i))},_getAttrs=function(){return{"data-omtag":"srp-listMap:listing:pin:card:"+u,"data-product":l,"data-propertyid":s,"data-source":d,"data-proptype":c,"data-propertystatus":u}},o=function(e){d=e.data_source,s=function(){return e.plan_id||e.subdivision_id||e.listing_id}(),s&&r.push(s),u=function(){return"new-home-community"===e.status?"new_community":e.status}(),l=e.product_type,c=e.source_id},a=function(){MOVE_DATA.adobeDTM.productType=l,MOVE_DATA.adobeDTM.listingSource=c,MOVE_DATA.adobeDTM.propertyStatus=u,MOVE_DATA.adobeDTM.dataSource=d,MOVE_DATA.adobeDTM.propertyID=r.join(",")},e.Tracking={init:t}}(MOVE.MapMiniCard||{}),MOVE.MortgageGraph=function(){"use strict";var e=function(){$(".home-mortage-plots").addClass("hide"),$(".js-mortgage-search-container").addClass("col-lg-8 col-md-8 col-sm-offset-2 text-center")},t=function(){var t=$.Deferred();return $.ajax({url:"/mrtg_handler/get_trends_data",success:function(i){i.meta.success===!1&&e(),t.resolve(i)},error:function(i){e(),t.reject(i)}}),t},i=function(e,t,i){return new Date(e,t-1,i,0,0,0,0).getTime()},n=function(){return{series:{lines:{show:!0,steps:!1}},legend:{show:!1},grid:{hoverable:!0,borderColor:"none",borderWidth:0,backgroundColor:"transparent",lineWidth:3,autoHighlight:!1},crosshair:{mode:null,color:"#8f8f8f",lineWidth:3},xaxis:{show:!1,mode:"time",timeformat:"%b %d",tickSize:[4,"day"],tickLength:0,color:"black",axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Verdana, Arial",axisLabelPadding:10},yaxis:{show:!1,color:"#e1e1e1",position:"right",tickDecimals:2,tickSize:.25,tickFormatter:function(e,t){return MOVE.Helper.commaDelimit(e.toFixed(t.tickDecimals))+"%"},axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Verdana, Arial",axisLabelPadding:5}}},a=function(e){e=e||{},this.selector=e.selector||null,this.dataset=e.dataset||null,this.color=e.color||null,this.plotGraph(),this.updateRate(),this.updatePercentage(),$(this.selector).addClass("active")};a.prototype.getRateChange=function(){var e=this.dataset.length-1;return this.dataset[e][1]-this.dataset[e-1][1]},a.prototype.getRateChangeArrow=function(){var e=this.getRateChange();return e<0?"down":0===e?"flat":e>0?"up":void 0},a.prototype.getOverallPercent=function(){var e=this.dataset.length-1;return this.dataset[e][1].toFixed(2)+"%"},a.prototype.plotGraph=function(){$.plot(this.selector+" .mortgage-plot",[{data:this.dataset,color:this.color,lines:{show:!0}}],n())},a.prototype.updateRate=function(){$(this.selector+" .js-difference").html(Math.abs(this.getRateChange()).toFixed(2)),"down"===this.getRateChangeArrow()&&$(this.selector+" .js-difference").prepend("<span class='ra ra-arrow-down' aria-hidden='true'></span>"),"up"===this.getRateChangeArrow()&&$(this.selector+" .js-difference").prepend("<span class='ra ra-arrow-up' aria-hidden='true'></span>")},a.prototype.updatePercentage=function(){$(this.selector+" .js-percentage").html(this.getOverallPercent())};var o=function(e){var t,n={y30:[],y15:[],a51:[],a71:[]};_.each(e.rate_trends,function(e){t=i(e.Y,e.M,e.D),n.y30.push([t,e.R30]),n.y15.push([t,e.R15]),n.a51.push([t,e.A51]),n.a71.push([t,e.A71])});new a({selector:"#mortgage-trends-30y",dataset:n.y30,color:"#dcb165"}),new a({selector:"#mortgage-trends-15y",dataset:n.y15,color:"#ed6a62"}),new a({selector:"#mortgage-trends-51a",dataset:n.a51,color:"#4d73a3"}),new a({selector:"#mortgage-trends-71a",dataset:n.a71,color:"#380b6b"})},r=function(e){var t,n=[];_.each(e.rate_trends,function(e){t=i(e.Y,e.M,e.D),n.push([t,e.R30])});new a({selector:"#mortgage-rate-widget",dataset:n,color:"#ed6a62"})},s=function(){t().done(function(e){"ldp"===MOVE.Helper.detectPageType()?r(e):o(e)})};return MOVE.MortgageGraph={init:s,getNativeDate:i,getRatesFuture:t},MOVE.MortgageGraph}(MOVE||{}),MOVE.MovingEstimateModal=function(e){var t,i,n,a,o,r,s,l="#moving-calculator-modal",c=function(e){u(e),h(e),s.click(p)},d=function(){t=$(l),i=t.find(".js-moving-estimated-cost"),n=t.find(".js-moving-distance"),a=t.find(".js-moving-weight"),o=t.find(".js-moving-from"),r=t.find(".js-moving-to"),s=t.find("#divDisclaimer")},u=function(e){d(),i.html(e.low_estimate+" - "+e.high_estimate),n.html(e.distance_display+" miles"),a.html(e.weight_range_low_display+" - "+e.weight_range_high_display+" lbs"),o.html(e.from_zip+" - "+e.from_city+", "+e.from_state),r.html(e.to_zip+" - "+e.to_city+", "+e.to_state)},h=function(t){e.Medias.manualLoadAds(window.gptAds.gptadslotsMCCModal,l+" .ads"),e.MovingQuoteModal.init(t)},p=function(e){$("#divMoreDisclaimer").removeClass("hide"),$("#divDisclaimer").addClass("hide"),e.preventDefault()},f=function(){t.modal()},m=function(t){$(l).length?(c(t),f()):e.Helper.fetchModal(l,{calculation:t})};return e.MovingEstimateModal={init:c,show:m},e.MovingEstimateModal}(MOVE||{}),MOVE.MovingEstimateWidget=function(e){var t=$(".js-moving-widget-container"),i=t.find("input.js-from-zip"),n=t.find("input.js-to-zip"),a=t.find(".js-no-of-rooms"),o=t.find(".js-packing"),r=(t.find("#moving-calc-est-btn"),t.find("form")),s=function(){a.add(o).selectpicker(),i.focus(function(){$(this).on("keypress",d)}).blur(function(){u($(this))}),n.focus(function(){$(this).on("keypress",d)}).blur(function(){u($(this))}),r.on("submit",function(e){p()&&c(),e.preventDefault()})},l=function(e){var t={to_zip:n,from_zip:i};return t[e]},c=function(){var t={from_zip:i.val(),to_zip:n.val(),move_weight_lbs:a.val(),packing_option:o.val()};$.ajax({url:"/moving/calculate_cost",method:"POST",data:t,dataType:"JSON",success:function(t){var i;t.meta.success?e.MovingEstimateModal.show(t.calculation):t.meta.errors.length&&_.each(t.meta.errors,function(e){i=l(e.message),u(i,!0)})}})},d=function(e){var t=8===e.which,i=13===e.which,n=e.which>=48&&e.which<=57,a=9===e.which;37===e.which||39===e.which;if(!(t||i||n||a))return!1},u=function(e,t){var i=e.val();return""!==i&&(t!==!0&&h(i)?(e.removeClass("error").next().addClass("hide"),!0):(e.addClass("error").next().removeClass("hide"),!1))},h=function(e){return/^\d{5}(-\d{4})?$/.test(e)},p=function(){return i.val()||i.addClass("error").next().removeClass("hide"),n.val()||n.addClass("error").next().removeClass("hide"),!i.hasClass("error")&&!n.hasClass("error")};return e.MovingEstimateWidget={init:s},e.MovingEstimateWidget}(MOVE||{}),MOVE.MovingQuoteModal=function(e){var t,i,n,a,o,r,s,l,c,d=e.Helper.detectPageType(),u=function(t){h(t),p(),y(),MOVE_DATA.adobeDTM.modal={name:"movingCostEstimate"},e.Common.openModalMovingLeadOmniture()},h=function(e){t=e,n=$("#moving-calculator-modal"),a=$("#moving-calc-submit-btn"),o=n.find(".js-phone"),r=n.find(".js-email"),s=n.find(".js-first-name"),l=n.find(".js-last-name"),c=$("#datepicker1")},p=function(){var a=n.find("form");o.on("keypress",e.Helper.validatePhone),i=a.validate({rules:{"first-name":{required:!0,pattern:/^[a-zA-Z.+-. ']+$/},"last-name":{required:!0,pattern:/^[a-zA-Z.+-. ']+$/},email:{required:!0,pattern:/^.+@.+\..+$/},phone:{required:!0,phoneUS:!0},"date-picker":{required:!0}},messages:{"first-name":{required:"Please enter your first name",pattern:"Please enter a valid first name"},"last-name":{required:"Please enter your last name",pattern:"Please enter a valid last name"},email:{required:"Please enter your email",pattern:"Please enter a valid email address"},phone:{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number"},"date-picker":{required:"Please enter a date"}},errorPlacement:function(t,i){e.Helper.movingQuoteErrorPlacement(t,i)},submitHandler:function(){var n=e.DateFormat.getFormattedDate(c.datepicker("getDate"));request={from_zip:t.from_zip,to_zip:t.to_zip,last_name:l.val(),first_name:s.val(),packing_option:t.packing_option,email:r.val(),phone_home:o.val(),move_date:n,move_size:t.move_weight_lbs,lead_source:f(d)},g(!1),$.ajax({url:"/moving/lead",method:"POST",data:request,dataType:"JSON",success:function(t){return g(!0),t.meta.success?(m(),v()):void _.each(t.meta.errors,function(t){var n={},a=e.Helper.mapMovingAPIErrorCodeToName(t.code);return"unsupported"===a?(m(),v()):(n[a]=t.message,void i.showErrors(n))})}})}})},f=function(e){var t="sel";return"not_for_sale"===MOVE_DATA.adobeDTM.propertyStatus&&"recently_sold"===MOVE_DATA.adobeDTM.propertyStatusSub?t="rsld":"new_community"===MOVE_DATA.adobeDTM.propertyStatus&&null===MOVE_DATA.adobeDTM.propertyStatusSub?t="nh":"for_rent"===MOVE_DATA.adobeDTM.propertyStatus&&(t="rnt"),"rdc-CostCalc-"+t+"-"+e},m=function(){e.Helper.updateOmnitureLeadJson({leadType:"moving",leadPlacement:"srp"===d?"srp":"ldp:rr"}),e.Common.successMovingLeadOmniture()},g=function(e){a.attr("disabled",!e)},v=function(){n.modal("hide");var e=$("#thank-you-moving-quote");e.find(".close").on("click",function(){e.addClass("hide")}),e.removeClass("hide").show(),e.fadeTo(1e4,100).fadeOut("slow")},y=function(){var e=new Date;e.setDate(e.getDate()+14),c.datepicker({orientation:"auto top",container:"#datepicker1",autoclose:!0,startDate:"+1d",endDate:"+6m"}),c.datepicker("setDate",e),c.datepicker("update")};return e.MovingQuoteModal={init:u,showThankyou:v,leadSource:f},e.MovingQuoteModal}(MOVE||{}),MOVE.LifeStyleGallery=function(e){var t=function(){localNumberToShow()};return localNumberToShow=function(){var t,i=$("#cmt_number").data("number"),n=i>5?i-4:0,a=i>3?i-2:0;t=e.Helper.isMobile()?i>4?i-3:0:i>8?i-7:0,0===n&&($(".js-local-numbers").addClass("hide"),$(".js-local-images").removeClass("local-lifestyle")),0===a&&($(".js-local-numbers-widget").addClass("hide"),$(".local-widget-photo-item").removeClass("local-lifestyle")),0===t&&($(".js-local-numbers-ldp").addClass("hide"),$(".js-local-images-ldp").removeClass("local-lifestyle")),$("#local_community_images").find(".js-local-fsgallery-toggle").last().find("span").append("+"+n),$("#widget_community_images").find(".js-local-fsgallery-toggle").last().find("span").append("+"+a),$("#ldp_community_images").find(".js-local-fsgallery-toggle").last().find("span").append("+"+t)},e.Helper.lazyLoadImages("img",{},$(".js-community-images")),e.Helper.lazyLoadImages("img",{},$("#cmt-fullscreen-gallery #photoCarousel")),e.LifeStyleGallery={init:t},e.LifeStyleGallery}(MOVE||{}),MOVE.Photos=function(){"use strict";var e,t,i=function(e,i){t=e.target,t.owlCarousel({items:1,loop:!0,margin:e.margin,startPosition:e.currentIndex,animateOut:"fadeOut",navSpeed:100,lazyLoad:!0,dots:!1,nav:!0,navText:["<div class='gallery-arrows arrow-left hidden-xs hidden-xxs' ><i class='ra ra-chevron-left'></i></div>","<div class='gallery-arrows arrow-right hidden-xs hidden-xxs' ><i class='ra ra-chevron-right'></i></div>"],navContainer:e.navigationContainer&&$(e.navigationContainer).length>0?e.navigationContainer:"",onChanged:function(e){if(e.namespace&&"position"===e.property.name){var t=e.relatedTarget.relative(e.item.index);i(e.item.count,t)}}})};return e=function(e){if(e){var t=e.find("img");t.hasClass("hide")&&t.removeClass("hide")}},MOVE.Photos={init:i,loadPhoto:e},MOVE.Photos}(MOVE||{}),MOVE.PhotoGallery=function(){var e,t,i,n,a,o,r,s,l=!0,c=function(a){o=a,e=!0,l&&(t(),i()),n(),MOVE.Helper.highlightThumbnail(o,r),l=!1,MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsCommunityPhotoGalleryLogo),$("#cmtPhotoGalleryMrect").hide(),u()},d=function(){var e=$("#cmtPhotoGallery"),t=e.find("div.owl-item:not('.cloned')");t.length>=3&&(e.trigger("remove.owl.carousel",3),e.trigger("prev.owl.carousel"))},u=function(){$("#photo1AdsClose").unbind("click").click(function(e){$(e.target).parents(".fsgallery-ad").remove(),d()})};return t=function(){s=$("#cmtPhotoGallery");var e={target:s,currentIndex:o,margin:50,navigationContainer:"#cmtPhotoGalleryNavigation"},t=function(e,t){1===$("#cmtPhotoGalleryMrect").length?1:0;e>=3&&3===t?(MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsCommunityPhotoGallery),$("#cmtPhotoGalleryMrect").show()):(t<=3?MOVE.Helper.highlightThumbnail(t,r):MOVE.Helper.highlightThumbnail(t-1,r),$("#cmtPhotoGalleryMrect").hide()),MOVE.Photos.loadPhoto(s)};MOVE.Photos.init(e,t)},i=function(){r=$("#photoCarousel","#cmt-fullscreen-gallery"),MOVE.Helper.loadCarouselThumbnails(r),r.on("click",".owl-item",function(){var t=$(this),i=r.data("owl.carousel").relative(t.index());i>=3&&(i+=1),s.trigger("to.owl.carousel",[i,200,!0]),r.find("div.highlight").removeClass("highlight"),t.addClass("highlight"),s.hasClass("hide")&&(a(),e=!0)})},$("#viewOriginal").on("click",function(){if(void 0!==s){var e=s.find(".owl-item.active img").attr("src");window.open(e.replace(/xd-(\w+)/,"r"),"_blank")}}),n=function(){o<3?s.trigger("to.owl.carousel",[o,200,!0]):s.trigger("to.owl.carousel",[o+1,200,!0]),s.hasClass("hide")&&(a(),e=!0)},a=function(){s.toggleClass("hide")},galleryNavigationHide=function(e){$("#cmtPhotoGalleryNavigation").toggleClass("hide",e)},MOVE.PhotoGallery={init:c},MOVE.PhotoGallery}(MOVE||{}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function a(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(e){return function(){return this[e].apply(this,arguments)}}function r(e){return e&&!isNaN(e.getTime())}function s(t,i){function n(e,t){return t.toLowerCase()}var a,o=e(t).data(),r={},s=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in o)i.test(l)&&(a=l.replace(s,n),r[a]=o[l]);return r}function l(t){var i={};if(g[t]||(t=t.split("-")[0],g[t])){var n=g[t];return e.each(m,function(e,t){t in n&&(i[t]=n[t])}),i}}var c=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new c;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),d=function(t,i){this._process_options(i),this.dates=new c,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(a){this._o=e.extend({},this._o,a);var o=this.o=e.extend({},this._o),r=o.language;switch(g[r]||(r=r.split("-")[0],g[r]||(r=f.language)),o.language=r,o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}switch(o.maxViewMode){case 0:case"days":o.maxViewMode=0;break;case 1:case"months":o.maxViewMode=1;break;default:o.maxViewMode=2}o.startView=Math.min(o.startView,o.maxViewMode),o.startView=Math.max(o.startView,o.minViewMode),o.multidate!==!0&&(o.multidate=Number(o.multidate)||!1,o.multidate!==!1&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var s=v.parseFormat(o.format);if(o.startDate!==-(1/0)&&(o.startDate?o.startDate instanceof Date?o.startDate=this._local_to_utc(this._zero_time(o.startDate)):o.startDate=v.parseDate(o.startDate,s,o.language):o.startDate=-(1/0)),o.endDate!==1/0&&(o.endDate?o.endDate instanceof Date?o.endDate=this._local_to_utc(this._zero_time(o.endDate)):o.endDate=v.parseDate(o.endDate,s,o.language):o.endDate=1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],e.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=e.map(o.daysOfWeekDisabled,function(e){return parseInt(e,10)}),o.daysOfWeekHighlighted=o.daysOfWeekHighlighted||[],e.isArray(o.daysOfWeekHighlighted)||(o.daysOfWeekHighlighted=o.daysOfWeekHighlighted.split(/[,\s]*/)),o.daysOfWeekHighlighted=e.map(o.daysOfWeekHighlighted,function(e){return parseInt(e,10)}),o.datesDisabled=o.datesDisabled||[],!e.isArray(o.datesDisabled)){var l=[];l.push(v.parseDate(o.datesDisabled,s,o.language)),o.datesDisabled=l}o.datesDisabled=e.map(o.datesDisabled,function(e){return v.parseDate(e,s,o.language)});var c=String(o.orientation).toLowerCase().split(/\s+/g),d=o.orientation.toLowerCase();if(c=e.grep(c,function(e){return/^auto|left|right|top|bottom$/.test(e)}),o.orientation={x:"auto",y:"auto"},d&&"auto"!==d)if(1===c.length)switch(c[0]){case"top":case"bottom":o.orientation.y=c[0];break;case"left":case"right":o.orientation.x=c[0]}else d=e.grep(c,function(e){return/^left|right$/.test(e)}),o.orientation.x=d[0]||"auto",d=e.grep(c,function(e){return/^top|bottom$/.test(e)}),o.orientation.y=d[0]||"auto";if(o.defaultViewDate){var u=o.defaultViewDate.year||(new Date).getFullYear(),h=o.defaultViewDate.month||0,p=o.defaultViewDate.day||1;o.defaultViewDate=i(u,h,p)}else o.defaultViewDate=n();o.showOnFocus=o.showOnFocus===t||o.showOnFocus,o.zIndexOffset=o.zIndexOffset!==t?o.zIndexOffset:10},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,n,a,o=0;o<e.length;o++)i=e[o][0],2===e[o].length?(n=t,a=e[o][1]):3===e[o].length&&(n=e[o][1],a=e[o][2]),i.on(a,n)},_unapplyEvents:function(e){for(var i,n,a,o=0;o<e.length;o++)i=e[o][0],2===e[o].length?(a=t,n=e[o][1]):3===e[o].length&&(a=e[o][1],n=e[o][2]),i.off(n,a)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.dates.get(-1),a=this._utc_to_local(n);this.element.trigger({type:t,date:a,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return v.formatDate(i,t,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),t.preventDefault()},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e):this.component&&this.element.find("input").val(e),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var n=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,a=e(this.o.container),o=a.width(),r=a.scrollTop(),s=a.offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var c=Math.max.apply(Math,l)+this.o.zIndexOffset,d=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=d.left-s.left,f=d.top-s.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-h)):d.left<0?(this.picker.addClass("datepicker-orient-left"),p-=d.left-n):p+t>o?(this.picker.addClass("datepicker-orient-right"),p=d.left+h-t):this.picker.addClass("datepicker-orient-left");var m,g=this.o.orientation.y;if("auto"===g&&(m=-r+f-i,g=0>m?"bottom":"top"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f-=i+parseInt(this.picker.css("padding-top")):f+=u,this.o.rtl){var v=o-(p+h);this.picker.css({top:f,right:v,zIndex:c})}else this.picker.css({top:f,left:p,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],n=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language)},this)),i=e.grep(i,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e;
},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,n?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),t+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)t+='<th class="dow">'+g[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+g[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r=new Date;return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<o?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>o)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===r.getFullYear()&&t.getUTCMonth()===r.getMonth()&&t.getUTCDate()===r.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.o.datesDisabled.length>0&&e.grep(this.o.datesDisabled,function(e){return a(t,e)}).length>0&&i.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},fill:function(){var n,a=new Date(this.viewDate),o=a.getUTCFullYear(),r=a.getUTCMonth(),s=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",h=g[this.o.language].clear||g.en.clear||"",p=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(o)&&!isNaN(r)){this.picker.find(".datepicker-days thead .datepicker-switch").text(v.formatDate(new i(o,r),p,this.o.language)),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(h).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var f=i(o,r-1,28),m=v.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(m),f.setUTCDate(m-(f.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(f);f.getUTCFullYear()<100&&y.setUTCFullYear(f.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var b,x=[];f.valueOf()<y;){if(f.getUTCDay()===this.o.weekStart&&(x.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),M=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),A=new Date(Number(A=i(M.getUTCFullYear(),0,1))+(11-A.getUTCDay())%7*864e5),S=(M-A)/864e5/7+1;x.push('<td class="cw">'+S+"</td>")}if(b=this.getClassNames(f),b.push("day"),this.o.beforeShowDay!==e.noop){var _=this.o.beforeShowDay(this._utc_to_local(f));_===t?_={}:"boolean"==typeof _?_={enabled:_}:"string"==typeof _&&(_={classes:_}),_.enabled===!1&&b.push("disabled"),_.classes&&(b=b.concat(_.classes.split(/\s+/))),_.tooltip&&(n=_.tooltip)}b=e.unique(b),x.push('<td class="'+b.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+f.getUTCDate()+"</td>"),n=null,f.getUTCDay()===this.o.weekEnd&&x.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(x.join(""));var E=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?"Months":o).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===o&&E.eq(t.getUTCMonth()).addClass("active")}),(s>o||o>c)&&E.addClass("disabled"),o===s&&E.slice(0,l).addClass("disabled"),o===c&&E.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var C=this;e.each(E,function(t,i){if(!e(i).hasClass("disabled")){var n=new Date(o,t,1),a=C.o.beforeShowMonth(n);a===!1&&e(i).addClass("disabled")}})}x="",o=10*parseInt(o/10,10);var k=this.picker.find(".datepicker-years").find(".datepicker-switch").text(o+"-"+(o+9)).end().find("td");o-=1;for(var O,T=e.map(this.dates,function(e){return e.getUTCFullYear()}),D=-1;11>D;D++){if(O=["year"],n=null,-1===D?O.push("old"):10===D&&O.push("new"),-1!==e.inArray(o,T)&&O.push("active"),(s>o||o>c)&&O.push("disabled"),this.o.beforeShowYear!==e.noop){var P=this.o.beforeShowYear(new Date(o,0,1));P===t?P={}:"boolean"==typeof P?P={enabled:P}:"string"==typeof P&&(P={classes:P}),P.enabled===!1&&O.push("disabled"),P.classes&&(O=O.concat(P.classes.split(/\s+/))),P.tooltip&&(n=P.tooltip)}x+='<span class="'+O.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+o+"</span>",o+=1}k.html(x)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault(),t.stopPropagation();var n,a,o,r=e(t.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=v.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":this.clearDates()}break;case"span":r.hasClass("disabled")||(this.viewDate.setUTCDate(1),r.hasClass("month")?(o=1,a=r.parent().find("span").index(r),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(n,a,o)),this.showMode()):this.showMode(-1)):(o=1,a=0,n=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(n,a,o)),this.showMode(-1)),this.fill());break;case"td":r.hasClass("day")&&!r.hasClass("disabled")&&(o=parseInt(r.text(),10)||1,n=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),r.hasClass("old")?0===a?(a=11,n-=1):a-=1:r.hasClass("new")&&(11===a?(a=0,n+=1):a+=1),this._setDate(i(n,a,o)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,t){if(!r(e))return this.o.defaultViewDate;if(!t)return e;var i,n,a=new Date(e.valueOf()),o=a.getUTCDate(),s=a.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1===l)n=-1===t?function(){return a.getUTCMonth()===s}:function(){return a.getUTCMonth()!==i},i=s+t,a.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var c=0;l>c;c++)a=this.moveMonth(a,t);i=a.getUTCMonth(),a.setUTCDate(o),n=function(){return i!==a.getUTCMonth()}}for(;n();)a.setUTCDate(--o),a.setUTCMonth(i);return a},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void((40===e.keyCode||27===e.keyCode)&&(this.show(),e.stopPropagation()));var t,i,a,o=!1,r=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),t),a=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),t),a=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+t),a=new Date(r),a.setUTCDate(r.getUTCDate()+t)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),t),a=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),t),a=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+7*t),a=new Date(r),a.setUTCDate(r.getUTCDate()+7*t)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),o=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(o){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var u=function(t,i){this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,p.call(e(this.inputs),i).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker");if("undefined"!=typeof i){var n=i.getUTCDate(),a=e.inArray(t.target,this.inputs),o=a-1,r=a+1,s=this.inputs.length;if(-1!==a){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(n)}),n<this.dates[o])for(;o>=0&&n<this.dates[o];)this.pickers[o--].setUTCDate(n);else if(n>this.dates[r])for(;s>r&&n>this.dates[r];)this.pickers[r++].setUTCDate(n);this.updateDates(),delete this.updating}}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var h=e.fn.datepicker,p=function(i){var n=Array.apply(null,arguments);n.shift();var a;if(this.each(function(){var t=e(this),o=t.data("datepicker"),r="object"==typeof i&&i;if(!o){var c=s(this,"date"),h=e.extend({},f,c,r),p=l(h.language),m=e.extend({},f,p,c,r);if(t.hasClass("input-daterange")||m.inputs){var g={inputs:m.inputs||t.find("input").toArray()};t.data("datepicker",o=new u(this,e.extend(m,g)))}else t.data("datepicker",o=new d(this,m))}"string"==typeof i&&"function"==typeof o[i]&&(a=o[i].apply(o,n))}),a===t||a instanceof d||a instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return a};e.fn.datepicker=p;var f=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:2,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body",immediateUpdates:!1,title:""},m=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=d;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(n,a,o){function r(){var e=this.slice(0,h[c].length),t=h[c].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!n)return t;if(n instanceof Date)return n;if("string"==typeof a&&(a=v.parseFormat(a)),a.toValue)return a.toValue(n,a,o);var s,l,c,u=/([\-+]\d+)([dmwy])/,h=n.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,c=0;c<h.length;c++)switch(s=u.exec(h[c]),l=parseInt(s[1]),s[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=d.prototype.moveMonth.call(d.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+7*l);break;case"y":n=d.prototype.moveYear.call(d.prototype,n,l)}return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}h=n&&n.match(this.nonpunctuation)||[],n=new Date;var p,f,m={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,n=i(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var x=a.parts.slice();if(h.length!==x.length&&(x=e(x).filter(function(t,i){return-1!==e.inArray(i,y)}).toArray()),h.length===x.length){var w;for(c=0,w=x.length;w>c;c++){if(p=parseInt(h[c],10),s=x[c],isNaN(p))switch(s){case"MM":f=e(g[o].months).filter(r),p=e.inArray(f[0],g[o].months)+1;break;case"M":f=e(g[o].monthsShort).filter(r),p=e.inArray(f[0],g[o].monthsShort)+1}m[s]=p}var M,A;for(c=0;c<y.length;c++)A=y[c],A in m&&!isNaN(m[A])&&(M=new Date(n),b[A](M,m[A]),isNaN(M)||(n=M))}return n},formatDate:function(t,i,n){if(!t)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(t,i,n);var a={d:t.getUTCDate(),D:g[n].daysShort[t.getUTCDay()],DD:g[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[n].monthsShort[t.getUTCMonth()],MM:g[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,t=[];for(var o=e.extend([],i.separators),r=0,s=i.parts.length;s>=r;r++)o.length&&t.push(o.shift()),t.push(a[i.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=h,this},e.fn.datepicker.version="1.5.0",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),p.call(i,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}),function(e){"use strict";var t=e(window),i=50,n=function(e,t,i){var n=0;return function(){var a,o;if(a=new Date,o=i-(a-n),o<=0)return n=a,e.apply(t,arguments)}},a=0,o=function(e){var t=(a++).toString();return function(){return this.cache[t]||(this.cache[t]=e.apply(this)),this.cache[t]}},r=function(){function a(i,a){this.$el=i,this.$el.css({width:this.$el.width()}),this.$wrapper=a.wrapper,"static"===this.$wrapper.css("position")&&this.$wrapper.css("position","relative"),this.sentinel=e("<div></div>").css({position:a.ignore?"absolute":"relative",top:0,height:0}),this.$el.before(this.sentinel),this.offsetTop=a.offsetTop||0,this.offsetBottom=a.offsetBottom||0,this.position=a.position||"top",this.ignore=a.ignore,this.ignore&&this.$el.css({position:"absolute",top:0}),this.handler=n("bottom"==this.position?this.onScrollBottom:this.onScrollTop,this,a.throttle||10),t.on("scroll",this.handler),t.on("resize",this.handler),this.handler()}return e.extend(a.prototype,{state:"top",same:!1,onScrollTop:function(){if(this.cache={},!this.ignore&&(this.same||"top"===this.state&&this.isSameHeight()))return void(this.same=!0);var e,t=this.getScrollTop()+this.offsetTop;e=t<this.getSentinelTop()?"top":t+this.getOuterHeight()>this.getSentinelBottom()?"bottom":"fixed",this.state===e&&"fixed"===e||this.transferTo(e)},onScrollBottom:function(){if(this.cache={},!this.ignore&&(this.same||"top"===this.state&&this.isSameHeight()))return void(this.same=!0);var e,i;i=this.getScrollTop()+t.height(),e=i>this.getSentinelBottom()?"bottom":i-this.getOuterHeight()<this.getSentinelTop()?"top":"fixed",this.state===e&&"fixed"===e||this.transferTo(e)},transferTo:function(e){this.state=e;var t;t="top"===this.state?{position:this.ignore?"absolute":"relative",top:0,bottom:""}:"bottom"===this.state?{position:"absolute",top:this.getWrapperHeight()-this.getOuterHeight(),bottom:""}:"bottom"===this.position?{position:"fixed",top:"",bottom:this.offsetBottom}:{position:"fixed",top:this.offsetTop,bottom:""},this.$el.css(t)},isSameHeight:function(){return this.getSentinelBottom()-this.getBottom()-this.offsetBottom<i},getScrollTop:o(function(){return t.scrollTop()}),getWrapperHeight:o(function(){return this.$wrapper.outerHeight()}),getOuterHeight:o(function(){return this.$el.outerHeight(!0)+this.offsetBottom}),getSentinelTop:o(function(){return this.sentinel.offset().top}),getSentinelBottom:o(function(){return this.$wrapper.offset().top+this.getWrapperHeight()+parseInt(this.$wrapper.css("margin-top"),10)}),getBottom:o(function(){return this.$el.offset().top+this.getOuterHeight()}),destroy:function(){this.$el&&(this.transferTo("top"),this.$el=this.$wrapper=null,t.off("scroll",this.handler),t.off("resize",this.handler))}}),a}();e.fn.scrollChaser=function(t){t||(t={}),t.wrapper?t.wrapper instanceof e||(t.wrapper=e(t.wrapper)):t.wrapper=e(document.body),this.scrollChaser=new r(this,t);var i=this,n=this.remove;return this.remove=function(){i.scrollChaser.destroy(),n.apply(i,arguments)},this},e.fn.outerHeight||(e.fn.outerHeight=function(e){var t=this.height();return e||(t-=parseInt(this.css("margin-bottom"),10),t-=parseInt(this.css("margin-top"),10)),t})}(window.jQuery||window.Zepto);var move=window.move=window.move||{};move.map=move.map||{},move.map.ui=move.map.ui||{},move.map.ui.Message=function(e,t){"use strict";var i,n,a=this,o={visibleChanged:[],closeClicked:[]};a.options=e,a.options.events=a.options.events||{},n=function(){if(!a.options.container){var e=a.options.mapContainer.parent();a.options.container=e.find(".js-map-message-container"),0===a.options.container.length&&(e.append('<div class="notification-container js-map-message-container absolute-centering"></div>'),a.options.container=e.find(".js-map-message-container"))}a.options.events.closeClicked&&a.onCloseClicked(a.options.events.closeClicked),t&&t()},a.setVisible=function(e){i!==e&&(i=e,i===!0?a.options.container.removeClass("hide").show():(a.options.container.hasClass("hide")||(jQuery(a.container).find(".close").unbind("click").end().find(".action").unbind("click"),a.options.container.addClass("hide").empty()),a.options.container.hide()),jQuery.each(o.visibleChanged,function(e,t){t(i)}))},a.getVisible=function(){return i},a.hide=function(){a.setVisible(!1)},a.show=function(e){if(e){var t;t='<section class="overlay-message notification"><div class="ra ra-close close-overlay"></div><p>'+e.message+"</p></section>",a.setVisible(!1),a.options.container.append(t),void 0===e.pos&&(jQuery(a.options.container).find(".close-overlay").click(function(e){jQuery.each(o.closeClicked,function(e,i){i&&i({message:t})}),a.hide(),e.stopPropagation()}).end(),a.setVisible(!0))}},a.onVisibleChanged=function(e){a.options.utils.addToEvents(e,o.visibleChanged)},a.onCloseClicked=function(e){a.options.utils.addToEvents(e,o.closeClicked)},n()},MOVE.DateFormat=function(e){var t=function(e){var t=e.getFullYear(),i=(1+e.getMonth()).toString();i=i.length>1?i:"0"+i;var n=e.getDate().toString();return n=n.length>1?n:"0"+n,i+"/"+n+"/"+t};return e.DateFormat={getFormattedDate:t},e.DateFormat}(MOVE||{}),MOVE.ShareEmailModal=function(e){var t,i,n,a,o,r,s,l="#shareEmailThankYou",c=function(){t=$("#js-trigger-fields"),i=$("#shareEmailModal"),n=$("#share_via_email"),a=$("#js-trigger-facebook"),o=$("#js-trigger-twitter"),r=$("#js-trigger-google-plus"),s=$("#js-trigger-pinterest"),h(),d(),u(),p(),v()},d=function(){a.on("click",function(){e.Medias.kruxPixel("KAVW8ly2",{type:"facebook"})}),o.on("click",function(){e.Medias.kruxPixel("KAVW8ly2",{type:"twitter"})}),r.on("click",function(){e.Medias.kruxPixel("KAVW8ly2",{type:"google+1"})}),s.on("click",function(){e.Medias.kruxPixel("KAVW8ly2",{type:"pinterest"})})},u=function(){i.on("hide.bs.modal",function(){$(".js-email-new-inputs").val(""),$(".js-email-new-div").remove(),t.is(":visible")||t.show()})},h=function(){if(e.LocalStorage.isAvailable&&(cachedInput=localStorage.getItem(e.CONSTANTS.CACHED_USER_INPUT_STOREAGE_NAME),cachedInput)){var t=JSON.parse(cachedInput);void 0===t.fullName&&""===t.fullName||n.find("#name").val(t.fullName),void 0===t.email&&""===t.email||n.find("#email").val(t.email)}},p=function(){n.validate({debug:!0,rules:{send_to_email:{required:!0,multiEmails:!0,maxFourEmails:!0},name:{required:!0,pattern:/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/},email:{email:!0,required:!0,pattern:/^.+@.+\..+$/}},messages:{send_to_email:{required:"Please enter your friend's email(s)",multiEmails:"One or more email address(es) is not valid",maxFourEmails:"Only 4 email addresses is allowed"},name:{required:"Please enter your full name",pattern:"Please enter valid full name"},email:{required:"Please enter your email",email:"Please enter a valid email",pattern:"Please enter a valid email"}},errorPlacement:function(e,t){e.insertAfter(t)}})},f=function(t,a){var o=model.getData()||{};"ok"===t?(e.Common.cacheInputs(n.find("#name"),n.find("#email")),i.modal("hide"),_satellite.track(a),o.status&&"for_rent"===o.status?g():m()):alert("Failed to send email. Please try again.")},m=function(){$(l).length?$(l).modal():e.Helper.fetchModal(l,{})};$.validator.addMethod("multiEmails",function(e){var t=e.split(/[,]+/),i=!0;for(var n in t)i=i&&/^.+@.+\..+$/.test($.trim(t[n]));return i},$.validator.messages.email),$.validator.addMethod("maxFourEmails",function(e){return e.split(/[;,]+/).length<=4},$.validator.messages.email);var g=function(){e.LDP.RentalLeadMovingModal.show("sf")},v=function(){$(document).on("click","#save-content-wrapper .ldp-save-not-logged-in",function(){$(l).modal("hide")})};return e.ShareEmailModal={init:c,afterSubmit:f},e.ShareEmailModal}(MOVE||{}),function(e){e.color={},e.color.make=function(t,i,n,a){var o={};return o.r=t||0,o.g=i||0,o.b=n||0,o.a=null!=a?a:1,o.add=function(e,t){for(var i=0;i<e.length;++i)o[e.charAt(i)]+=t;return o.normalize()},o.scale=function(e,t){for(var i=0;i<e.length;++i)o[e.charAt(i)]*=t;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}return o.r=e(0,parseInt(o.r),255),o.g=e(0,parseInt(o.g),255),o.b=e(0,parseInt(o.b),255),o.a=e(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(t,i){var n;do{if(n=t.css(i).toLowerCase(),""!=n&&"transparent"!=n)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),e.color.parse(n)},e.color.parse=function(i){var n,a=e.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return a(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return a(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return a(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return a(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return a(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return a(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var o=e.trim(i).toLowerCase();return"transparent"==o?a(255,255,255,0):(n=t[o]||[0,0,0],a(n[0],n[1],n[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){function t(t,i){var n=i.children("."+t)[0];if(null==n&&(n=document.createElement("canvas"),n.className=t,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var a=this.context=n.getContext("2d"),o=window.devicePixelRatio||1,r=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;this.pixelRatio=o/r,this.resize(i.width(),i.height()),this.textContainer=null,this.text={},this._textCache={}}function i(i,a,o,r){function s(e,t){t=[ge].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function l(){for(var i={Canvas:t},n=0;n<r.length;++n){var a=r[n];a.init(ge,i),a.options&&e.extend(!0,ae,a.options)}}function c(t){e.extend(!0,ae,t),t&&t.colors&&(ae.colors=t.colors),null==ae.xaxis.color&&(ae.xaxis.color=e.color.parse(ae.grid.color).scale("a",.22).toString()),null==ae.yaxis.color&&(ae.yaxis.color=e.color.parse(ae.grid.color).scale("a",.22).toString()),null==ae.xaxis.tickColor&&(ae.xaxis.tickColor=ae.grid.tickColor||ae.xaxis.color),null==ae.yaxis.tickColor&&(ae.yaxis.tickColor=ae.grid.tickColor||ae.yaxis.color),null==ae.grid.borderColor&&(ae.grid.borderColor=ae.grid.color),null==ae.grid.tickColor&&(ae.grid.tickColor=e.color.parse(ae.grid.color).scale("a",.22).toString());var n,a,o,r=i.css("font-size"),l=r?+r.replace("px",""):13,c={style:i.css("font-style"),size:Math.round(.8*l),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")};for(o=ae.xaxes.length||1,n=0;n<o;++n)a=ae.xaxes[n],a&&!a.tickColor&&(a.tickColor=a.color),a=e.extend(!0,{},ae.xaxis,a),ae.xaxes[n]=a,a.font&&(a.font=e.extend({},c,a.font),a.font.color||(a.font.color=a.color),a.font.lineHeight||(a.font.lineHeight=Math.round(1.15*a.font.size)));for(o=ae.yaxes.length||1,n=0;n<o;++n)a=ae.yaxes[n],a&&!a.tickColor&&(a.tickColor=a.color),a=e.extend(!0,{},ae.yaxis,a),ae.yaxes[n]=a,a.font&&(a.font=e.extend({},c,a.font),a.font.color||(a.font.color=a.color),a.font.lineHeight||(a.font.lineHeight=Math.round(1.15*a.font.size)));for(ae.xaxis.noTicks&&null==ae.xaxis.ticks&&(ae.xaxis.ticks=ae.xaxis.noTicks),ae.yaxis.noTicks&&null==ae.yaxis.ticks&&(ae.yaxis.ticks=ae.yaxis.noTicks),ae.x2axis&&(ae.xaxes[1]=e.extend(!0,{},ae.xaxis,ae.x2axis),ae.xaxes[1].position="top",null==ae.x2axis.min&&(ae.xaxes[1].min=null),null==ae.x2axis.max&&(ae.xaxes[1].max=null)),ae.y2axis&&(ae.yaxes[1]=e.extend(!0,{},ae.yaxis,ae.y2axis),ae.yaxes[1].position="right",null==ae.y2axis.min&&(ae.yaxes[1].min=null),null==ae.y2axis.max&&(ae.yaxes[1].max=null)),ae.grid.coloredAreas&&(ae.grid.markings=ae.grid.coloredAreas),ae.grid.coloredAreasColor&&(ae.grid.markingsColor=ae.grid.coloredAreasColor),ae.lines&&e.extend(!0,ae.series.lines,ae.lines),ae.points&&e.extend(!0,ae.series.points,ae.points),ae.bars&&e.extend(!0,ae.series.bars,ae.bars),null!=ae.shadowSize&&(ae.series.shadowSize=ae.shadowSize),null!=ae.highlightColor&&(ae.series.highlightColor=ae.highlightColor),n=0;n<ae.xaxes.length;++n)g(de,n+1).options=ae.xaxes[n];
for(n=0;n<ae.yaxes.length;++n)g(ue,n+1).options=ae.yaxes[n];for(var d in me)ae.hooks[d]&&ae.hooks[d].length&&(me[d]=me[d].concat(ae.hooks[d]));s(me.processOptions,[ae])}function d(e){ne=u(e),v(),y()}function u(t){for(var i=[],n=0;n<t.length;++n){var a=e.extend(!0,{},ae.series);null!=t[n].data?(a.data=t[n].data,delete t[n].data,e.extend(!0,a,t[n]),t[n].data=a.data):a.data=t[n],i.push(a)}return i}function h(e,t){var i=e[t+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function p(){return e.grep(de.concat(ue),function(e){return e})}function f(e){var t,i,n={};for(t=0;t<de.length;++t)i=de[t],i&&i.used&&(n["x"+i.n]=i.c2p(e.left));for(t=0;t<ue.length;++t)i=ue[t],i&&i.used&&(n["y"+i.n]=i.c2p(e.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function m(e){var t,i,n,a={};for(t=0;t<de.length;++t)if(i=de[t],i&&i.used&&(n="x"+i.n,null==e[n]&&1==i.n&&(n="x"),null!=e[n])){a.left=i.p2c(e[n]);break}for(t=0;t<ue.length;++t)if(i=ue[t],i&&i.used&&(n="y"+i.n,null==e[n]&&1==i.n&&(n="y"),null!=e[n])){a.top=i.p2c(e[n]);break}return a}function g(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==de?"x":"y",options:e.extend(!0,{},t==de?ae.xaxis:ae.yaxis)}),t[i-1]}function v(){var t,i=ne.length,n=-1;for(t=0;t<ne.length;++t){var a=ne[t].color;null!=a&&(i--,"number"==typeof a&&a>n&&(n=a))}i<=n&&(i=n+1);var o,r=[],s=ae.colors,l=s.length,c=0;for(t=0;t<i;t++)o=e.color.parse(s[t%l]||"#666"),t%l==0&&t&&(c=c>=0?c<.5?-c-.2:0:-c),r[t]=o.scale("rgb",1+c);var d,u=0;for(t=0;t<ne.length;++t){if(d=ne[t],null==d.color?(d.color=r[u].toString(),++u):"number"==typeof d.color&&(d.color=r[d.color].toString()),null==d.lines.show){var p,f=!0;for(p in d)if(d[p]&&d[p].show){f=!1;break}f&&(d.lines.show=!0)}null==d.lines.zero&&(d.lines.zero=!!d.lines.fill),d.xaxis=g(de,h(d,"x")),d.yaxis=g(ue,h(d,"y"))}}function y(){function t(e,t,i){t<e.datamin&&t!=-y&&(e.datamin=t),i>e.datamax&&i!=y&&(e.datamax=i)}var i,n,a,o,r,l,c,d,u,h,f,m,g=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,y=Number.MAX_VALUE;for(e.each(p(),function(e,t){t.datamin=g,t.datamax=v,t.used=!1}),i=0;i<ne.length;++i)r=ne[i],r.datapoints={points:[]},s(me.processRawData,[r,r.data,r.datapoints]);for(i=0;i<ne.length;++i){if(r=ne[i],f=r.data,m=r.datapoints.format,!m){if(m=[],m.push({x:!0,number:!0,required:!0}),m.push({y:!0,number:!0,required:!0}),r.bars.show||r.lines.show&&r.lines.fill){var b=!!(r.bars.show&&r.bars.zero||r.lines.show&&r.lines.zero);m.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b}),r.bars.horizontal&&(delete m[m.length-1].y,m[m.length-1].x=!0)}r.datapoints.format=m}if(null==r.datapoints.pointsize){r.datapoints.pointsize=m.length,c=r.datapoints.pointsize,l=r.datapoints.points;var x=r.lines.show&&r.lines.steps;for(r.xaxis.used=r.yaxis.used=!0,n=a=0;n<f.length;++n,a+=c){h=f[n];var w=null==h;if(!w)for(o=0;o<c;++o)d=h[o],u=m[o],u&&(u.number&&null!=d&&(d=+d,isNaN(d)?d=null:d==1/0?d=y:d==-(1/0)&&(d=-y)),null==d&&(u.required&&(w=!0),null!=u.defaultValue&&(d=u.defaultValue))),l[a+o]=d;if(w)for(o=0;o<c;++o)d=l[a+o],null!=d&&(u=m[o],u.autoscale!==!1&&(u.x&&t(r.xaxis,d,d),u.y&&t(r.yaxis,d,d))),l[a+o]=null;else if(x&&a>0&&null!=l[a-c]&&l[a-c]!=l[a]&&l[a-c+1]!=l[a+1]){for(o=0;o<c;++o)l[a+c+o]=l[a+o];l[a+1]=l[a-c+1],a+=c}}}}for(i=0;i<ne.length;++i)r=ne[i],s(me.processDatapoints,[r,r.datapoints]);for(i=0;i<ne.length;++i){r=ne[i],l=r.datapoints.points,c=r.datapoints.pointsize,m=r.datapoints.format;var M=g,A=g,S=v,_=v;for(n=0;n<l.length;n+=c)if(null!=l[n])for(o=0;o<c;++o)d=l[n+o],u=m[o],u&&u.autoscale!==!1&&d!=y&&d!=-y&&(u.x&&(d<M&&(M=d),d>S&&(S=d)),u.y&&(d<A&&(A=d),d>_&&(_=d)));if(r.bars.show){var E;switch(r.bars.align){case"left":E=0;break;case"right":E=-r.bars.barWidth;break;default:E=-r.bars.barWidth/2}r.bars.horizontal?(A+=E,_+=E+r.bars.barWidth):(M+=E,S+=E+r.bars.barWidth)}t(r.xaxis,M,S),t(r.yaxis,A,_)}e.each(p(),function(e,t){t.datamin==g&&(t.datamin=null),t.datamax==v&&(t.datamax=null)})}function b(){i.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),"static"==i.css("position")&&i.css("position","relative"),oe=new t("flot-base",i),re=new t("flot-overlay",i),le=oe.context,ce=re.context,se=e(re.element).unbind();var n=i.data("plot");n&&(n.shutdown(),re.clear()),i.data("plot",ge)}function x(){ae.grid.hoverable&&(se.mousemove(B),se.bind("mouseleave",G)),ae.grid.clickable&&se.click(q),s(me.bindEvents,[se])}function w(){ye&&clearTimeout(ye),se.unbind("mousemove",B),se.unbind("mouseleave",G),se.unbind("click",q),s(me.shutdown,[se])}function M(e){function t(e){return e}var i,n,a=e.options.transform||t,o=e.options.inverseTransform;"x"==e.direction?(i=e.scale=pe/Math.abs(a(e.max)-a(e.min)),n=Math.min(a(e.max),a(e.min))):(i=e.scale=fe/Math.abs(a(e.max)-a(e.min)),i=-i,n=Math.max(a(e.max),a(e.min))),a==t?e.p2c=function(e){return(e-n)*i}:e.p2c=function(e){return(a(e)-n)*i},o?e.c2p=function(e){return o(n+e/i)}:e.c2p=function(e){return n+e/i}}function A(e){for(var t=e.options,i=e.ticks||[],n=t.labelWidth||0,a=t.labelHeight||0,o=n||("x"==e.direction?Math.floor(oe.width/(i.length||1)):null),r=e.direction+"Axis "+e.direction+e.n+"Axis",s="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+r,l=t.font||"flot-tick-label tickLabel",c=0;c<i.length;++c){var d=i[c];if(d.label){var u=oe.getTextInfo(s,d.label,l,null,o);n=Math.max(n,u.width),a=Math.max(a,u.height)}}e.labelWidth=t.labelWidth||n,e.labelHeight=t.labelHeight||a}function S(t){var i=t.labelWidth,n=t.labelHeight,a=t.options.position,o="x"===t.direction,r=t.options.tickLength,s=ae.grid.axisMargin,l=ae.grid.labelMargin,c=!0,d=!0,u=!0,h=!1;e.each(o?de:ue,function(e,i){i&&(i.show||i.reserveSpace)&&(i===t?h=!0:i.options.position===a&&(h?d=!1:c=!1),h||(u=!1))}),d&&(s=0),null==r&&(r=u?"full":5),isNaN(+r)||(l+=+r),o?(n+=l,"bottom"==a?(he.bottom+=n+s,t.box={top:oe.height-he.bottom,height:n}):(t.box={top:he.top+s,height:n},he.top+=n+s)):(i+=l,"left"==a?(t.box={left:he.left+s,width:i},he.left+=i+s):(he.right+=i+s,t.box={left:oe.width-he.right,width:i})),t.position=a,t.tickLength=r,t.box.padding=l,t.innermost=c}function _(e){"x"==e.direction?(e.box.left=he.left-e.labelWidth/2,e.box.width=oe.width-he.left-he.right+e.labelWidth):(e.box.top=he.top-e.labelHeight/2,e.box.height=oe.height-he.bottom-he.top+e.labelHeight)}function E(){var t,i=ae.grid.minBorderMargin;if(null==i)for(i=0,t=0;t<ne.length;++t)i=Math.max(i,2*(ne[t].points.radius+ne[t].points.lineWidth/2));var n={left:i,right:i,top:i,bottom:i};e.each(p(),function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(n.left=Math.max(n.left,t.labelWidth/2),n.right=Math.max(n.right,t.labelWidth/2)):(n.bottom=Math.max(n.bottom,t.labelHeight/2),n.top=Math.max(n.top,t.labelHeight/2)))}),he.left=Math.ceil(Math.max(n.left,he.left)),he.right=Math.ceil(Math.max(n.right,he.right)),he.top=Math.ceil(Math.max(n.top,he.top)),he.bottom=Math.ceil(Math.max(n.bottom,he.bottom))}function C(){var t,i=p(),n=ae.grid.show;for(var a in he){var o=ae.grid.margin||0;he[a]="number"==typeof o?o:o[a]||0}s(me.processOffset,[he]);for(var a in he)"object"==typeof ae.grid.borderWidth?he[a]+=n?ae.grid.borderWidth[a]:0:he[a]+=n?ae.grid.borderWidth:0;if(e.each(i,function(e,t){var i=t.options;t.show=null==i.show?t.used:i.show,t.reserveSpace=null==i.reserveSpace?t.show:i.reserveSpace,k(t)}),n){var r=e.grep(i,function(e){return e.show||e.reserveSpace});for(e.each(r,function(e,t){O(t),T(t),D(t,t.ticks),A(t)}),t=r.length-1;t>=0;--t)S(r[t]);E(),e.each(r,function(e,t){_(t)})}pe=oe.width-he.left-he.right,fe=oe.height-he.bottom-he.top,e.each(i,function(e,t){M(t)}),n&&I(),W()}function k(e){var t=e.options,i=+(null!=t.min?t.min:e.datamin),n=+(null!=t.max?t.max:e.datamax),a=n-i;if(0==a){var o=0==n?1:.01;null==t.min&&(i-=o),null!=t.max&&null==t.min||(n+=o)}else{var r=t.autoscaleMargin;null!=r&&(null==t.min&&(i-=a*r,i<0&&null!=e.datamin&&e.datamin>=0&&(i=0)),null==t.max&&(n+=a*r,n>0&&null!=e.datamax&&e.datamax<=0&&(n=0)))}e.min=i,e.max=n}function O(t){var i,a=t.options;i="number"==typeof a.ticks&&a.ticks>0?a.ticks:.3*Math.sqrt("x"==t.direction?oe.width:oe.height);var o=(t.max-t.min)/i,r=-Math.floor(Math.log(o)/Math.LN10),s=a.tickDecimals;null!=s&&r>s&&(r=s);var l,c=Math.pow(10,-r),d=o/c;if(d<1.5?l=1:d<3?(l=2,d>2.25&&(null==s||r+1<=s)&&(l=2.5,++r)):l=d<7.5?5:10,l*=c,null!=a.minTickSize&&l<a.minTickSize&&(l=a.minTickSize),t.delta=o,t.tickDecimals=Math.max(0,null!=s?s:r),t.tickSize=a.tickSize||l,"time"==a.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){var t,i=[],a=n(e.min,e.tickSize),o=0,r=Number.NaN;do t=r,r=a+o*e.tickSize,i.push(r),++o;while(r<e.max&&r!=t);return i},t.tickFormatter=function(e,t){var i=t.tickDecimals?Math.pow(10,t.tickDecimals):1,n=""+Math.round(e*i)/i;if(null!=t.tickDecimals){var a=n.indexOf("."),o=a==-1?0:n.length-a-1;if(o<t.tickDecimals)return(o?n:n+".")+(""+i).substr(1,t.tickDecimals-o)}return n}),e.isFunction(a.tickFormatter)&&(t.tickFormatter=function(e,t){return""+a.tickFormatter(e,t)}),null!=a.alignTicksWithAxis){var u=("x"==t.direction?de:ue)[a.alignTicksWithAxis-1];if(u&&u.used&&u!=t){var h=t.tickGenerator(t);if(h.length>0&&(null==a.min&&(t.min=Math.min(t.min,h[0])),null==a.max&&h.length>1&&(t.max=Math.max(t.max,h[h.length-1]))),t.tickGenerator=function(e){var t,i,n=[];for(i=0;i<u.ticks.length;++i)t=(u.ticks[i].v-u.min)/(u.max-u.min),t=e.min+t*(e.max-e.min),n.push(t);return n},!t.mode&&null==a.tickDecimals){var p=Math.max(0,-Math.floor(Math.log(t.delta)/Math.LN10)+1),f=t.tickGenerator(t);f.length>1&&/\..*0$/.test((f[1]-f[0]).toFixed(p))||(t.tickDecimals=p)}}}}function T(t){var i=t.options.ticks,n=[];null==i||"number"==typeof i&&i>0?n=t.tickGenerator(t):i&&(n=e.isFunction(i)?i(t):i);var a,o;for(t.ticks=[],a=0;a<n.length;++a){var r=null,s=n[a];"object"==typeof s?(o=+s[0],s.length>1&&(r=s[1])):o=+s,null==r&&(r=t.tickFormatter(o,t)),isNaN(o)||t.ticks.push({v:o,label:r})}}function D(e,t){e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v)),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}function P(){oe.clear(),s(me.drawBackground,[le]);var e=ae.grid;e.show&&e.backgroundColor&&L(),e.show&&!e.aboveData&&N();for(var t=0;t<ne.length;++t)s(me.drawSeries,[le,ne[t]]),V(ne[t]);s(me.draw,[le]),e.show&&e.aboveData&&N(),oe.render(),K()}function R(e,t){for(var i,n,a,o,r=p(),s=0;s<r.length;++s)if(i=r[s],i.direction==t&&(o=t+i.n+"axis",e[o]||1!=i.n||(o=t+"axis"),e[o])){n=e[o].from,a=e[o].to;break}if(e[o]||(i="x"==t?de[0]:ue[0],n=e[t+"1"],a=e[t+"2"]),null!=n&&null!=a&&n>a){var l=n;n=a,a=l}return{from:n,to:a,axis:i}}function L(){le.save(),le.translate(he.left,he.top),le.fillStyle=ie(ae.grid.backgroundColor,fe,0,"rgba(255, 255, 255, 0)"),le.fillRect(0,0,pe,fe),le.restore()}function N(){var t,i,n,a;le.save(),le.translate(he.left,he.top);var o=ae.grid.markings;if(o)for(e.isFunction(o)&&(i=ge.getAxes(),i.xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,o=o(i)),t=0;t<o.length;++t){var r=o[t],s=R(r,"x"),l=R(r,"y");if(null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),!(s.to<s.axis.min||s.from>s.axis.max||l.to<l.axis.min||l.from>l.axis.max)){s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max);var c=s.from===s.to,d=l.from===l.to;if(!c||!d)if(s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),c||d){var u=r.lineWidth||ae.grid.markingsLineWidth,h=u%2?.5:0;le.beginPath(),le.strokeStyle=r.color||ae.grid.markingsColor,le.lineWidth=u,c?(le.moveTo(s.to+h,l.from),le.lineTo(s.to+h,l.to)):(le.moveTo(s.from,l.to+h),le.lineTo(s.to,l.to+h)),le.stroke()}else le.fillStyle=r.color||ae.grid.markingsColor,le.fillRect(s.from,l.to,s.to-s.from,l.from-l.to)}}i=p(),n=ae.grid.borderWidth;for(var f=0;f<i.length;++f){var m,g,v,y,b=i[f],x=b.box,w=b.tickLength;if(b.show&&0!=b.ticks.length){for(le.lineWidth=1,"x"==b.direction?(m=0,g="full"==w?"top"==b.position?0:fe:x.top-he.top+("top"==b.position?x.height:0)):(g=0,m="full"==w?"left"==b.position?0:pe:x.left-he.left+("left"==b.position?x.width:0)),b.innermost||(le.strokeStyle=b.options.color,le.beginPath(),v=y=0,"x"==b.direction?v=pe+1:y=fe+1,1==le.lineWidth&&("x"==b.direction?g=Math.floor(g)+.5:m=Math.floor(m)+.5),le.moveTo(m,g),le.lineTo(m+v,g+y),le.stroke()),le.strokeStyle=b.options.tickColor,le.beginPath(),t=0;t<b.ticks.length;++t){var M=b.ticks[t].v;v=y=0,isNaN(M)||M<b.min||M>b.max||"full"==w&&("object"==typeof n&&n[b.position]>0||n>0)&&(M==b.min||M==b.max)||("x"==b.direction?(m=b.p2c(M),y="full"==w?-fe:w,"top"==b.position&&(y=-y)):(g=b.p2c(M),v="full"==w?-pe:w,"left"==b.position&&(v=-v)),1==le.lineWidth&&("x"==b.direction?m=Math.floor(m)+.5:g=Math.floor(g)+.5),le.moveTo(m,g),le.lineTo(m+v,g+y))}le.stroke()}}n&&(a=ae.grid.borderColor,"object"==typeof n||"object"==typeof a?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof a&&(a={top:a,right:a,bottom:a,left:a}),n.top>0&&(le.strokeStyle=a.top,le.lineWidth=n.top,le.beginPath(),le.moveTo(0-n.left,0-n.top/2),le.lineTo(pe,0-n.top/2),le.stroke()),n.right>0&&(le.strokeStyle=a.right,le.lineWidth=n.right,le.beginPath(),le.moveTo(pe+n.right/2,0-n.top),le.lineTo(pe+n.right/2,fe),le.stroke()),n.bottom>0&&(le.strokeStyle=a.bottom,le.lineWidth=n.bottom,le.beginPath(),le.moveTo(pe+n.right,fe+n.bottom/2),le.lineTo(0,fe+n.bottom/2),le.stroke()),n.left>0&&(le.strokeStyle=a.left,le.lineWidth=n.left,le.beginPath(),le.moveTo(0-n.left/2,fe+n.bottom),le.lineTo(0-n.left/2,0),le.stroke())):(le.lineWidth=n,le.strokeStyle=ae.grid.borderColor,le.strokeRect(-n/2,-n/2,pe+n,fe+n))),le.restore()}function I(){e.each(p(),function(e,t){var i,n,a,o,r,s=t.box,l=t.direction+"Axis "+t.direction+t.n+"Axis",c="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+l,d=t.options.font||"flot-tick-label tickLabel";if(oe.removeText(c),t.show&&0!=t.ticks.length)for(var u=0;u<t.ticks.length;++u)i=t.ticks[u],!i.label||i.v<t.min||i.v>t.max||("x"==t.direction?(o="center",n=he.left+t.p2c(i.v),"bottom"==t.position?a=s.top+s.padding:(a=s.top+s.height-s.padding,r="bottom")):(r="middle",a=he.top+t.p2c(i.v),"left"==t.position?(n=s.left+s.width-s.padding,o="right"):n=s.left+s.padding),oe.addText(c,n,a,i.label,d,null,null,o,r))})}function V(e){e.lines.show&&$(e),e.bars.show&&z(e),e.points.show&&F(e)}function $(e){function t(e,t,i,n,a){var o=e.points,r=e.pointsize,s=null,l=null;le.beginPath();for(var c=r;c<o.length;c+=r){var d=o[c-r],u=o[c-r+1],h=o[c],p=o[c+1];if(null!=d&&null!=h){if(u<=p&&u<a.min){if(p<a.min)continue;d=(a.min-u)/(p-u)*(h-d)+d,u=a.min}else if(p<=u&&p<a.min){if(u<a.min)continue;h=(a.min-u)/(p-u)*(h-d)+d,p=a.min}if(u>=p&&u>a.max){if(p>a.max)continue;d=(a.max-u)/(p-u)*(h-d)+d,u=a.max}else if(p>=u&&p>a.max){if(u>a.max)continue;h=(a.max-u)/(p-u)*(h-d)+d,p=a.max}if(d<=h&&d<n.min){if(h<n.min)continue;u=(n.min-d)/(h-d)*(p-u)+u,d=n.min}else if(h<=d&&h<n.min){if(d<n.min)continue;p=(n.min-d)/(h-d)*(p-u)+u,h=n.min}if(d>=h&&d>n.max){if(h>n.max)continue;u=(n.max-d)/(h-d)*(p-u)+u,d=n.max}else if(h>=d&&h>n.max){if(d>n.max)continue;p=(n.max-d)/(h-d)*(p-u)+u,h=n.max}d==s&&u==l||le.moveTo(n.p2c(d)+t,a.p2c(u)+i),s=h,l=p,le.lineTo(n.p2c(h)+t,a.p2c(p)+i)}}le.stroke()}function i(e,t,i){for(var n=e.points,a=e.pointsize,o=Math.min(Math.max(0,i.min),i.max),r=0,s=!1,l=1,c=0,d=0;;){if(a>0&&r>n.length+a)break;r+=a;var u=n[r-a],h=n[r-a+l],p=n[r],f=n[r+l];if(s){if(a>0&&null!=u&&null==p){d=r,a=-a,l=2;continue}if(a<0&&r==c+a){le.fill(),s=!1,a=-a,l=1,r=c=d+a;continue}}if(null!=u&&null!=p){if(u<=p&&u<t.min){if(p<t.min)continue;h=(t.min-u)/(p-u)*(f-h)+h,u=t.min}else if(p<=u&&p<t.min){if(u<t.min)continue;f=(t.min-u)/(p-u)*(f-h)+h,p=t.min}if(u>=p&&u>t.max){if(p>t.max)continue;h=(t.max-u)/(p-u)*(f-h)+h,u=t.max}else if(p>=u&&p>t.max){if(u>t.max)continue;f=(t.max-u)/(p-u)*(f-h)+h,p=t.max}if(s||(le.beginPath(),le.moveTo(t.p2c(u),i.p2c(o)),s=!0),h>=i.max&&f>=i.max)le.lineTo(t.p2c(u),i.p2c(i.max)),le.lineTo(t.p2c(p),i.p2c(i.max));else if(h<=i.min&&f<=i.min)le.lineTo(t.p2c(u),i.p2c(i.min)),le.lineTo(t.p2c(p),i.p2c(i.min));else{var m=u,g=p;h<=f&&h<i.min&&f>=i.min?(u=(i.min-h)/(f-h)*(p-u)+u,h=i.min):f<=h&&f<i.min&&h>=i.min&&(p=(i.min-h)/(f-h)*(p-u)+u,f=i.min),h>=f&&h>i.max&&f<=i.max?(u=(i.max-h)/(f-h)*(p-u)+u,h=i.max):f>=h&&f>i.max&&h<=i.max&&(p=(i.max-h)/(f-h)*(p-u)+u,f=i.max),u!=m&&le.lineTo(t.p2c(m),i.p2c(h)),le.lineTo(t.p2c(u),i.p2c(h)),le.lineTo(t.p2c(p),i.p2c(f)),p!=g&&(le.lineTo(t.p2c(p),i.p2c(f)),le.lineTo(t.p2c(g),i.p2c(f)))}}}}le.save(),le.translate(he.left,he.top),le.lineJoin="round";var n=e.lines.lineWidth,a=e.shadowSize;if(n>0&&a>0){le.lineWidth=a,le.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;t(e.datapoints,Math.sin(o)*(n/2+a/2),Math.cos(o)*(n/2+a/2),e.xaxis,e.yaxis),le.lineWidth=a/2,t(e.datapoints,Math.sin(o)*(n/2+a/4),Math.cos(o)*(n/2+a/4),e.xaxis,e.yaxis)}le.lineWidth=n,le.strokeStyle=e.color;var r=U(e.lines,e.color,0,fe);r&&(le.fillStyle=r,i(e.datapoints,e.xaxis,e.yaxis)),n>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis),le.restore()}function F(e){function t(e,t,i,n,a,o,r,s){for(var l=e.points,c=e.pointsize,d=0;d<l.length;d+=c){var u=l[d],h=l[d+1];null==u||u<o.min||u>o.max||h<r.min||h>r.max||(le.beginPath(),u=o.p2c(u),h=r.p2c(h)+n,"circle"==s?le.arc(u,h,t,0,a?Math.PI:2*Math.PI,!1):s(le,u,h,t,a),le.closePath(),i&&(le.fillStyle=i,le.fill()),le.stroke())}}le.save(),le.translate(he.left,he.top);var i=e.points.lineWidth,n=e.shadowSize,a=e.points.radius,o=e.points.symbol;if(0==i&&(i=1e-4),i>0&&n>0){var r=n/2;le.lineWidth=r,le.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,a,null,r+r/2,!0,e.xaxis,e.yaxis,o),le.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,a,null,r/2,!0,e.xaxis,e.yaxis,o)}le.lineWidth=i,le.strokeStyle=e.color,t(e.datapoints,a,U(e.points,e.color),0,!1,e.xaxis,e.yaxis,o),le.restore()}function H(e,t,i,n,a,o,r,s,l,c,d){var u,h,p,f,m,g,v,y,b;c?(y=g=v=!0,m=!1,u=i,h=e,f=t+n,p=t+a,h<u&&(b=h,h=u,u=b,m=!0,g=!1)):(m=g=v=!0,y=!1,u=e+n,h=e+a,p=i,f=t,f<p&&(b=f,f=p,p=b,y=!0,v=!1)),h<r.min||u>r.max||f<s.min||p>s.max||(u<r.min&&(u=r.min,m=!1),h>r.max&&(h=r.max,g=!1),p<s.min&&(p=s.min,y=!1),f>s.max&&(f=s.max,v=!1),u=r.p2c(u),p=s.p2c(p),h=r.p2c(h),f=s.p2c(f),o&&(l.fillStyle=o(p,f),l.fillRect(u,f,h-u,p-f)),d>0&&(m||g||v||y)&&(l.beginPath(),l.moveTo(u,p),m?l.lineTo(u,f):l.moveTo(u,f),v?l.lineTo(h,f):l.moveTo(h,f),g?l.lineTo(h,p):l.moveTo(h,p),y?l.lineTo(u,p):l.moveTo(u,p),l.stroke()))}function z(e){function t(t,i,n,a,o,r){for(var s=t.points,l=t.pointsize,c=0;c<s.length;c+=l)null!=s[c]&&H(s[c],s[c+1],s[c+2],i,n,a,o,r,le,e.bars.horizontal,e.bars.lineWidth)}le.save(),le.translate(he.left,he.top),le.lineWidth=e.bars.lineWidth,le.strokeStyle=e.color;var i;switch(e.bars.align){case"left":i=0;break;case"right":i=-e.bars.barWidth;break;default:i=-e.bars.barWidth/2}var n=e.bars.fill?function(t,i){return U(e.bars,e.color,t,i)}:null;t(e.datapoints,i,i+e.bars.barWidth,n,e.xaxis,e.yaxis),le.restore()}function U(t,i,n,a){var o=t.fill;if(!o)return null;if(t.fillColor)return ie(t.fillColor,n,a,i);var r=e.color.parse(i);return r.a="number"==typeof o?o:.4,r.normalize(),r.toString()}function W(){if(null!=ae.legend.container?e(ae.legend.container).html(""):i.find(".legend").remove(),ae.legend.show){for(var t,n,a=[],o=[],r=!1,s=ae.legend.labelFormatter,l=0;l<ne.length;++l)t=ne[l],t.label&&(n=s?s(t.label,t):t.label,n&&o.push({label:n,color:t.color}));if(ae.legend.sorted)if(e.isFunction(ae.legend.sorted))o.sort(ae.legend.sorted);else if("reverse"==ae.legend.sorted)o.reverse();else{var c="descending"!=ae.legend.sorted;o.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=c?1:-1})}for(var l=0;l<o.length;++l){var d=o[l];l%ae.legend.noColumns==0&&(r&&a.push("</tr>"),a.push("<tr>"),r=!0),a.push('<td class="legendColorBox"><div style="border:1px solid '+ae.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+d.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+d.label+"</td>")}if(r&&a.push("</tr>"),0!=a.length){var u='<table style="font-size:smaller;color:'+ae.grid.color+'">'+a.join("")+"</table>";if(null!=ae.legend.container)e(ae.legend.container).html(u);else{var h="",p=ae.legend.position,f=ae.legend.margin;null==f[0]&&(f=[f,f]),"n"==p.charAt(0)?h+="top:"+(f[1]+he.top)+"px;":"s"==p.charAt(0)&&(h+="bottom:"+(f[1]+he.bottom)+"px;"),"e"==p.charAt(1)?h+="right:"+(f[0]+he.right)+"px;":"w"==p.charAt(1)&&(h+="left:"+(f[0]+he.left)+"px;");var m=e('<div class="legend">'+u.replace('style="','style="position:absolute;'+h+";")+"</div>").appendTo(i);if(0!=ae.legend.backgroundOpacity){var g=ae.legend.backgroundColor;null==g&&(g=ae.grid.backgroundColor,g=g&&"string"==typeof g?e.color.parse(g):e.color.extract(m,"background-color"),g.a=1,g=g.toString());var v=m.children();e('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+h+"background-color:"+g+';"> </div>').prependTo(m).css("opacity",ae.legend.backgroundOpacity)}}}}}function j(e,t,i){var n,a,o,r=ae.grid.mouseActiveRadius,s=r*r+1,l=null;for(n=ne.length-1;n>=0;--n)if(i(ne[n])){var c=ne[n],d=c.xaxis,u=c.yaxis,h=c.datapoints.points,p=d.c2p(e),f=u.c2p(t),m=r/d.scale,g=r/u.scale;if(o=c.datapoints.pointsize,d.options.inverseTransform&&(m=Number.MAX_VALUE),u.options.inverseTransform&&(g=Number.MAX_VALUE),c.lines.show||c.points.show)for(a=0;a<h.length;a+=o){var v=h[a],y=h[a+1];if(null!=v&&!(v-p>m||v-p<-m||y-f>g||y-f<-g)){var b=Math.abs(d.p2c(v)-e),x=Math.abs(u.p2c(y)-t),w=b*b+x*x;w<s&&(s=w,l=[n,a/o])}}if(c.bars.show&&!l){var M,A;switch(c.bars.align){case"left":M=0;break;case"right":M=-c.bars.barWidth;break;default:M=-c.bars.barWidth/2}for(A=M+c.bars.barWidth,a=0;a<h.length;a+=o){var v=h[a],y=h[a+1],S=h[a+2];null!=v&&(ne[n].bars.horizontal?p<=Math.max(S,v)&&p>=Math.min(S,v)&&f>=y+M&&f<=y+A:p>=v+M&&p<=v+A&&f>=Math.min(S,y)&&f<=Math.max(S,y))&&(l=[n,a/o])}}}return l?(n=l[0],a=l[1],o=ne[n].datapoints.pointsize,{datapoint:ne[n].datapoints.points.slice(a*o,(a+1)*o),dataIndex:a,series:ne[n],seriesIndex:n}):null}function B(e){ae.grid.hoverable&&Y("plothover",e,function(e){return 0!=e.hoverable})}function G(e){ae.grid.hoverable&&Y("plothover",e,function(){return!1})}function q(e){Y("plotclick",e,function(e){return 0!=e.clickable})}function Y(e,t,n){var a=se.offset(),o=t.pageX-a.left-he.left,r=t.pageY-a.top-he.top,s=f({left:o,top:r});s.pageX=t.pageX,s.pageY=t.pageY;var l=j(o,r,n);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+a.left+he.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+a.top+he.top,10)),ae.grid.autoHighlight){for(var c=0;c<ve.length;++c){var d=ve[c];d.auto!=e||l&&d.series==l.series&&d.point[0]==l.datapoint[0]&&d.point[1]==l.datapoint[1]||Q(d.series,d.point)}l&&Z(l.series,l.datapoint,e)}i.trigger(e,[s,l])}function K(){var e=ae.interaction.redrawOverlayInterval;return e==-1?void J():void(ye||(ye=setTimeout(J,e)))}function J(){ye=null,ce.save(),re.clear(),ce.translate(he.left,he.top);var e,t;for(e=0;e<ve.length;++e)t=ve[e],t.series.bars.show?te(t.series,t.point):ee(t.series,t.point);ce.restore(),s(me.drawOverlay,[ce])}function Z(e,t,i){if("number"==typeof e&&(e=ne[e]),"number"==typeof t){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var a=X(e,t);a==-1?(ve.push({series:e,point:t,auto:i}),K()):i||(ve[a].auto=!1)}function Q(e,t){if(null==e&&null==t)return ve=[],void K();if("number"==typeof e&&(e=ne[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var n=X(e,t);n!=-1&&(ve.splice(n,1),K())}function X(e,t){for(var i=0;i<ve.length;++i){var n=ve[i];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return i}return-1}function ee(t,i){var n=i[0],a=i[1],o=t.xaxis,r=t.yaxis,s="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(n<o.min||n>o.max||a<r.min||a>r.max)){var l=t.points.radius+t.points.lineWidth/2;ce.lineWidth=l,ce.strokeStyle=s;var c=1.5*l;n=o.p2c(n),a=r.p2c(a),ce.beginPath(),"circle"==t.points.symbol?ce.arc(n,a,c,0,2*Math.PI,!1):t.points.symbol(ce,n,a,c,!1),ce.closePath(),ce.stroke()}}function te(t,i){var n,a="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),o=a;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}ce.lineWidth=t.bars.lineWidth,ce.strokeStyle=a,H(i[0],i[1],i[2]||0,n,n+t.bars.barWidth,function(){return o},t.xaxis,t.yaxis,ce,t.bars.horizontal,t.bars.lineWidth)}function ie(t,i,n,a){if("string"==typeof t)return t;for(var o=le.createLinearGradient(0,n,0,i),r=0,s=t.colors.length;r<s;++r){var l=t.colors[r];if("string"!=typeof l){var c=e.color.parse(a);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}o.addColorStop(r/(s-1),l)}return o}var ne=[],ae={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},oe=null,re=null,se=null,le=null,ce=null,de=[],ue=[],he={left:0,right:0,top:0,bottom:0},pe=0,fe=0,me={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ge=this;ge.setData=d,ge.setupGrid=C,ge.draw=P,ge.getPlaceholder=function(){return i},ge.getCanvas=function(){return oe.element},ge.getPlotOffset=function(){return he},ge.width=function(){return pe},ge.height=function(){return fe},ge.offset=function(){var e=se.offset();return e.left+=he.left,e.top+=he.top,e},ge.getData=function(){return ne},ge.getAxes=function(){var t={};return e.each(de.concat(ue),function(e,i){i&&(t[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),t},ge.getXAxes=function(){return de},ge.getYAxes=function(){return ue},ge.c2p=f,ge.p2c=m,ge.getOptions=function(){return ae},ge.highlight=Z,ge.unhighlight=Q,ge.triggerRedrawOverlay=K,ge.pointOffset=function(e){return{left:parseInt(de[h(e,"x")-1].p2c(+e.x)+he.left,10),top:parseInt(ue[h(e,"y")-1].p2c(+e.y)+he.top,10)}},ge.shutdown=w,ge.destroy=function(){w(),i.removeData("plot").empty(),ne=[],ae=null,oe=null,re=null,se=null,le=null,ce=null,de=[],ue=[],me=null,ve=[],ge=null},ge.resize=function(){var e=i.width(),t=i.height();oe.resize(e,t),re.resize(e,t)},ge.hooks=me,l(ge),c(o),b(),d(a),C(),P(),x();var ve=[],ye=null}function n(e,t){return t*Math.floor(e/t)}var a=Object.prototype.hasOwnProperty;e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),t.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var i=this.element,n=this.context,a=this.pixelRatio;this.width!=e&&(i.width=e*a,i.style.width=e+"px",this.width=e),this.height!=t&&(i.height=t*a,i.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(a,a)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var e=this._textCache;for(var t in e)if(a.call(e,t)){var i=this.getTextLayer(t),n=e[t];i.hide();for(var o in n)if(a.call(n,o)){var r=n[o];for(var s in r)if(a.call(r,s)){for(var l,c=r[s].positions,d=0;l=c[d];d++)l.active?l.rendered||(i.append(l.element),l.rendered=!0):(c.splice(d--,1),l.rendered&&l.element.detach());0==c.length&&delete r[s]}}i.show()}},t.prototype.getTextLayer=function(t){var i=this.text[t];return null==i&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i},t.prototype.getTextInfo=function(t,i,n,a,o){var r,s,l,c;if(i=""+i,r="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,s=this._textCache[t],null==s&&(s=this._textCache[t]={}),l=s[r],null==l&&(l=s[r]={}),c=l[i],null==c){var d=e("<div></div>").html(i).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof n?d.css({font:r,color:n.color}):"string"==typeof n&&d.addClass(n),c=l[i]={width:d.outerWidth(!0),height:d.outerHeight(!0),element:d,positions:[]},d.detach()}return c},t.prototype.addText=function(e,t,i,n,a,o,r,s,l){var c=this.getTextInfo(e,n,a,o,r),d=c.positions;"center"==s?t-=c.width/2:"right"==s&&(t-=c.width),"middle"==l?i-=c.height/2:"bottom"==l&&(i-=c.height);for(var u,h=0;u=d[h];h++)if(u.x==t&&u.y==i)return void(u.active=!0);u={active:!0,rendered:!1,element:d.length?c.element.clone():c.element,x:t,y:i},d.push(u),u.element.css({top:Math.round(i),left:Math.round(t),"text-align":s})},t.prototype.removeText=function(e,t,i,n,o,r){if(null==n){var s=this._textCache[e];if(null!=s)for(var l in s)if(a.call(s,l)){var c=s[l];for(var d in c)if(a.call(c,d))for(var u,h=c[d].positions,p=0;u=h[p];p++)u.active=!1}}else for(var u,h=this.getTextInfo(e,n,o,r).positions,p=0;u=h[p];p++)u.x==t&&u.y==i&&(u.active=!1)},e.plot=function(t,n,a){var o=new i(e(t),n,a,e.plot.plugins);return o},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(t,i){return this.each(function(){e.plot(this,t,i)})}}(jQuery),function(e){function t(t){function a(t){A||(A=!0,v=t.getCanvas(),y=e(v).parent(),b=t.getOptions(),t.setData(o(t.getData())))}function o(t){for(var i=0,n=0,a=0,o=b.series.pie.combine.color,r=[],s=0;s<t.length;++s){var l=t[s].data;e.isArray(l)&&1==l.length&&(l=l[0]),e.isArray(l)?!isNaN(parseFloat(l[1]))&&isFinite(l[1])?l[1]=+l[1]:l[1]=0:l=!isNaN(parseFloat(l))&&isFinite(l)?[1,+l]:[1,0],t[s].data=[l]}for(var s=0;s<t.length;++s)i+=t[s].data[0][1];for(var s=0;s<t.length;++s){var l=t[s].data[0][1];l/i<=b.series.pie.combine.threshold&&(n+=l,a++,o||(o=t[s].color))}for(var s=0;s<t.length;++s){var l=t[s].data[0][1];(a<2||l/i>b.series.pie.combine.threshold)&&r.push(e.extend(t[s],{data:[[1,l]],color:t[s].color,label:t[s].label,angle:l*Math.PI*2/i,percent:l/(i/100)}))}return a>1&&r.push({data:[[1,n]],color:o,label:b.series.pie.combine.label,angle:n*Math.PI*2/i,percent:n/(i/100)}),r}function r(t,a){function o(){S.clearRect(0,0,c,d),y.children().filter(".pieLabel, .pieLabelBackground").remove()}function r(){var e=b.series.pie.shadow.left,t=b.series.pie.shadow.top,i=10,n=b.series.pie.shadow.alpha,a=b.series.pie.radius>1?b.series.pie.radius:x*b.series.pie.radius;if(!(a>=c/2-e||a*b.series.pie.tilt>=d/2-t||a<=i)){S.save(),S.translate(e,t),S.globalAlpha=n,S.fillStyle="#000",S.translate(w,M),S.scale(1,b.series.pie.tilt);for(var o=1;o<=i;o++)S.beginPath(),S.arc(0,0,a,0,2*Math.PI,!1),S.fill(),a-=o;S.restore()}}function l(){function t(e,t,i){e<=0||isNaN(e)||(i?S.fillStyle=t:(S.strokeStyle=t,S.lineJoin="round"),S.beginPath(),Math.abs(e-2*Math.PI)>1e-9&&S.moveTo(0,0),S.arc(0,0,a,o,o+e/2,!1),S.arc(0,0,a,o+e/2,o+e,!1),S.closePath(),o+=e,i?S.fill():S.stroke())}function i(){function t(t,i,n){if(0==t.data[0][1])return!0;var o,r=b.legend.labelFormatter,s=b.series.pie.label.formatter;o=r?r(t.label,t):t.label,s&&(o=s(o,t));var l=(i+t.angle+i)/2,u=w+Math.round(Math.cos(l)*a),h=M+Math.round(Math.sin(l)*a)*b.series.pie.tilt,p="<span class='pieLabel' id='pieLabel"+n+"' style='position:absolute;top:"+h+"px;left:"+u+"px;'>"+o+"</span>";y.append(p);var f=y.children("#pieLabel"+n),m=h-f.height()/2,g=u-f.width()/2;if(f.css("top",m),f.css("left",g),0-m>0||0-g>0||d-(m+f.height())<0||c-(g+f.width())<0)return!1;if(0!=b.series.pie.label.background.opacity){var v=b.series.pie.label.background.color;null==v&&(v=t.color);var x="top:"+m+"px;left:"+g+"px;";e("<div class='pieLabelBackground' style='position:absolute;width:"+f.width()+"px;height:"+f.height()+"px;"+x+"background-color:"+v+";'></div>").css("opacity",b.series.pie.label.background.opacity).insertBefore(f);
}return!0}for(var i=n,a=b.series.pie.label.radius>1?b.series.pie.label.radius:x*b.series.pie.label.radius,o=0;o<h.length;++o){if(h[o].percent>=100*b.series.pie.label.threshold&&!t(h[o],i,o))return!1;i+=h[o].angle}return!0}var n=Math.PI*b.series.pie.startAngle,a=b.series.pie.radius>1?b.series.pie.radius:x*b.series.pie.radius;S.save(),S.translate(w,M),S.scale(1,b.series.pie.tilt),S.save();for(var o=n,r=0;r<h.length;++r)h[r].startAngle=o,t(h[r].angle,h[r].color,!0);if(S.restore(),b.series.pie.stroke.width>0){S.save(),S.lineWidth=b.series.pie.stroke.width,o=n;for(var r=0;r<h.length;++r)t(h[r].angle,b.series.pie.stroke.color,!1);S.restore()}return s(S),S.restore(),!b.series.pie.label.show||i()}if(y){var c=t.getPlaceholder().width(),d=t.getPlaceholder().height(),u=y.children().filter(".legend").children().width()||0;S=a,A=!1,x=Math.min(c,d/b.series.pie.tilt)/2,M=d/2+b.series.pie.offset.top,w=c/2,"auto"==b.series.pie.offset.left?(b.legend.position.match("w")?w+=u/2:w-=u/2,w<x?w=x:w>c-x&&(w=c-x)):w+=b.series.pie.offset.left;var h=t.getData(),p=0;do p>0&&(x*=n),p+=1,o(),b.series.pie.tilt<=.8&&r();while(!l()&&p<i);p>=i&&(o(),y.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),t.setSeries&&t.insertLegend&&(t.setSeries(h),t.insertLegend())}}function s(e){if(b.series.pie.innerRadius>0){e.save();var t=b.series.pie.innerRadius>1?b.series.pie.innerRadius:x*b.series.pie.innerRadius;e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=b.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=b.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore()}}function l(e,t){for(var i=!1,n=-1,a=e.length,o=a-1;++n<a;o=n)(e[n][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[n][1])&&t[0]<(e[o][0]-e[n][0])*(t[1]-e[n][1])/(e[o][1]-e[n][1])+e[n][0]&&(i=!i);return i}function c(e,i){for(var n,a,o=t.getData(),r=t.getOptions(),s=r.series.pie.radius>1?r.series.pie.radius:x*r.series.pie.radius,c=0;c<o.length;++c){var d=o[c];if(d.pie.show){if(S.save(),S.beginPath(),S.moveTo(0,0),S.arc(0,0,s,d.startAngle,d.startAngle+d.angle/2,!1),S.arc(0,0,s,d.startAngle+d.angle/2,d.startAngle+d.angle,!1),S.closePath(),n=e-w,a=i-M,S.isPointInPath){if(S.isPointInPath(e-w,i-M))return S.restore(),{datapoint:[d.percent,d.data],dataIndex:0,series:d,seriesIndex:c}}else{var u=s*Math.cos(d.startAngle),h=s*Math.sin(d.startAngle),p=s*Math.cos(d.startAngle+d.angle/4),f=s*Math.sin(d.startAngle+d.angle/4),m=s*Math.cos(d.startAngle+d.angle/2),g=s*Math.sin(d.startAngle+d.angle/2),v=s*Math.cos(d.startAngle+d.angle/1.5),y=s*Math.sin(d.startAngle+d.angle/1.5),b=s*Math.cos(d.startAngle+d.angle),A=s*Math.sin(d.startAngle+d.angle),_=[[0,0],[u,h],[p,f],[m,g],[v,y],[b,A]],E=[n,a];if(l(_,E))return S.restore(),{datapoint:[d.percent,d.data],dataIndex:0,series:d,seriesIndex:c}}S.restore()}}return null}function d(e){h("plothover",e)}function u(e){h("plotclick",e)}function h(e,i){var n=t.offset(),a=parseInt(i.pageX-n.left),o=parseInt(i.pageY-n.top),r=c(a,o);if(b.grid.autoHighlight)for(var s=0;s<_.length;++s){var l=_[s];l.auto!=e||r&&l.series==r.series||f(l.series)}r&&p(r.series,e);var d={pageX:i.pageX,pageY:i.pageY};y.trigger(e,[d,r])}function p(e,i){var n=m(e);n==-1?(_.push({series:e,auto:i}),t.triggerRedrawOverlay()):i||(_[n].auto=!1)}function f(e){null==e&&(_=[],t.triggerRedrawOverlay());var i=m(e);i!=-1&&(_.splice(i,1),t.triggerRedrawOverlay())}function m(e){for(var t=0;t<_.length;++t){var i=_[t];if(i.series==e)return t}return-1}function g(e,t){function i(e){e.angle<=0||isNaN(e.angle)||(t.fillStyle="rgba(255, 255, 255, "+n.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(e.angle-2*Math.PI)>1e-9&&t.moveTo(0,0),t.arc(0,0,a,e.startAngle,e.startAngle+e.angle/2,!1),t.arc(0,0,a,e.startAngle+e.angle/2,e.startAngle+e.angle,!1),t.closePath(),t.fill())}var n=e.getOptions(),a=n.series.pie.radius>1?n.series.pie.radius:x*n.series.pie.radius;t.save(),t.translate(w,M),t.scale(1,n.series.pie.tilt);for(var o=0;o<_.length;++o)i(_[o].series);s(t),t.restore()}var v=null,y=null,b=null,x=null,w=null,M=null,A=!1,S=null,_=[];t.hooks.processOptions.push(function(e,t){t.series.pie.show&&(t.grid.show=!1,"auto"==t.series.pie.label.show&&(t.legend.show?t.series.pie.label.show=!1:t.series.pie.label.show=!0),"auto"==t.series.pie.radius&&(t.series.pie.label.show?t.series.pie.radius=.75:t.series.pie.radius=1),t.series.pie.tilt>1?t.series.pie.tilt=1:t.series.pie.tilt<0&&(t.series.pie.tilt=0))}),t.hooks.bindEvents.push(function(e,t){var i=e.getOptions();i.series.pie.show&&(i.grid.hoverable&&t.unbind("mousemove").mousemove(d),i.grid.clickable&&t.unbind("click").click(u))}),t.hooks.processDatapoints.push(function(e,t,i,n){var o=e.getOptions();o.series.pie.show&&a(e,t,i,n)}),t.hooks.drawOverlay.push(function(e,t){var i=e.getOptions();i.series.pie.show&&g(e,t)}),t.hooks.draw.push(function(e,t){var i=e.getOptions();i.series.pie.show&&r(e,t)})}var i=10,n=.95,a={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(e,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};e.plot.plugins.push({init:t,options:a,name:"pie",version:"1.1"})}(jQuery),function(e,t,i){"$:nomunge";function n(i){s===!0&&(s=i||1);for(var l=o.length-1;l>=0;l--){var h=e(o[l]);if(h[0]==t||h.is(":visible")){var p=h.width(),f=h.height(),m=h.data(d);!m||p===m.w&&f===m.h||(h.trigger(c,[m.w=p,m.h=f]),s=i||!0)}else m=h.data(d),m.w=0,m.h=0}null!==a&&(s&&(null==i||i-s<1e3)?a=t.requestAnimationFrame(n):(a=setTimeout(n,r[u]),s=!1))}var a,o=[],r=e.resize=e.extend(e.resize,{}),s=!1,l="setTimeout",c="resize",d=c+"-special-event",u="pendingDelay",h="activeDelay",p="throttleWindow";r[u]=200,r[h]=20,r[p]=!0,e.event.special[c]={setup:function(){if(!r[p]&&this[l])return!1;var t=e(this);o.push(this),t.data(d,{w:t.width(),h:t.height()}),1===o.length&&(a=i,n())},teardown:function(){if(!r[p]&&this[l])return!1;for(var t=e(this),i=o.length-1;i>=0;i--)if(o[i]==this){o.splice(i,1);break}t.removeData(d),o.length||(s?cancelAnimationFrame(a):clearTimeout(a),a=null)},add:function(t){function n(t,n,o){var r=e(this),s=r.data(d)||{};s.w=n!==i?n:r.width(),s.h=o!==i?o:r.height(),a.apply(this,arguments)}if(!r[p]&&this[l])return!1;var a;return e.isFunction(t)?(a=t,n):(a=t.handler,void(t.handler=n))}},t.requestAnimationFrame||(t.requestAnimationFrame=function(){return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return t.setTimeout(function(){e((new Date).getTime())},r[h])}}()),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(){return t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(e){function t(e){function t(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}function i(e){e.getPlaceholder().resize(t)}function n(e){e.getPlaceholder().unbind("resize",t)}e.hooks.bindEvents.push(i),e.hooks.shutdown.push(n)}var i={};e.plot.plugins.push({init:t,options:i,name:"resize",version:"1.0"})}(jQuery),function(e){function t(){return!!document.createElement("canvas").getContext}function i(){if(!t())return!1;var e=document.createElement("canvas"),i=e.getContext("2d");return"function"==typeof i.fillText}function n(){var e=document.createElement("div");return"undefined"!=typeof e.style.MozTransition||"undefined"!=typeof e.style.OTransition||"undefined"!=typeof e.style.webkitTransition||"undefined"!=typeof e.style.transition}function a(e,t,i,n,a){this.axisName=e,this.position=t,this.padding=i,this.plot=n,this.opts=a,this.width=0,this.height=0}function o(e,t,i,n,o){a.prototype.constructor.call(this,e,t,i,n,o)}function r(e,t,i,n,o){a.prototype.constructor.call(this,e,t,i,n,o),this.elem=null}function s(e,t,i,n,a){r.prototype.constructor.call(this,e,t,i,n,a)}function l(e,t,i,n,a){s.prototype.constructor.call(this,e,t,i,n,a),this.requiresResize=!1}function c(t){t.hooks.processOptions.push(function(t,a){if(a.axisLabels.show){var c=!1,d={},u=2;t.hooks.draw.push(function(t){var a=!1;c?(c=!1,e.each(t.getAxes(),function(e,i){var n=i.options||t.getOptions()[e];n&&n.axisLabel&&i.show&&d[e].draw(i.box)})):(e.each(t.getAxes(),function(e,c){var h=c.options||t.getOptions()[e];if(e in d&&(c.labelHeight=c.labelHeight-d[e].height,c.labelWidth=c.labelWidth-d[e].width,h.labelHeight=c.labelHeight,h.labelWidth=c.labelWidth,d[e].cleanup(),delete d[e]),h&&h.axisLabel&&c.show){a=!0;var p=null;if(h.axisLabelUseHtml||"Microsoft Internet Explorer"!=navigator.appName)p=h.axisLabelUseHtml||!n()&&!i()&&!h.axisLabelUseCanvas?r:h.axisLabelUseCanvas||!n()?o:s;else{var f=navigator.userAgent,m=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=m.exec(f)&&(rv=parseFloat(RegExp.$1)),p=rv>=9&&!h.axisLabelUseCanvas&&!h.axisLabelUseHtml?s:h.axisLabelUseCanvas||h.axisLabelUseHtml?h.axisLabelUseCanvas?o:r:l}var g=void 0===h.axisLabelPadding?u:h.axisLabelPadding;d[e]=new p(e,c.position,g,t,h),d[e].calculateSize(),h.labelHeight=c.labelHeight+d[e].height,h.labelWidth=c.labelWidth+d[e].width}}),a&&(c=!0,t.setupGrid(),t.draw()))})}})}var d={axisLabels:{show:!0}};a.prototype.cleanup=function(){},o.prototype=new a,o.prototype.constructor=o,o.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14),this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");this.opts.axisLabelFontSizePixels+this.padding,this.opts.axisLabelFontSizePixels+this.padding;"left"==this.position||"right"==this.position?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)},o.prototype.draw=function(e){this.opts.axisLabelColour||(this.opts.axisLabelColour="black");var t=this.plot.getCanvas().getContext("2d");t.save(),t.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily,t.fillStyle=this.opts.axisLabelColour;var i,n,a=t.measureText(this.opts.axisLabel).width,o=this.opts.axisLabelFontSizePixels,r=0;"top"==this.position?(i=e.left+e.width/2-a/2,n=e.top+.72*o):"bottom"==this.position?(i=e.left+e.width/2-a/2,n=e.top+e.height-.72*o):"left"==this.position?(i=e.left+.72*o,n=e.height/2+e.top+a/2,r=-Math.PI/2):"right"==this.position&&(i=e.left+e.width-.72*o,n=e.height/2+e.top-a/2,r=Math.PI/2),t.translate(i,n),t.rotate(r),t.fillText(this.opts.axisLabel,0,0),t.restore()},r.prototype=new a,r.prototype.constructor=r,r.prototype.calculateSize=function(){var t=e('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(t),this.labelWidth=t.outerWidth(!0),this.labelHeight=t.outerHeight(!0),t.remove(),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding},r.prototype.cleanup=function(){this.elem&&this.elem.remove()},r.prototype.draw=function(t){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove(),this.elem=e('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem),"top"==this.position?(this.elem.css("left",t.left+t.width/2-this.labelWidth/2+"px"),this.elem.css("top",t.top+"px")):"bottom"==this.position?(this.elem.css("left",t.left+t.width/2-this.labelWidth/2+"px"),this.elem.css("top",t.top+t.height-this.labelHeight+"px")):"left"==this.position?(this.elem.css("top",t.top+t.height/2-this.labelHeight/2+"px"),this.elem.css("left",t.left+"px")):"right"==this.position&&(this.elem.css("top",t.top+t.height/2-this.labelHeight/2+"px"),this.elem.css("left",t.left+t.width-this.labelWidth+"px"))},s.prototype=new r,s.prototype.constructor=s,s.prototype.calculateSize=function(){r.prototype.calculateSize.call(this),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding},s.prototype.transforms=function(e,t,i){var n={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=t||0!=i){var a=" translate("+t+"px, "+i+"px)";n["-moz-transform"]+=a,n["-webkit-transform"]+=a,n["-o-transform"]+=a,n["-ms-transform"]+=a}if(0!=e){var o=" rotate("+e+"deg)";n["-moz-transform"]+=o,n["-webkit-transform"]+=o,n["-o-transform"]+=o,n["-ms-transform"]+=o}var r="top: 0; left: 0; ";for(var s in n)n[s]&&(r+=s+":"+n[s]+";");return r+=";"},s.prototype.calculateOffsets=function(e){var t={x:0,y:0,degrees:0};return"bottom"==this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top+e.height-this.labelHeight):"top"==this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top):"left"==this.position?(t.degrees=-90,t.x=e.left-this.labelWidth/2+this.labelHeight/2,t.y=e.height/2+e.top):"right"==this.position&&(t.degrees=90,t.x=e.left+e.width-this.labelWidth/2-this.labelHeight/2,t.y=e.height/2+e.top),t.x=Math.round(t.x),t.y=Math.round(t.y),t},s.prototype.draw=function(t){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();var i=this.calculateOffsets(t);this.elem=e('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; '+this.transforms(i.degrees,i.x,i.y)+'">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem)},l.prototype=new s,l.prototype.constructor=l,l.prototype.transforms=function(e,t,i){var n="";if(0!=e){for(var a=e/90;a<0;)a+=4;n+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+a+"); ",this.requiresResize="right"==this.position}return 0!=t&&(n+="left: "+t+"px; "),0!=i&&(n+="top: "+i+"px; "),n},l.prototype.calculateOffsets=function(e){var t=s.prototype.calculateOffsets.call(this,e);return"top"==this.position?t.y=e.top+1:"left"==this.position?(t.x=e.left,t.y=e.height/2+e.top-this.labelWidth/2):"right"==this.position&&(t.x=e.left+e.width-this.labelHeight,t.y=e.height/2+e.top-this.labelWidth/2),t},l.prototype.draw=function(e){s.prototype.draw.call(this,e),this.requiresResize&&(this.elem=this.plot.getPlaceholder().find("."+this.axisName+"Label"),this.elem.css("width",this.labelWidth),this.elem.css("height",this.labelHeight))},e.plot.plugins.push({init:c,options:d,name:"axisLabels",version:"2.0"})}(jQuery),function(e){function t(e){function t(){n.locked||n.x!=-1&&(n.x=-1,e.triggerRedrawOverlay())}function i(t){if(!n.locked){if(e.getSelection&&e.getSelection())return void(n.x=-1);var i=e.offset();n.x=Math.max(0,Math.min(t.pageX-i.left,e.width())),n.y=Math.max(0,Math.min(t.pageY-i.top,e.height())),e.triggerRedrawOverlay()}}var n={x:-1,y:-1,locked:!1};e.setCrosshair=function(t){if(t){var i=e.p2c(t);n.x=Math.max(0,Math.min(i.left,e.width())),n.y=Math.max(0,Math.min(i.top,e.height()))}else n.x=-1;e.triggerRedrawOverlay()},e.clearCrosshair=e.setCrosshair,e.lockCrosshair=function(t){t&&e.setCrosshair(t),n.locked=!0},e.unlockCrosshair=function(){n.locked=!1},e.hooks.bindEvents.push(function(e,n){e.getOptions().crosshair.mode&&(n.mouseout(t),n.mousemove(i))}),e.hooks.drawOverlay.push(function(e,t){var i=e.getOptions().crosshair;if(i.mode){var a=e.getPlotOffset();if(t.save(),t.translate(a.left,a.top),n.x!=-1){var o=e.getOptions().crosshair.lineWidth%2?.5:0;if(t.strokeStyle=i.color,t.lineWidth=i.lineWidth,t.lineJoin="round",t.beginPath(),i.mode.indexOf("x")!=-1){var r=Math.floor(n.x)+o;t.moveTo(r,0),t.lineTo(r,e.height())}if(i.mode.indexOf("y")!=-1){var s=Math.floor(n.y)+o;t.moveTo(0,s),t.lineTo(e.width(),s)}t.stroke()}t.restore()}}),e.hooks.shutdown.push(function(e,n){n.unbind("mouseout",t),n.unbind("mousemove",i)})}var i={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};e.plot.plugins.push({init:t,options:i,name:"crosshair",version:"1.0"})}(jQuery),function(e){function t(e){function t(e,t,a){var r=null;if(i(t)&&(c(t),n(e),o(e),l(t),g>=2)){var s=d(t),v=0,b=u();v=h(s)?-1*p(m,s-1,Math.floor(g/2)-1)-b:p(m,Math.ceil(g/2),s-2)+b+2*y,r=f(a,t,v),a.points=r}return r}function i(e){return null!=e.bars&&e.bars.show&&null!=e.bars.order}function n(e){var t=x?e.getPlaceholder().innerHeight():e.getPlaceholder().innerWidth(),i=x?a(e.getData(),1):a(e.getData(),0);if(isNaN(i[1]))if(o(e),g%2==0)var n=g;else var n=g+1;else var n=i[1]-i[0];b=n/t}function a(e,t){for(var i=new Array,n=0;n<e.length;n++)i[0]=e[n].data[0][t],i[1]=e[n].data[e[n].data.length-1][t];return i}function o(e){m=r(e.getData()),g=m.length}function r(e){for(var t=new Array,i=0;i<e.length;i++)null!=e[i].bars.order&&e[i].bars.show&&t.push(e[i]);return t.sort(s)}function s(e,t){var i=e.bars.order,n=t.bars.order;return i<n?-1:i>n?1:0}function l(e){v=e.bars.lineWidth?e.bars.lineWidth:2,y=v*b}function c(e){e.bars.horizontal&&(x=!0)}function d(e){for(var t=0,i=0;i<m.length;++i)if(e==m[i]){t=i;break}return t+1}function u(){var e=0;return g%2!=0&&(e=m[Math.ceil(g/2)].bars.barWidth/2),e}function h(e){return e<=Math.ceil(g/2)}function p(e,t,i){for(var n=0,a=t;a<=i;a++)n+=e[a].bars.barWidth+2*y;return n}function f(e,t,i){for(var n=e.pointsize,a=e.points,o=0,r=x?1:0;r<a.length;r+=n)a[r]+=i,t.data[o][3]=a[r],o++;return a}var m,g,v,y,b=1,x=!1;e.hooks.processDatapoints.push(t)}var i={series:{bars:{order:null}}};e.plot.plugins.push({init:t,options:i,name:"orderBars",version:"0.2"})}(jQuery),function(e){function t(e,t){return t*Math.floor(e/t)}function i(e,t,i,n){if("function"==typeof e.strftime)return e.strftime(t);var a=function(e,t){return e=""+e,t=""+(null==t?"0":t),1==e.length?t+e:e},o=[],r=!1,s=e.getHours(),l=s<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var c;c=s>12?s-12:0==s?12:s;for(var d=0;d<t.length;++d){var u=t.charAt(d);if(r){switch(u){case"a":u=""+n[e.getDay()];break;case"b":u=""+i[e.getMonth()];break;case"d":u=a(e.getDate());break;case"e":u=a(e.getDate()," ");break;case"h":case"H":u=a(s);break;case"I":u=a(c);break;case"l":u=a(c," ");break;case"m":u=a(e.getMonth()+1);break;case"M":u=a(e.getMinutes());break;case"q":u=""+(Math.floor(e.getMonth()/3)+1);break;case"S":u=a(e.getSeconds());break;case"y":u=a(e.getFullYear()%100);break;case"Y":u=""+e.getFullYear();break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"w":u=""+e.getDay()}o.push(u),r=!1}else"%"==u?r=!0:o.push(u)}return o.join("")}function n(e){function t(e,t,i,n){e[t]=function(){return i[n].apply(i,arguments)}}var i={date:e};void 0!=e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime");for(var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],a=0;a<n.length;a++)t(i,"get"+n[a],e,"getUTC"+n[a]),t(i,"set"+n[a],e,"setUTC"+n[a]);return i}function a(e,t){if("browser"==t.timezone)return new Date(e);if(t.timezone&&"utc"!=t.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var i=new timezoneJS.Date;return i.setTimezone(t.timezone),i.setTime(e),i}return n(new Date(e))}return n(new Date(e))}function o(n){n.hooks.processOptions.push(function(n){e.each(n.getAxes(),function(e,n){var o=n.options;"time"==o.mode&&(n.tickGenerator=function(e){var i=[],n=a(e.min,o),r=0,l=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?d:c;null!=o.minTickSize&&(r="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*s[o.minTickSize[1]]);for(var u=0;u<l.length-1&&!(e.delta<(l[u][0]*s[l[u][1]]+l[u+1][0]*s[l[u+1][1]])/2&&l[u][0]*s[l[u][1]]>=r);++u);var h=l[u][0],p=l[u][1];if("year"==p){if(null!=o.minTickSize&&"year"==o.minTickSize[1])h=Math.floor(o.minTickSize[0]);else{var f=Math.pow(10,Math.floor(Math.log(e.delta/s.year)/Math.LN10)),m=e.delta/s.year/f;h=m<1.5?1:m<3?2:m<7.5?5:10,h*=f}h<1&&(h=1)}e.tickSize=o.tickSize||[h,p];var g=e.tickSize[0];p=e.tickSize[1];var v=g*s[p];"second"==p?n.setSeconds(t(n.getSeconds(),g)):"minute"==p?n.setMinutes(t(n.getMinutes(),g)):"hour"==p?n.setHours(t(n.getHours(),g)):"month"==p?n.setMonth(t(n.getMonth(),g)):"quarter"==p?n.setMonth(3*t(n.getMonth()/3,g)):"year"==p&&n.setFullYear(t(n.getFullYear(),g)),n.setMilliseconds(0),v>=s.minute&&n.setSeconds(0),v>=s.hour&&n.setMinutes(0),v>=s.day&&n.setHours(0),v>=4*s.day&&n.setDate(1),v>=2*s.month&&n.setMonth(t(n.getMonth(),3)),v>=2*s.quarter&&n.setMonth(t(n.getMonth(),6)),v>=s.year&&n.setMonth(0);var y,b=0,x=Number.NaN;do if(y=x,x=n.getTime(),i.push(x),"month"==p||"quarter"==p)if(g<1){n.setDate(1);var w=n.getTime();n.setMonth(n.getMonth()+("quarter"==p?3:1));var M=n.getTime();n.setTime(x+b*s.hour+(M-w)*g),b=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+g*("quarter"==p?3:1));else"year"==p?n.setFullYear(n.getFullYear()+g):n.setTime(x+v);while(x<e.max&&x!=y);return i},n.tickFormatter=function(e,t){var n=a(e,t.options);if(null!=o.timeformat)return i(n,o.timeformat,o.monthNames,o.dayNames);var r,l=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],c=t.tickSize[0]*s[t.tickSize[1]],d=t.max-t.min,u=o.twelveHourClock?" %p":"",h=o.twelveHourClock?"%I":"%H";r=c<s.minute?h+":%M:%S"+u:c<s.day?d<2*s.day?h+":%M"+u:"%b %d "+h+":%M"+u:c<s.month?"%b %d":l&&c<s.quarter||!l&&c<s.year?d<s.year?"%b":"%b %Y":l&&c<s.year?d<s.year?"Q%q":"Q%q %Y":"%Y";var p=i(n,r,o.monthNames,o.dayNames);return p})})})}var r={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},s={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=l.concat([[3,"month"],[6,"month"],[1,"year"]]),d=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:o,options:r,name:"time",version:"1.0"}),e.plot.formatDate=i}(jQuery),function(){this.JST||(this.JST={}),this.JST["templates/map_card_small"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="mini-card-item clearfix" data-ldpurl="',property.ldpUrl,'" data-agentid="',property.agent_id,'"  data-listingid="',property.listing_id,'" data-omtag="',property.omTag,'" data-status="',property.dataStatus,'">\n    <div class="mini-card-photo-wrap">\n        <div class="mini-card-photo" data-label="mini-card-photo">\n            '),property.photo?__p.push('\n            <img src="',MOVE.MapMiniCard.getMiniCardPhoto(property.photo),'" alt="',property.address,'" title="',property.address,'">\n            '):__p.push('\n            <div class="coming-soon-img ',MOVE.MapMiniCard.getComingSoonPhoto(),'"></div>\n            '),__p.push('\n            </a>\n            <!--Open house/ New labels large devices SRP Map-->\n            <div class="mini-card-photo-label">\n                <div class="srp-item-photo-label">\n                    '),property.search_flags.is_new_listing&&__p.push('\n                    <span class="label label-green label-corner" data-label="property-label-new">New</span>\n                    '),__p.push("\n                    "),property.search_flags.is_pending&&__p.push('\n                    <span class="label label-red label-corner" data-label="property-label-pending">Pending</span>\n                    '),__p.push("\n                    "),property.open_house_display&&__p.push('\n                    <span class="label label-dark-transparent label-corner label-outline-none"> Open <span\n                                class="srp-item-house-label">House</span> ',property.open_house_display,"</span>\n                    "),__p.push('\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="mini-card-body">\n        <ul class="list-unstyled">\n            <li class="mini-card-address ellipsis" data-label="mini-card-address">',property.address,'</li>\n            <!--Complete address for large devices SRP Map-->\n            <li class="mini-card-address-lg ellipsis" data-label="mini-card-address">\n                '),property.community_name&&__p.push('\n                <span class="mini-card-community">',property.community_name," &#47; </span>\n                "),__p.push("\n           "),property.address&&property.address!==property.community_name&&__p.push("",property.address,","),__p.push(" ",property.city,", ",property.state,", ",property.zip,"\n            </li>\n            "),""===property.priceDisplay?__p.push('\n            <li class="font-semibold" data-label="mini-card-price">Price Unavailable</li>\n            '):__p.push('\n            <li class="mini-card-price ellipsis" data-label="mini-card-price">',property.priceDisplay,'</li>\n            <!--Price for large devices SRP Map-->\n            <li class="mini-card-price-lg ellipsis ',MOVE.MapMiniCard.getMiniCardPriceClass(property.status),'" data-label="mini-card-price">',property.priceDisplay,'<span class="mini-card-price-helper ',MOVE.MapMiniCard.getMiniCardPriceTagClass(property.status),'">/month</span></li>\n            '),__p.push('\n            <li>\n                <ul class="property-meta list-horizontal list-style-disc">\n                    '),"land"===property.propertyType?__p.push('\n                    <li data-label="property-meta-land">Land</li>\n                    '):(__p.push("\n                    "),property.bed&&__p.push('\n                    <li data-label="property-meta-beds"><span class="data-value">',property.bed,"</span> bd</li>\n                    "),__p.push("\n                    "),property.bath&&__p.push('\n                    <li data-label="property-meta-baths"><span class="data-value">',property.bath,"</span> ba</li>\n                    "),__p.push("\n                    ")),__p.push('\n                    <!--Meta sqft for large devices SRP Map-->\n                    <li data-label="property-meta-sqft" class="property-meta-lg">',property.sqft_display,' sq ft</li>\n                </ul>\n            </li>\n        </ul>\n    </div>\n    <!--Link to LDP large devices SRP Map-->\n    <div class="mini-card-ldp-link">\n        <a href="',property.ldpUrl,'" class="btn btn-primary btn-xs">View</a>\n    </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/amenity_map_card"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="map-amenity-card">\n  <div class="map-amenity-card-wrap">\n    <div class="amenity-card-item">\n      <div class="amenity-card-label">',amenity.label_display,"</div>\n      "),amenity.photo_url&&__p.push('\n      <div class="amenity-photo pull-right hidden-xs hidden-xxs">\n        <img src="',amenity.photo_url,'" alt="',amenity.name,'" />\n      </div>\n      '),__p.push('\n      <a class="amenity-card-title ellipsis" href="',amenity.yelp_url,'" target="_blank" data-omtag="ldp:amenities:',amenityType,':pop-up:site">',amenity.name,'</a>\n      <div class="amenity-ratings">\n        <span class="icon-amenity-rating amenity-rating-',rating,'"></span>\n        '),amenity.reviews_count&&__p.push('\n        <a href="',amenity.reviews_url,'" class="amenity-review-count" target="_blank" data-omtag="ldp:amenities:',amenityType,':pop-up:review">',amenity.reviews_count," Reviews</a>\n        "),__p.push('\n      </div>\n      <div class="amenity-card-address hidden-xs hidden-xxs">\n        <span>',amenity.address.line_one,"</span>\n        <span>",amenity.address.line_two,"</span>\n        <span>",amenity.address.line_three,"</span>\n        <span>",amenity.address.city,", ",amenity.address.state_code," ",amenity.address.postal_code,'</span>\n      </div>\n      <div class="amenity-card-distance">',amenity.address.miles_away,' Miles away</div>\n      <div class="amenity-logo"></div>\n    </div> <!-- amenity-card-item -->\n  </div> <!-- map-amenity-card-wrap -->\n</div> <!-- map-amenity-card -->\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/amenity_ads_map_card"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="map-amenity-card">\n  <div class="map-amenity-card-wrap">\n    <div class="amenity-card-item">\n      <div class="amenity-card-label">',amenity.label_display,"</div>\n      "),amenity.photo_url&&__p.push('\n      <div class="amenity-photo pull-right hidden-xs hidden-xxs">\n        <img src="',amenity.photo_url,'" alt="',amenity.name,'" />\n      </div>\n      '),__p.push('\n      <a class="amenity-card-title ellipsis" href="',amenity.yelp_url,'" target="_blank" data-omtag="ldp:sponsor:amenities:',amenityType,':pop-up:site">',amenity.name,'</a>\n      <div class="amenity-card-address hidden-xs hidden-xxs">\n        <span>',amenity.address.line_one,"</span>\n        <span>",amenity.address.line_two,"</span>\n        <span>",amenity.address.line_three,"</span>\n        <span>",amenity.address.city,", ",amenity.address.state_code," ",amenity.address.postal_code,'</span>\n      </div>\n      <div class="amenity-card-distance">',amenity.address.miles_away," Miles away</div>\n    </div> <!-- amenity-card-item -->\n  </div> <!-- map-amenity-card-wrap -->\n</div> <!-- map-amenity-card -->\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/mortgage_rate_header_popover"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("In order to get the ",providerName," rate, please identify yourself as a ",providerName,' customer.\nRates are subject to change without notice and may vary branch to branch.\n<a href="',providerUrl,'" target="_blank" data-omtag="ldp:rr:rate-table:',providerOmnitureName,':pop-up:more"> More</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/mortgage_rate_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="col-lg-12 col-md-12 col-sm-4">\n  <div class="list-mortgage-item margin-bottom-lg">\n    <h5 class="font-bold no-margin">',rate," at ",advertiser.Points,' pts</h5>\n    <ul class="apr-fees font-size-small list-horizontal list-style-disc">\n      <li>',apr,"% APR</li>\n      <li>$",advertiser.LoanFees," (",date,')</li>\n    </ul>\n    <h6 class="font-size-small font-semibold no-margin padding-top-sm">',advertiser.Advertiser,'</h6>\n    <ul class="nmls-state font-size-small list-horizontal list-style-disc">\n      '),""!=advertiser.MlsNumber&&__p.push("<li>NMLS # ",advertiser.MlsNumber,"</li>"),__p.push("\n      "),""!=advertiser.StateLicense&&__p.push("<li>State Lic # ",advertiser.StateLicense,"</li>"),__p.push('\n    </ul>\n    <ul class="font-size-small list-horizontal list-style-disc mini-rate-actions">\n      '),""!=advertiser.PhoneNo&&__p.push("<li>",advertiser.PhoneNo,"</li>"),__p.push("\n      "),""!=advertiser.CpcUrl&&__p.push('\n      <li><a target="_blank" href="',advertiser.CpcUrl,'" data-omtag="',omtagLearnMore,'">Learn more</a></li>\n      '),__p.push("\n    </ul>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/mortgage_rate_item_variant"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="col-lg-12 col-md-12 col-sm-4">\n  <div class="list-mortgage-item margin-bottom-lg">\n    <ul class="font-size-small list-horizontal">\n      <li class="h1 no-margin">',apr,'%</li>\n      <li class="apr">APR (',date,')</li>\n    </ul>\n    <ul class="font-size-xsmall list-horizontal list-style-disc">\n      <li>',rate,"% at ",advertiser.Points," pts</li>\n      <li>$",advertiser.LoanFees,' in fees</li>\n    </ul>\n    <h6 class="font-size-small font-semibold no-margin padding-top-sm">',advertiser.Advertiser,"</h6>\n    "),""!=advertiser.PhoneNo&&__p.push("<div class='font-size-small'>",advertiser.PhoneNo,"</div>"),__p.push('\n    <ul class="nmls-state font-size-small list-horizontal list-style-disc">\n      '),""!=advertiser.MlsNumber&&__p.push("<li>NMLS # ",advertiser.MlsNumber,"</li>"),__p.push("\n      "),""!=advertiser.StateLicense&&__p.push("<li>State Lic # ",advertiser.StateLicense,"</li>"),__p.push('\n    </ul>\n    <ul class="font-size-small list-horizontal mini-rate-actions">\n      '),""!=advertiser.CpcUrl&&__p.push('\n      <li><a target="_blank" href="',advertiser.CpcUrl,'" data-omtag="',omtagLearnMore,'">Learn more <i class="ra ra-external-link margin-left-sm"></i></a></li>\n      '),
__p.push("\n    </ul>\n  </div>\n</div>\n");return __p.join("")}}.call(this),MOVE.VeteranBenefits=function(e){var t=function(){n(!1)},i=function(e,t){t?($(e+' option[value="30yr_va"]').show(),$(e).selectpicker("refresh")):($(e+' option[value="30yr_va"]').hide(),$(e).selectpicker("refresh"))},n=function(t,i){if("#veteranAdsInEstimatePayment"===t){var n=i?"Y":"N";googletag.pubads().setTargeting("VET",[n]),e.Medias.manualLoadAds(window.gptAds.gptadslotsEMP,null,!0)}else i?($(t).show(),"#veteranAds"===t?e.Medias.manualLoadAds(window.gptAds.gptadslotsVetOnly,".VU"):"#veteranAdsInMortCalc"===t&&e.Medias.manualLoadAds(window.gptAds.gptadslotsVetOnlyCalcMort,".VU")):$(t).hide()},a=function(e,t){$(e).val(t),$(e).trigger("change")},o=function(t){"#veteranAds"===t?e.Medias.kruxPixel("Km5kHiqk",{}):"#veteranAdsInMortCalc"===t?e.Medias.kruxPixel("Jy_zI35g",{}):"#veteranAdsInAffordCalc"===t?e.Medias.kruxPixel("JzAQDIUI",{}):"#veteranAdsInEstimatePayment"===t&&e.Medias.kruxPixel("K25Fdnq5",{})},r=function(e,t,r,s,l){var c=$("#"+r);$(e).prop("checked")?(c.data("percent",c.val()),c.val("0%"),n(s,!0),i(t,!0),o(s),a(t,"30yr_va"),"function"==typeof l&&l(r)):(c.val(c.data("percent")),n(s,!1),i(t,!1),$(t+" :selected").val().indexOf("_va")>-1&&a(t,"30yr_fixed"),"function"==typeof l&&l(r))};return e.VeteranBenefits={init:t,showVeteranAds:n,showLoanTypeOption:i,toggleVeteranBenefits:r},e.VeteranBenefits}(MOVE||{}),MOVE.VeteranBenefits.init(),MOVE.LDP.AdditionalCommunities=function(e){var t,i,n=$(".listing-cta .additional-community-save"),a=$(".listing-cta .additional-community-unsave"),o=function(){n.on("click",t),a.on("click",i)};return t=function(e){var t=$(this),i=t.parent(),n={property_id:i.data("property-id"),status:i.data("status"),listing_id:i.data("listing-id")},a=function(e){t.hide(),i.find(".additional-community-unsave").show(),i.find(".additional-community-unsave").data("res-id",e.resources.id),t.removeAttr("disabled"),GNAV.MYACCOUNT.getSavedResponse("my_properties")};MOVE.Common.saveListing(e,{listing:n,callBack:a})},i=function(e){e.stopPropagation();var t=this,i=function(){$(t).hide(),$(t).parent().find(".additional-community-save").show(),$(t).data("res-id",null),$(t).removeAttr("disabled"),GNAV.MYACCOUNT.getSavedResponse("my_properties")};return MOVE.Common.deleteListing(e,{id:$(t).data("res-id"),callBack:i}),e.stopPropagation(),!1},e.AdditionalCommunities={init:o},e.AdditionalCommunities}(MOVE.LDP||{}),MOVE.LDP.HomeAdvisor=function(e){"use strict";var t=function(){$("#ldp-home-advisor-widget").find(".home-advisor-histogram").css("background-image","url('/assets/home-advisor-histogram-a445c8cb7de7d2abf108c82c14d1747ea079b22cf77b208dabe1d5e9578b85a2.jpg')")},i=function(){$(".lazyload-img").each(function(){$(this).attr("src",$(this).data("lazyload-img"))})},n=function(){$("#ldp-home-advisor-widget").find("[data-omtag]").on("click",function(){MOVE.Medias.homeadvisorTracking($(this).attr("data-omtag"))})},a=function(){t(),i(),n()};return e.HomeAdvisor={init:a},e.HomeAdvisor}(MOVE.LDP||{}),MOVE.LDP.HomeAdvisor.init(),MOVE.LDP.HomeAdvisorWidget=function(e){var t=function(e,t){e.find("h4").text(t.display_name),e.find(".js-data-spent-between").text(t.avg_range_min_cost+" - "+t.avg_range_max_cost),e.find(".js-data-average-cost").text(t.avg_cost),e.find(".js-data-min-cost").text(t.min_cost),e.find(".js-data-max-cost").text(t.max_cost),e.find("label").text(t.avg_cost),e.find(".js-home-advisor-histogram").attr("href",t.link),e.find(".js-find-pros").attr("href",t.find_pros_link)},i=!1,n=function(e){homeAdvisorWidget.find(".msg").hide(),$.ajax({url:"/home_advisor/search",method:"GET",data:{zip_code:e},dataType:"json",success:function(e){e.geo_display&&e.cost_data&&4===e.cost_data.length?(MOVE.Medias.homeadvisorTracking("onload"),homeAdvisorWidget.show(),homeAdvisorWidget.find("#home_advisor_zip").val(e.geo_display),t(homeAdvisorWidget.find("#home-advisor-project-1"),e.cost_data[0]),t(homeAdvisorWidget.find("#home-advisor-project-2"),e.cost_data[1]),t(homeAdvisorWidget.find("#home-advisor-project-3"),e.cost_data[2]),t(homeAdvisorWidget.find("#home-advisor-project-4"),e.cost_data[3])):(homeAdvisorWidget.find(".msg").show(),homeAdvisorWidget.find(".detailMsg").text(e.msg))}})},a=function(e,t){homeAdvisorWidget&&(!i||t)&&$(window).width()>996&&(i=!0,n(e))},o=function(){homeAdvisorWidget.find(".home-advisor-zip").find("i").off("click").on("click",function(){homeAdvisorWidget.find("#home_advisor_zip").prop("disabled",!1).removeClass("input-inplace-noborder").select().focus()}),homeAdvisorWidget.find("#home_advisor_zip").off("blur").on("blur",function(){$(this).prop("disabled",!0).addClass("input-inplace-noborder")}),homeAdvisorWidget.find("#home_advisor_zip").off("change").on("change",function(){a($(this).val(),!0),$(this).prop("disabled",!0).addClass("input-inplace-noborder")}),homeAdvisorWidget.find("#home_advisor_zip").off("keypress").on("keypress",function(e){var t=e.which;return 8===t||0===t||13===t||t>=48&&t<=57}),homeAdvisorWidget.find(".accordion-heading").on("click",function(e){$(this).parents(".panel").children(".panel-collapse").hasClass("in")&&e.stopPropagation()}),$.Device.isIPad||$.Device.isAndroid?MOVE.Helper.initPopOver($("#ldp-home-advisor-widget")):homeAdvisorWidget.find(".js-home-advisor-guide-icon").popover({html:!0,trigger:"hover",clickAutoClose:!0,content:function(){return $("#home-advisor-guide-info").html()}}).click(function(e){e.preventDefault()})},r=function(e){homeAdvisorWidget=$("#ldp-home-advisor-widget"),homeAdvisorWidget.length&&(homeAdvisorWidget.hide(),o(),a(e)),$(window).on("resize orientationchange",function(){MOVE.Helper.closePopOversOnResize(),!MOVE.Helper.isMobile&&homeAdvisorWidget&&homeAdvisorWidget.length&&a(pd.postal_code)})};return e.HomeAdvisorWidget={init:r},e.HomeAdvisorWidget}(MOVE.LDP||{}),MOVE.LDP.OptimizationDesktop=function(e){var t=function(){if(photos=MOVE_DATA.propertyDetails.photos,photos&&photos.length&&MOVE.LDP.LdpPageSpecific.googleNoImageUrl(photos))MOVE.LDP.TopMapOptimization.init(!1);else if(!$("#optimization-ldp-hero-top").hasClass("hide")){var e=1!==$("#ldp-hero-no-photo-wrap").length;MOVE.LDP.TopMapOptimization.init(e)}i(),n(),a()},i=function(){$("#show-more-listing").click(function(){$(".load-more-nearby-home-values").toggleClass("full-height"),$(this).text("Show less properties"===$(this).text()?"Show more properties":"Show less properties")})},n=function(){var e=$(".view-more-recently-sold");e.click(function(t){$(".recently-sold-group-1").removeClass("hidden"),e.text("See all listings"),e.off(),$(window).scroll(),t.preventDefault()})},a=function(){$("#ldp-similar-homes-top").on("click",".ra-close-thin",function(){$("#ldp-similar-homes-top-section").addClass("hide")})};return e.OptimizationDesktop={init:t},e.OptimizationDesktop}(MOVE.LDP||{}),MOVE.LDP.NearbyHomes=function(e){var t,i,n,a=$(".listing-cta .nearby-save"),o=$(".listing-cta .nearby-unsave"),r=function(){$("#ldp-recently-sold-around").hasClass("hide")||MOVE.LDP.Map.init("recentlySoldAroundMap",!0,!1),n(),MOVE.LDP.Map.init("nearbyLDPMap",!1,!1),a.on("click",t),o.on("click",i)};return n=function(){if(!$(".nearby-home-values").hasClass("hide")){MOVE.LDP.Map.init("nearbyHomeValuesMap",!1,!1);var e=$(".js-nearby-widget-tabs"),t=e.find(".js-nearby-home-values");t.hasClass("active")&&(t.removeClass("active"),e.find(".js-nearby-homes-for-sale").addClass("active"),$("#nearby-home-values").removeClass("active"),$("#nearby-homes-for-sale").addClass("active"))}},t=function(e){var t=this,i=$(this).parents(".js-tracking").first(),n={property_id:i.data("propertyid"),status:i.data("status"),listing_id:i.data("listingid")},a=function(e){$(t).hide(),$(t).parent().find(".nearby-unsave").show(),$(t).parent().find(".nearby-unsave").data("res-id",e.resources.id),$(t).removeAttr("disabled"),GNAV.MYACCOUNT.getSavedResponse("my_properties")};MOVE.Common.saveListing(e,{listing:n,callBack:a})},i=function(e){e.stopPropagation();var t=this,i=function(){$(t).hide(),$(t).parent().find(".nearby-save").show(),$(t).data("res-id",null),$(t).removeAttr("disabled"),GNAV.MYACCOUNT.getSavedResponse("my_properties")};return MOVE.Common.deleteListing(e,{id:$(t).data("res-id"),callBack:i}),e.stopPropagation(),!1},e.NearbyHomes={init:r},e.NearbyHomes}(MOVE.LDP||{}),MOVE.LDP.RightRail=function(e){var t=function(){$(window).width()>=996&&(n(),a())},i=function(){t(),$(window).on("resize orientationchange",t)},n=function(){MOVE.Common.stickyAd($("#ldp-sticky-ad2"),{wrapper:"#ldp-sticky-ad2-container",offsetTop:100})},a=function(){MOVE.Common.stickyAd($("#ldp-sticky-ad3"),{wrapper:"#ldp-sticky-ad3-container",offsetTop:115})};return e.RightRail={init:i},e.RightRail}(MOVE.LDP||{}),MOVE.EditorsPicks=function(e){var t=function(){var t=$("#editors-picks-widget");if(t.length>0){var i={},n=e.Helper.detectViewPort();if(window.gptAds&&window.gptAds.pageName){if(window.gptAds.pageName.match(/\/LDP\//)&&"medium"!==n&&"large"!==n)return;i.ad_unit=window.gptAds.pageName}$.ajax({url:"/news_and_advice/editors_picks",data:i,dataType:"html",success:function(e){t.html(e)}})}};return e.EditorsPicks={init:t},e.EditorsPicks}(MOVE||{}),MOVE.LDP.BrowseModules=function(e){var t,i=$(".ldp-connected-listings"),n=$(".js-bm-container"),a="homes_with_pool",o="affordable_homes",r="rentals_around",s="luxury_homes",l=function(e){var t=e.bmObj;t.appear(),t.on("appear",function(){u(t)&&(t.off("appear"),c(e))})},c=function(e){t=e.bmType,p().done(function(t){f(t,e)})},d=function(e){_.isEmpty(e)||$.each(h(),function(e,t){l(y(t))})},u=function(e){if(void 0===i)return!0;browseModuleIndex=i.index(e);var t=i[browseModuleIndex-1];return void 0===t||$(t).data("is-load-complete")===!0},h=function(){return"for_sale"===MOVE_DATA.propertyDetails.property_type?[a,o,r]:"not_for_sale"===MOVE_DATA.propertyDetails.property_type?[a,o,s]:[]},p=function(){var e=$.Deferred();return $.ajax({url:"/browse_modules/"+t,method:"GET",data:m(),dataType:"JSON",success:function(t){e.resolve(t)},error:function(t){e.reject(t)}}),e},f=function(e,t){e&&e.length>=3?(t.bmObj.find(".js-bm").removeClass("hide"),$.each(e,function(i,n){var a=JST["templates/browse_modules_card"]({home:n,listing_class:"",listing_index:i,omtag:t.omtag,browse_module_count:e.length,limit_three:MOVE.Helper.isPhone()&&!MOVE.Helper.overrideBrowseModuleLimit()});t.bmContainerObj.append(a)})):t.bmObj.addClass("hide"),t.bmObj.data("is-load-complete",!0),t.bmObj.trigger("load-complete")},m=function(){var e=model.getData()||{},i=MOVE.DataStore.getData("median_listing_price");return{id:e.property_id,price:e.price,postal_code:e.postal_code,median_price:i,type:t}},g=function(){var e=$(".js-ldp-listing-photos");e.appear(),e.is(":appeared")&&(e.off("appear"),$(window).scroll())},v=function(){var e=$("#ldp-nearby-allsilos-listings .ldp-nearby-homes");MOVE.Helper.lazyLoadImages("img.js-nearby-listing-photos",{scrollContainer:e},e)},y=function(e){var t={};switch(e){case a:t=w();break;case o:t=x();break;case r:t=b();break;case s:t=M()}return t.bmType=e,t},b=function(){return{bmObj:n.find("#ldp-rentals-around"),bmContainerObj:n.find(".js-ldp-rentals-around"),omtag:"ldp:browse-more:other-rentals:within-zip"}},x=function(){return{bmObj:n.find("#ldp-affordable-homes"),bmContainerObj:n.find(".js-ldp-affordable-homes"),omtag:"ldp:browse-more:affordable:within-zip"}},w=function(){return{bmObj:n.find("#ldp-homes-with-pool"),bmContainerObj:n.find(".js-ldp-homes-with-pool"),omtag:"ldp:browse-more:features-pools:within-zip"}},M=function(){return{bmObj:n.find("#ldp-luxury-homes"),bmContainerObj:n.find(".js-ldp-luxury-homes"),omtag:"ldp:browse-more:luxury:within-zip"}};return e.BrowseModules={init:l,getData:c,loadBrowseModulePhotos:g,lazyLoadImages:v,lazyLoadBrowseModules:d},e.BrowseModules}(MOVE.LDP||{}),MOVE.LDP.CallLeads=function(e){var t,i,n,a=function(){t=model.getData()||{},MOVE.Helper.isPhone()&&$(".phone-tracking").on("click",function(){n="LPS",i=this,r()})},o=function(){var e;return MOVE_DATA.propertyDetails.status===MOVE.CONSTANTS.PROPERTY_STATUS.forRent?"basic"===MOVE_DATA.adobeDTM.productType?e="unit_rental"===MOVE_DATA.adobeDTM.dataSourceType?"rental basic unit":"community"===MOVE_DATA.adobeDTM.dataSourceType?"rental basic community":"basic listing":"community"===MOVE_DATA.adobeDTM.dataSourceType?e="rental showcase community":"mls"===MOVE_DATA.adobeDTM.dataSourceType&&(e="showcase",n="LCS"):"turbo-active"===MOVE_DATA.adobeDTM.turboStatus?(e="turbo",n="LCS"):t.is_showcase||t.is_office_standard?(e="showcase",n="LCS"):e="basic listing",e},r=function(){var e="tfn"===$(i).attr("data-phone-number-type"),t=o();e||$.ajax({data:s(t),url:"/leads",type:"POST",success:function(){}})},s=function(e){var a=$(i).attr("data-business-card"),o={lead:{lead_service:n,lead_capture_product:e,guid:"",master_listing_id:t.listing_id,property_id:t.property_id,status:l(t.status,n),phone:$(i).attr("data-phone-number"),business_card:a,advertiser_id:c(a),community_id:MOVE_DATA.propertyDetails.community_id,form_name:MOVE.CONSTANTS.ADVERTISER_FORM_NAME_MAPPING[a],target:MOVE.CONSTANTS.ADVERTISER_TARGET_MAPPING[a],recent_searches:JSON.stringify(MOVE.UserActivity.getRecentSearches()),recent_views:JSON.stringify(MOVE.UserActivity.getRecentViews())},call_lead:!0};return $.param(o)},l=function(e,t){return"for_rent"===e&&"LCS"===t?"rental":e},c=function(e){return"Listing Agent"===e?t.agent_adv_id:"Listing Broker"===e?t.broker_adv_id:"office"===e?t.advertiser_id:void 0};return e.CallLeads={init:a,_TEST_getLeadCaptureProduct:o},e.CallLeads}(MOVE.LDP||{}),MOVE.LDP.FeaturesGallery=function(e){var t=function(){i()},i=function(){$(".feature-image-tag-modal").on("shown.bs.modal",function(){MOVE.LDP.PhotoGallery.init(n($(this)))}),$(".js-image-tag .feature-image-tag-modal").on("hide.bs.modal",function(){var e=$(".js-image-tag .feature-image-tag-modal").index(this);(MOVE.Helper.isMobile()&&1===e||!MOVE.Helper.isMobile()&&_.contains([2,3],e))&&"false"===$(".load-more-features").attr("aria-expanded")&&$(".load-more-features").readmore("toggle")})},n=function(e){var t=e.find(".feature-photo-gallery");return{selectedPhotoIndex:0,showAds:!1,galleryContainer:t,navContainer:t.closest(".feature-photo-gallery-navigation"),thumbnailContainer:e.find(".feature-thumbnails-photo-carousel"),showPhotoCount:!1}};return e.FeaturesGallery={init:t},e.FeaturesGallery}(MOVE.LDP||{}),MOVE.LDP.Map=function(e){var t,i,n,a,o,r=function(e,r,s){var l,c,d=jQuery("#"+e),u=jQuery("#streetView"),h=15,p=null,f=r,m=s;t=model.getData();var g=function(){t.map&&move.map.loader.initialize({googleMapsApiKey:t.map.google_maps_api_key,googleMapsClientId:t.map.google_maps_client_id,googleMapsVersion:t.map.google_maps_version,googleMapsChannel:"rdc-ldp-photo-map",mode:t.map.mode,serviceUrl:t.map.service_url,cdnUrl:t.map.cdn_url,version:{map:t.map.map_version,ui:void 0},enabled:{map:!0,ui:!0}},v)},v=function(){C(function(){k(function(t){MOVE.Helper.createMapMessage(t,function(){"nearbyLDPMap"===e||"nearbyHomeValuesMap"===e||"recentlySoldAroundMap"===e?E(t,e):S(t),M()})})}),m&&MOVE.LDP.Map.showStreetView(!0)},y=function(e){return _.isUndefined(MOVE_DATA.mapData)?{}:MOVE_DATA.mapData[e]},b=function(e,t){var i=y("mapDataOffMarket");i&&(i.id=e.id,t(i))},x=function(e,t){var i=y("mapDataRecentlySoldOptimization");i&&(i.id=e.id,t(i))},w={getPinData:function(e,t){var i=y(a());i&&(i.id=e.id,t(i))}};a=function(){var e=$("ul.js-nearby-widget-tabs li.active a").attr("href"),t={"#nearby-homes-for-sale":"mapDataForSale","#nearby-for-rent":"mapDataForRent","#nearby-recently-sold":"mapDataRecentlySold","#nearby-home-values":"mapDataOffMarket"};return t[e]};var M=function(){},A=function(){return{address:{geoPoint:{coordinates:[t["long"],t.lat],type:"Point"},line:t.address},city:t.city,isLatLong:!0,mprId:t.property_id,showSponsorAd:!0,state:t.state_code,status:t.status,zip:t.postal_code}},S=function(e,t){null!==p&&e.youAreHere&&(p.message?(t||e.message.show({message:p.message}),u.prop("disabled",!0)):e.youAreHere.add(A(),p.view.center)),e.properties&&(e.properties.setLimit(300),e.properties.setTypeEnabled("property",!0),e.properties.setEnabled(!0)),e.sideList&&e.sideList.hide(),e.streetView&&e.streetView.onFailed(function(){e.message.show({message:"Google Street View is not available for this location."}),window.setTimeout(function(){e.message.hide()},5e3)}),e.tiles&&e.tiles.show("propertyOutlines")},E=function(e,t){var i,n="nearbyHomeValuesMap"===t,a="recentlySoldAroundMap"===t;S(e,n,a),MOVE.LDP.NearbyCardsToPins.parseMapData(),points=[],i=y(n?"mapDataOffMarket":a?"mapDataRecentlySoldOptimization":"mapDataForSale"),i&&_.each(i.results.property.items,function(e){points.push(e.position)}),view=e.utils.createView([],points),view&&(view.bounds?e.map.fitBounds(view.bounds):view.center&&view.zoom&&(e.map.setCenter(view.center),e.map.setZoom(h)))},C=function(e){var i,n,a,o=function(){void 0===p.view.center&&(p=null),e&&e()},r=function(){var e,i,n;return t&&(n=t["long"],i=t.lat,n!==-1&&0!==n&&i!==-1&&0!==i&&(e={longitude:n,latitude:i})),e};null===p&&(p={view:{center:r(),zoom:h}},p.view.center=t.is_suppress_map_pin||t.is_address_suppressed?void 0:p.view.center),void 0===c&&(c=new move.tools.Utils),void 0===l&&(l=new move.map.Client({id:"rdc",url:t.map.service_url})),void 0===p.view.center?(i=t.state_code,n=t.postal_code,a=t.city,i&&n?l.getAreaByName({state:i,city:a,name:n,type:"area-zipCode"},function(e){var t,i=[],n=[];e&&e.list&&e.list&&(jQuery.each(e.list,function(e,t){t.boundary&&i.push(t.boundary),t.center&&n.push(t.center)}),t=c.createView(i,n),t&&(t.bounds||t.center)&&(p.view.center=t.bounds?t.bounds.getCenter():t.center,p.message="This listing is not shown on the map at the data provider's request.")),o()}):o()):o()},k=function(t){var i,n=!jQuery.Device.isMobile(navigator.userAgent)&&f,a={styles:[{featureType:"poi",stylers:[{visibility:"off"}]}],streetViewControl:!1,draggable:n,keyboardShortcuts:n,mapTypeControl:n||$.Device.isIPad,overviewMapControl:n,panControl:n,rotateControl:n,scaleControl:n,scrollwheel:!1,zoomControl:!0};$.extend(a,MOVE.Helper.getMapOptions(google)),i=null===p?{center:{longitude:-98.579416,latitude:39.828328},zoom:4}:p.view,jQuery.extend(!0,a,i),"nearbyLDPMap"===e?O(a,t):"nearbyHomeValuesMap"===e?T(a,t):"recentlySoldAroundMap"===e?P(a,t):D(a,t)},O=function(e,i){n=new move.map.Component({version:t.map.mapVersion,client:l,utils:c,container:d,mapOptions:jQuery.extend({},e,{disableDoubleClickZoom:!0}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!1},extensions:{properties:{events:{load:function(e,t){w.getPinData(e,function(e){t(e)})},pinClicked:function(e){var t=n.properties.getSelectedPoint(),i=$(".js-ldp-nearby-mini-card");if(e){var a=t.x,o=t.y;MOVE.MapMiniCard.openInfoWindowCard(e,a,o,!1,"",i)}else MOVE.MapMiniCard.closeInfoWindowCard(i)}}}}},i),$(".js-nearby-widget-tabs li").on("click",function(){var e;$(this).hasClass("js-nearby-homes-for-sale")?e=y("mapDataForSale"):$(this).hasClass("js-nearby-for-rent")?e=y("mapDataForRent"):$(this).hasClass("js-nearby-recently-sold")?e=y("mapDataRecentlySold"):$(this).hasClass("js-nearby-home-values")&&(e=y("mapDataOffMarket")),n.properties.clear("property"),n.properties.update(e),MOVE.MapMiniCard.closeInfoWindowCard(),$(".ldp-nearby-homes").scrollTop(10)})},T=function(e,i){o=new move.map.Component({version:t.map.mapVersion,client:l,utils:c,container:d,mapOptions:jQuery.extend({},e,{disableDoubleClickZoom:!0}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!1},extensions:{properties:{events:{load:function(e,t){b(e,function(e){t(e)})},pinClicked:function(e){var t=o.properties.getSelectedPoint(),i=$(".js-ldp-nearby-homevalues-mini-card");if(e){var n=t.x,a=t.y;MOVE.MapMiniCard.openInfoWindowCard(e,n,a,!1,"",i)}else MOVE.MapMiniCard.closeInfoWindowCard(i)}}}}},i)},D=function(e,n){i=new move.map.Component({version:t.map.mapVersion,client:l,utils:c,container:d,mapOptions:e,enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!0},extensions:{streetView:{panoramaOptions:{enableCloseButton:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_TOP},panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}}}}},n)},P=function(e,i){mapRecentlySoldAroundValues=new move.map.Component({version:t.map.mapVersion,client:l,utils:c,container:d,mapOptions:jQuery.extend({},e,{disableDoubleClickZoom:!0}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!1},extensions:{properties:{events:{load:function(e,t){x(e,function(e){t(e)})},pinClicked:function(e){var t=mapRecentlySoldAroundValues.properties.getSelectedPoint(),i=$(".js-ldp-recently-sold-around-mini-card");if(e){var n=t.x,a=t.y;MOVE.MapMiniCard.openInfoWindowCard(e,n,a,!1,"",i)}else MOVE.MapMiniCard.closeInfoWindowCard(i)}}}}},i)},R=function(){d.appear(),d.on("appear",function(){d.off("appear"),move.map.loader.isMapLoaded()?v():g()}),jQuery.force_appear()};R()},s=function(e){var n=[];e?(t.address&&n.push(t.address),t.city&&n.push(t.city),t.postal_code&&n.push(t.postal_code),t.state_code&&n.push(t.state_code),i&&(_youAreHereVisible=i.youAreHere.getVisible(),i.youAreHere.hide(),i.streetView.show(n.join(", ")))):(i.streetView.hide(),i.youAreHere.setVisible(_youAreHereVisible))};return e.Map={init:r,mapLdpNearby:n,mapLdpHomeValues:o,showStreetView:s},e.Map}(MOVE.LDP||{}),MOVE.LDP.LdpPageSpecific=function(e){var t,i=500,n=130,a=75,o=function(){t=model.getData(),l(),r(),c(),h(),p(),f(),m(),u(),g(),b(),v(),w(),$("#ldpPhotos").on("click",".owl-item.active",function(){x($(this).index())}),$("#fullScreenBtn").click(function(){x($("#ldpPhotos .owl-item.active").index())}),$("div.list-floorplans .listing-card").click(function(){window.location=$(this).find("a").attr("href")}),$(document).on("click",'[data-toggle="modal"]',function(e){var t=$(this).data("target");t&&($(t).length?MOVE.Helper.initModalData(t):(e.preventDefault(),MOVE.Helper.fetchModal(t,e)))})},r=function(){MOVE.Common.readMore(".load-more-features",s()),MOVE.Common.readMore(".load-more-plans",300),MOVE.Common.readMore(".footer-seo-content-wrap",115)},s=function(){var e=$("#ldp-home-advisor-widget"),t=$(".load-more-features"),i=e.length>0?e.height()+e.offset().top:0,n=t.length>0?t.offset().top:0,a=i-n;return a>0?a:410},l=function(){var e=$("#ldp-headlines"),t=this.model.getHeadLines();t&&t.length>1&&MOVE.Helper.fadeInOutAnimation(t,e)},c=function(){$("#js-trigger-renovation-report").click(function(){MOVE.Medias.kruxPixel("Jy_3x9aG",{})})},d=function(e){$("#secondary_request_more_details").data("to",e),t.is_cobroke?$("#secondary_lead_submit").attr("data-omtag","homes:cobroke:aaq"):$("#secondary_lead_submit").attr("data-omtag","homes:showcase:aaq:"+("emailAgent"===e&&"agent"||"broker"))},u=function(){$("#header-cta").on("click",".header-cta-lead > a",function(){$(this).attr("clicked","true")})},h=function(){MOVE.Helper.initPopOver($("#ldp-listing-provider"))},p=function(){MOVE.Helper.initPopOver($("#ldp-pricewrap"))},f=function(){$(".js-trigger-view-rates").click(function(){var e="http://pubads.g.doubleclick.net/gampad/ad?iu=/8058/RDC2/LDP&sz=1x1&t=customkv%3Dview_rates&c="+Math.random();(new Image).src=e})},m=function(){$(".js-businesscard-cta").on("click",function(e){var t,o=$(this),r=o.attr("href"),s=o.data("to");r.length&&(t=$(window).width()>996?$(r).offset().top-n:$(r).offset().top-a,$("html, body").animate({scrollTop:t},i),d(s),e.preventDefault())})},g=function(){$(".js-community-images").on("click",".js-local-fsgallery-toggle",function(){y($(this).index())})},v=function(){$(document).on("click",".js-open-private-modal",function(){function e(e){var t=$("#request-private-showing"),i=e.attr("data-title"),n=e.attr("data-inlineCTA"),a=e.attr("data-placeholder");t.attr("data-inlineCTA",n),t.find(".modal-title").text(i),t.find("textarea").attr("placeholder",a)}var t=$(this);$("#request-private-showing").length?e(t):$(document).on("modalInserted",function(){$("#request-private-showing").length&&e(t)})})},y=function(e){var t=$("#cmt-fullscreen-gallery");t.modal({show:!0}),MOVE.PhotoGallery.init(e),t.find(".owl-item").find("img[index="+e+"]").removeClass("hide"),t.find(".gallery-address").html(MOVE_DATA.propertyDetails.city),t.find(".gallery-actions").addClass("hide")},b=function(){$.Device.isMobile(navigator.userAgent)?$(".btn-map-directions").addClass("btn-mobile-map-directions"):$(".js-ldp-header-directions-cta").tooltip()},x=function(e){var t=$("#ldpPhotos").data("owl.carousel");$("#ldp-fullscreen-gallery").modal({show:!0});var i=1===$("#ldpPhotoMrect").length&&!$("#ldpPhotoMrect").hasClass("hide"),n={selectedPhotoIndex:t.relative(e),showAds:i,galleryContainer:$("#ldpPhotoGallery"),navContainer:$("#ldpPhotoGalleryNavigation"),thumbnailContainer:$("#photoCarousel","#ldp-fullscreen-gallery"),showPhotoCount:!0};MOVE.LDP.PhotoGallery.init(n)},w=function(){$("#primary_lead_preApproved").on("click",function(){MOVE.Helper.lazyLoadImages("img.js-secure-rights",{}),$(window).scroll()})},M=function(e){return e[0].url.indexOf("https://maps.googleapis.com/maps/api/streetview")!==-1};return e.LdpPageSpecific={init:o,googleNoImageUrl:M},e.LdpPageSpecific}(MOVE.LDP||{}),MOVE.LDP.RentalsFloorplanModal=function(e){var t,i,n,a,o=function(e){r(),s(e)},r=function(){t=$("#modal-rental-floorplan"),i=$("#modal-rental-floorplan-carousel",".modal-rental-floorplan"),n=$("#modal-rental-floorplan-form-toggle",t),a=$(".modal-rental-floorplan-lead-form",t)},s=function(e){t.on("shown.bs.modal",function(n){var o=n.relatedTarget?$(n.relatedTarget):$(e.currentTarget),r=o.data("floorplan"),s=$(".floorplan-"+r,t).index(".floorplan");i.on("initialized.owl.carousel changed.owl.carousel",function(e){var t=e.item.index,i=$(e.target).find(".owl-item").eq(t),n=$("h1 > span",".listing-header-main").first().text(),o=i.find(".floorplan-details h3").text(),r="I would like more information regarding the "+o+" at "+n+" that I found on realtor.com";a.find(".message").val(r),a.find("#leads_form_data_floor_plan_name").val(o)}),i.owlCarousel({items:1,loop:!0,autoplay:!1,animateOut:"fadeOut",startPosition:s,nav:!0,navText:["<i class='ra ra-chevron-left'></i>","<i class='ra ra-chevron-right'></i>"]})}),t.on("hide.bs.modal",function(e){$(e.target).is(t)&&(i.owlCarousel("destroy"),a.removeClass("show"),n.removeClass("hide"))}),n.on("click",function(e){e.preventDefault(),$(this).addClass("hide"),a.addClass("show")})};return e.RentalsFloorplanModal={init:o},e.RentalsFloorplanModal}(MOVE.LDP||{}),MOVE.LDP.StickyBar=function(e){var t=function(){i(),n(),a()},i=function(){MOVE.Common.showStickyBar("#ldp-sticky-bar",610);MOVE.Helper.detectViewPort();MOVE.Helper.isMobile&&MOVE.Common.showStickyBar("#ldp-mobile-stickybar",75)},n=function(){$("#sticky-bar-scroll-spy .nav a, #sticky-anchor-nav-flag .nav a, #sticky-anchor-nav-promotion a").click(function(e){var t=location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"");if(o($(this)),t||location.hostname===this.hostname){var i=MOVE.Helper.getPageNavTarget($(this.hash));if(i.length){var n=$(i).offset().top-108;$("html,body").animate({scrollTop:n},400),e.preventDefault()}}})},a=function(){var e=$(window),t=$("#sticky-anchor-nav-flag"),i=$("#sticky-bar-scroll-spy");if(t.length)var n=t.offset().top-65;e.scroll(function(){i.toggleClass("sticking",e.scrollTop()>n)})},o=function(e){"#ldp-payment-options"===e.attr("href")&&_satellite.track("ldp:tabs:paymentOptions ")};return e.StickyBar={init:t},e.StickyBar}(MOVE.LDP||{}),MOVE.LDP.LeadForm=function(e){var t,i,n,a,o,r,s,l,c,d,u,h=$("#modal-container"),p=!1,f=function(e,i){var n=$("#"+e);r=i,0!==n.length&&(MOVE.Common.getCachedInputs(n),d="turbo-active"===MOVE_DATA.adobeDTM.turboStatus,o={"Free agent analysis":{message:"I would like to be contacted with regards to a FREE agent analysis of my home's value",submitText:"Request a FREE Analysis"},"Looking to Sell":{message:"I would like to speak to an agent about selling a home",submitText:"Request Service"},"How is the market?":{message:"I would like a FREE home value report with recent comparable sales",submitText:"Request Report"},"Home Improvement ROI":{message:"I would like to receive advice from a local real estate professional about the typical after-sale return on investment on home improvement projects in my area",submitText:"Request Advice"},"Property Tax":{message:"I would like to be contacted with regards to the assessed value of my home for property tax",submitText:"Request a FREE Analysis"},"Looking to Buy":{message:"I would like to speak to an agent about buying a home",submitText:"Request Service"}},1===n.length&&(t=model.getData()||{},m()&&(t.remnant=c,localStorage.setItem("remnant","")),n.find(".phone").on("keypress",MOVE.Helper.validatePhone),n.find(".preApproved").change(b),n.find(".js-veterans-checkbox").change(x),l=n.find(".choice-enabled-lead-form, .seller-enabled-lead-form"),l.find(".js-agent-photo").click(v),l.find(".js-agent-name").click(v),n.find("div.bootstrap-select").on("click",function(){$(this).removeClass("error-border");var e=$(this).parent();e.find("select").removeClass("error"),e.find("#leads_form_data_sell_by_date-error").remove()}),y(),v(),w(n),A(n),MOVE.LDP.SellerLead.onLoadCalls(n)))},m=function(){return!!MOVE.LocalStorage.isAvailable&&(c=localStorage.getItem("remnant"),void 0!==c&&""!==c&&null!==c)},g=function(){if(!p){var e=document.createElement("script");e.id="LeadiDscript_campaign",e.type="text/javascript",e.async=!0,e.src=document.location.protocol+"//d1tprjo2w7krrh.cloudfront.net/campaign/01836014-7527-fd48-9b7f-1a40a9705cfe.js",$("body").append(e),p=!0}},v=function(){$(".choice-enabled-lead-form, .seller-enabled-lead-form").find(".popover").addClass("hide"),$(this).closest(".choice-enabled-lead-form, .seller-enabled-lead-form").find(".popover").removeClass("hide")},y=function(){$(document).click(function(e){void 0===e.target||e.target.className.has("js-agent-photo")||e.target.className.has("js-agent-name")||$(".choice-enabled-lead-form, .seller-enabled-lead-form").find(".popover").addClass("hide")})},b=function(){$widget=$(this).parents(".leadForm"),$widget.find(".preApproved").is(":checked")?(g($widget),$widget.find(".js-lead-lender-items").show(500),$widget.find(".js-veterans-checkbox").is(":checked")&&($widget.find("#constent-lead-veterans").show(),$widget.find("#content-lead-securerights").hide())):($widget.find(".js-lead-lender-items").hide(500),$widget.find("#constent-lead-veterans").hide())},x=function(){$widget=$(this).parents(".leadForm"),$widget.find(".js-veterans-checkbox").is(":checked")?($widget.find("#content-lead-securerights").hide(),$widget.find("#constent-lead-veterans").show(),MOVE.Medias.kruxPixel("K1WZo6o3",{})):($widget.find("#content-lead-securerights").show(),$widget.find("#constent-lead-veterans").hide())},w=function(e){e.find(".lead-agent-analysis").on("change",function(){var t=$(this).find("option:selected").val(),i=o[t];void 0!==i&&($message=e.find(".message"),$message.val(i.message),$message.attr("origin_val",i.message),e.find(".submit").val(i.submitText))})},M=function(e){if("not_for_sale"===MOVE_DATA.adobeDTM.propertyStatus)MOVE.LDP.SellerLead.sellerDirectCallOnSubmit(e);else{var t=e.find(".submit").attr("data-omtag");t&&_satellite.track(t)}},A=function(e){var n=e.find("form"),o=e.find(".fullName"),s=e.find(".email"),l=e.find(".phone");n.validate({debug:!0,groups:{buyerSeller:"leads_form_data[buyer] leads_form_data[seller]"},onkeyup:function(e){var t="modified",i=$(e).parent();$(e).val()?i.addClass(t):i.removeClass(t)},rules:{"leads_form_data[name]":{required:!0,pattern:"for_rent"===t.status?/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/:/^[a-zA-Z.+-. ']+$/},"leads_form_data[email]":{required:!0,email:!0,pattern:/^.+@.+\..+$/},"leads_form_data[phone]":{required:S(),phoneUS:!0},"leads_form_data[move_in_date]":{required:t.is_cobroke||"for_rent"===t.status},"leads_form_data[sell_by_date]":{required:"not_for_sale"===t.property_type}},messages:{"leads_form_data[name]":"Please enter your full name","leads_form_data[email]":{required:"Please enter your email",email:"Please enter a valid email",pattern:"Please enter a valid email address"},"leads_form_data[phone]":{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number"},"leads_form_data[move_in_date]":{required:"Please enter move in date"},"leads_form_data[sell_by_date]":{required:"Please select when you plan on selling"}},errorPlacement:function(e,t){t.hasClass("buyer-seller")?e.insertAfter(t.closest("div").find("span")):t.parent(".input-group").hasClass("date")?e.insertAfter(t.parent(".input-group")):t.hasClass("selectpicker")?e.insertAfter(t.parent().find("div.bootstrap-select").addClass("error-border")):e.insertAfter(t)},submitHandler:function(n){var c,d=$(n).find('input[type="submit"]'),p=d.val();$(n).find(".preApproved").is(":checked")&&(c=$(n).find(".credit-selectbox").val(),
MOVE.Medias.kruxPixel("JuefmLiB",{CreditScore:c})),d.length&&R(d),$.ajax({data:E(e,n),url:"/leads",type:"POST",success:function(d){MOVE.Common.cacheInputs(o,s,l),r&&r();var p=JSON.parse(d.data),f=e.find(".js-veterans-checkbox").is(":checked");p.meta.success?(P(p.lead.id,e),M(e),a(e),"for_sale"===t.status&&void 0!==p.mal_leads_form?($("#malLeadThankYou").length&&($("body").removeClass("modal-open"),$("#malLeadThankYou, .modal-backdrop").remove()),h.append(p.mal_leads_form),MOVE.LDP.MalLeadThankYouModal.init("malLeadThankYou",f,c),$("#malLeadThankYou").modal()):"for_rent"===t.status?($("#rental-lead-moving-modal").length||h.append(p.rental_form),i(n)):(u=f?"#leadSimpleThankYouVeterans":"#leadSimpleThankYouShared",$(u).length||h.append(p.thankyou_modal),MOVE.LDP.LeadSimpleThankyouModal.show(u,f,c),t.is_cobroke?MOVE.Medias.kruxPixel("JueQMtaI",{}):(t.is_showcase||"new_community"===t.property_type||"new_plan"===t.property_type)&&MOVE.Medias.kruxPixel("JueQgeAR",{}))):"undefined"!==p.meta.errors[0].description&&alert(p.meta.errors[0].description)},complete:function(){e.data("to",""),e.attr("data-inlineCTA",null),d.length&&L(d,p)}})}}).settings.ignore=":not(select:hidden, input:visible, textarea:visible)"},S=function(){return MOVE.DataStore.getData("leadFormPhoneIsRequired")};$.validator.addMethod("buyer-seller",function(){return $(".buyer-seller:checked").length>0},"Please select at least one"),a=function(e){e.hasClass("modal")&&e.modal("hide"),e.parents(".modal").length>0&&e.parents(".modal").modal("hide")},i=function(e){var t=$("#header-cta").find(".header-cta-lead>a"),i=t.attr("clicked"),n="true"===i?"top":$(e).find(".submit").attr("data-position");t.removeAttr("clicked"),MOVE.LDP.RentalLeadMovingModal.show(n)},n=function(){s.modal("hide")};var _=function(e,i,n){return n?"secondary":e?"business_card":"not_for_sale"===t.property_type?MOVE.LDP.SellerLead.formName()||i.id:i.id},E=function(e,i){var n=$(i),a=n.serialize(),o=e.data("to"),r=n.find(".message"),s=n.find(".preApproved").is(":checked"),l=e.attr("data-inlineCTA"),c=_(o,i,l),d=O(n),u={listing_id:t.listing_id,property_id:t.property_id||t.id,status:t.status||"not_for_sale"===t.property_type&&"not_for_sale",form_name:c,page_name:k(c),form_variant:C(o,i.name,l),modified:r.attr("origin_val")!==r.val(),referral:"",target:T(o,d,n),rcm_lead_id:s?$("#leadid_token").val():"",recent_searches:JSON.stringify(MOVE.UserActivity.getRecentSearches()),recent_views:JSON.stringify(MOVE.UserActivity.getRecentViews()),agents:D(i),broker:MOVE.LDP.SellerLead.brokerInfo(n),postal:t.postal_code};return void 0!==t.remnant&&(a+="&"+$.param({"leads_form_data[featured_ref]":t.remnant})),a+="&"+$.param(u)},C=function(e,t,i){return i?"request_more_details":e||"open_house"===t?"":t},k=function(e){return"seller_summary"===e?e:MOVE_DATA.adobeDTM.pageType},O=function(e){return e.find(".choice-enabled-lead-form, .seller-enabled-lead-form").length>0||"not_for_sale"===t.property_type},T=function(e,t,i){var n;return t&&(agentOrBrokerInfo=i.find(".lead-form-agent-info, .lead-form-broker-info"),agentOrBrokerInfo.length>0&&(n=agentOrBrokerInfo.data("target"))),"emailAgent"===e&&"seller_agent"||"emailBroker"===e&&"seller_broker"||t&&(n||"seller_agent")||""},D=function(e){var t,i=[];return $(e).find(".choice-enabled-lead-form, .seller-enabled-lead-form").each(function(){t={advertiser_id:$(this).data("advertiserid"),type:$(this).data("agenttype"),selection_type:$(this).find(".js-next-gen-agent, .js-seller-agent").is(":checked")?"consumer_selected":"not_selected"},i.push(t)}),i.length>0?JSON.stringify(i):""},P=function(e,i){var n;if("not_for_sale"===t.property_type)n=MOVE.LDP.SellerLead.omnitureLeadJson(e,i);else{var a=i.find("input[name='leads_form_data[move_in_date]']").val()||"",o=""!==a?"move":"",r="";$("#primary_lead_preApproved").prop("checked")&&(r=$("#primary").find(".credit-selectbox").val(),o=$("#primary_lead_isMilitary").prop("checked")?"military":"rcm"),$("#primary_lead_register").prop("checked")&&(o=""===o?"marketing":o+",marketing");var s=i.find(".js-next-gen-agent:checked").length,l=i.find('[data-agenttype="listing_agent"] .js-next-gen-agent:checked').length>0&&"listing"||"",c=i.find('[data-agenttype="local_agent"] .js-next-gen-agent:checked').length>0&&"local"||"",d=[l,c].filter(function(e){return""!==e}).join("+");n={leadGuid:e,moveInDate:a,leadAdditions:o,leadCreditScore:r,selections:d,selectionsCt:s}}MOVE.Helper.updateOmnitureLeadJson(n)},R=function(e){e.attr("disabled",!0),e.val("Contacting...")},L=function(e,t){e.attr("disabled",!1),e.val(t)};return e.LeadForm={init:f,_TEST_getTarget:T,_TEST_getFormVariant:C,_TEST_getPageName:k},e.LeadForm}(MOVE.LDP||{}),MOVE.LDP.LeadSimpleThankyouModal=function(e){var t,i,n,a,o,r=function(e,t,i){o=e,s(),l(),"poor"===i&&t&&$("#leadSimpleVeteranApproval").addClass("hide")},s=function(){t=$(o),i=t.find(".thankyou-save"),n=t.find(".thankyou-done"),a=MOVE.DataStore.getData("memberId")},l=function(){void 0!==a&&MOVE.Helper.isEmpty($(".removeFromSaved").data("res-id"))?(i.show(),n.hide()):(n.show(),i.hide())},c=function(){t.modal()},d=function(e,t,i){$(e).length?(r(e,t,i),c()):MOVE.Helper.fetchModal(e,{isVeteran:t,creditScore:i})};return e.LeadSimpleThankyouModal={init:r,show:d},e.LeadSimpleThankyouModal}(MOVE.LDP||{}),MOVE.LDP.MalLeadThankYouModal=function(e){var t,i,n,a,o,r,s=function(e,n,s){var c=$(".listing-card-filled",".modal-lead-mal-thankyou");a=$("#malLeadThankYou"),o=$("#thank-you-lead-submit"),c.find(".listing-sticker").on("click",d);var u=$("#"+e);MOVE.Common.getCachedInputs(u),1===u.length&&(t=model.getData()||{},u.find(".phone").on("keypress",MOVE.Helper.validatePhone),l(u)),_satellite.track("homes:mal:modal:from-"+r()),a.find(".no-thanks").on("click",i),o.find(".close").on("click",function(){o.addClass("hide")}),n&&"poor"!==s?$("#veterans-lead-mal-text").removeClass("no-show"):$("#veterans-lead-mal-text").addClass("no-show"),t.is_cobroke?MOVE.Medias.kruxPixel("JueQMtaI",{}):(t.is_showcase||"new_community"===t.property_type||"new_plan"===t.property_type)&&MOVE.Medias.kruxPixel("JueQgeAR",{})};r=function(){return t.is_cobroke?"cobroke":t.is_showcase||t.is_office_standard?"showcase":"basic"};var l=function(e){var t=e.find("form");t.validate({debug:!0,groups:{buyerSeller:"leads_form_data[buyer] leads_form_data[seller]"},rules:{"leads_form_data[name]":{required:!0,pattern:/^[a-zA-Z.+-. ']+$/},"leads_form_data[email]":{required:!0,email:!0,pattern:/^.+@.+\..+$/},"leads_form_data[phone]":{required:!0,phoneUS:!0},"mal_data[]":{required:!0}},messages:{"leads_form_data[name]":"Please enter your full name","leads_form_data[email]":{required:"Please enter your email",email:"Please enter a valid email address",pattern:"Please enter a valid email address"},"leads_form_data[phone]":{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number"},"mal_data[]":{required:"Please select the listing you are interested."}},errorPlacement:function(e,t){e.insertBefore(t)},submitHandler:function(t){$.ajax({data:c(e,t),url:"/leads",type:"POST",success:function(t){var a=JSON.parse(t.data);if(a.meta.success){n(a.lead);var s=e.find(".submit").attr("data-omtag");s&&_satellite.track(s),_satellite.track("homes:cobroke:mal:from-"+r()),i(),o.removeClass("hide").show(),o.fadeTo(1e4,100).fadeOut("slow")}else alert(a.meta.errors[0].description)}}),e.data("to","")}})};n=function(e){var t=[];e instanceof Array&&_.each(e,function(e){t.push(e.id)}),MOVE.Helper.updateOmnitureLeadJson({leadGuid:t})};var c=function(e,i){var n=$(i).serialize(),a={status:t.status,form_name:i.id,form_variant:"",modified:!1,referral:"",target:"",recent_searches:JSON.stringify(MOVE.UserActivity.getRecentSearches()),recent_views:JSON.stringify(MOVE.UserActivity.getRecentViews())};return n+="&"+$.param(a)};i=function(){a.modal("hide")};var d=function(){var e=$(this).parents(".listing-card-filled");e.toggleClass("active")};return e.MalLeadThankYouModal={init:s},e.MalLeadThankYouModal}(MOVE.LDP||{}),MOVE.LDP.NearbyCardsToPins=function(){function e(e,t){var i,n;"#ldp-recently-sold-around"===e?(i="#ldp-recently-sold-around-cards .recently-sold-around-listing-card",n=12):(i="#ldp-nearby-list .listing-card",n=20);var a=function(e,t){return!isNaN(e)&&!isNaN(t)&&0!==e&&0!==t&&e>-180&&e<180&&t>-90&&t<90},o={results:{property:{count:0,type:"property",total:n,items:{}}}};return $(e).find(i).each(function(){var e=$(this),i=$(e.parent()),n=parseFloat(i.data("lon")),r=parseFloat(i.data("lat"));if(a(n,r)){var s=[];e.find(".listing-card-tags span").each(function(){s[s.length]=$(this).text()});var l={agentId:i.data("agentid"),ldpUrl:i.data("url"),id:""+i.data("propertyid"),listing_id:parseInt(i.data("listingid"),10),isStatusPending:e.find('span[data-label="property-label-pending"]').length>0,isSaved:e.find(".ra-heart").length>0,mprId:i.data("propertyid"),officeName:i.data("office-name"),plot:!0,position:{coordinates:[n,r],type:"Point"},status:t,type:"property",product_type:i.data("product-type"),search_flags:{},open_house_display:null,sort:0,isCoBroke:"cobroke"===i.data("product-type"),isEnhanced:i.hasClass("listing-showcase"),isForeclosure:_.indexOf(s,"Foreclosure")>-1,isPriceReduced:i.data("price-reduced"),bed:parseInt(e.find('li[data-label="property-meta-beds"] span').text().trim(),10),bath:parseInt(e.find('li[data-label="property-meta-baths"] span').text().trim(),10),lotSize:i.data("lot-size"),photo:e.find(".js-nearby-listing-photos").data("src"),photoCount:parseInt(e.find(".listing-photo").data("photo-count"),10),price:parseInt(e.find(".listing-info-price").text().replace("$","").replace(/\,/g,"").trim(),10),priceDisplay:e.find(".listing-info-price").text().trim(),propertyType:i.data("type"),sqft:parseInt(e.find('li[data-label="property-meta-sqft"] span').text().replace(/\,/g,""),10),sqft_display:e.find('li[data-label="property-meta-sqft"] span').text().trim(),address:i.data("address").trim(),city:i.data("city"),county:i.data("county"),state:i.data("state"),zip:i.data("zip"),pinPrice:null,agent_id:i.data("agentid")};l.isAddressSuppressed=""===l.address,(isNaN(l.price)||"Price Unavailable"===l.priceDisplay)&&(delete l.price,delete l.priceDisplay),o.results.property.items[""+l.id]=l,o.results.property.count++}}),o}function t(){return MOVE_DATA.mapData={mapDataForSale:e("#nearby-homes-for-sale","for_sale"),mapDataRecentlySold:e("#nearby-recently-sold","not_for_sale"),mapDataOffMarket:e("#nearby-home-values","not_for_sale"),mapDataForRent:e("#nearby-for-rent","for_rent"),mapDataRecentlySoldOptimization:e("#ldp-recently-sold-around","not_for_sale")},MOVE_DATA.mapData}return MOVE.LDP.NearbyCardsToPins={parseMapData:t},MOVE.LDP.NearbyCardsToPins}(MOVE.LDP.NearbyCardsToPins||{}),MOVE.LDP.Optimization=function(e){var t=function(){i()},i=function(){$("#ldp-payment-options").on("click","#apply-benefits",function(){var e=$('#down_payment_percent,#down_payment_amount,[data-id="mortgage_loan_type"],#mortgage_percent');$("#ldp-payment-calculator").length&&(e.addClass("highlight-payment-calculator"),setTimeout(function(){e.removeClass("highlight-payment-calculator")},2e3))})};return e.Optimization={init:t},e.Optimization}(MOVE.LDP||{}),MOVE.LDP.MortgagePaymentModal=function(e){var t,i,n=$("#est_display_home_price"),a=$("#modal-title-mortgage-type"),o=null,r=$("#estimate_dp_amount"),s=$("#estimate_mortgage_percent"),l=$("#monthly_payment_estimate"),c=$("#estimate_dp_percent"),d=$("#modal-title-dp-value"),u=$("#modal-title-mortgage-percent"),h=$("#estimate_mortgage_type"),p=$("#ldp-est-downpayment-msg"),f=$("#top-label-msg"),m=$("#top-label-msg-alt"),g=$("#ldp-est-downpayment-amt"),v=$("#remember-settings"),y=$(".js-mortgagepymt-price"),b=$("#mortgagePaymentPriceSmall"),x=$("#mortgagePaymentModal"),w=!1,M=function(){$("#apply-benefits-estimator").on("click",function(){MOVE.VeteranBenefits.toggleVeteranBenefits("#apply-benefits-estimator","#estimate_mortgage_type","estimate_dp_percent","#veteranAdsInEstimatePayment")})},A=function(){t=model.getData(),i=MOVE.LDP.MortgagePayment.getHomePriceValue(t),S(),te("init"),C(),E(),I(),H(),X(),M(),MOVE.VeteranBenefits.showLoanTypeOption("#estimate_mortgage_type",!1),MOVE.Helper.initPopOver($("#modal-mortgage-form"),"#modal-mortgage-form"),x.on("show.bs.modal",function(){var e=$("#apply-benefits-estimator").prop("checked")?"Y":"N";googletag.pubads().setTargeting("VET",[e]),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsEMP),MOVE.Medias.kruxPixel("JuePQcl8",{})})},S=function(){y.click(function(){x.modal(),te(),E()})},E=function(){var e=$("input[name=down-payment-type]:checked").attr("id");W(e);var i=t.price_display.search("-")===-1?t.price_display:t.min_price_display;n.text(i),Y(),K()},C=function(){var e=_.extend({downPaymentPercent:ne()},t);MOVE.LDP.MortgagePayment.getEstimatedData(e).done(function(e){w=!0,k(e)})},k=function(e){var t=e.average_rate;h.find('option[value="30yr_fixed"]').attr("data-rate",t.thirty_year_fix),h.find('option[value="30yr_fha"]').attr("data-rate",t.thirty_year_fha),h.find('option[value="30yr_va"]').attr("data-rate",t.thirty_year_va),h.find('option[value="20yr_fixed"]').attr("data-rate",t.twenty_year_fix),h.find('option[value="15yr_fixed"]').attr("data-rate",t.fifteen_year_fix),h.find('option[value="10yr_fixed"]').attr("data-rate",t.ten_year_fix),h.find('option[value="51_arm"]').attr("data-rate",t.five_one_arm),h.find('option[value="71_arm"]').attr("data-rate",t.seven_one_arm),O(),N()},O=function(){var e=$("#estimate_mortgage_type :selected"),t=fe()||parseFloat(e.attr("data-rate")||"3").toFixed(3)+"%";T(t)},T=function(e){s.val(e),u.text(e)},D=function(){var e=$("#estimate_mortgage_type option:selected"),t={home_price:i,downPayment:MOVE.Helper.formatPrice(r.val()),property_tax:Math.round(MOVE.Helper.formatPrice($("#property_tax").val()||""))||0,hoa:0,hoi:0,rate:parseFloat(s.val()).toFixed(3)/100,loanType:e.val(),term:e.data("term")};MOVE.LDP.MortgagePayment.getCalculatedData(t).done(P)},P=function(e){null!==e&&(o=e,R(e))},R=function(e){var t=e.monthly_payment<=0?0:e.principal_and_interest;t>=0&&L("$"+MOVE.Helper.commaDelimit(Math.round(t).toString()))},L=function(e){l.text(e),(me()||ge())&&w&&ee(e)},N=function(){var e=c.val().replace(/\%/g,""),t=$("#estimate_mortgage_type :selected").val();e<20&&"30yr_va"!==t?(p.removeClass("no-show"),f.addClass("no-show"),m.removeClass("no-show")):(p.addClass("no-show"),f.removeClass("no-show"),m.addClass("no-show"))},I=function(){$("#estimate_dp_percent, #estimate_dp_amount, #estimate_mortgage_percent").keypress(function(e){var t=e.target.id;return"estimate_dp_percent"===t||"estimate_mortgage_percent"===t?V(e):"estimate_dp_amount"===t?F(e):void 0})},V=function(e){var t=e.which;return 8===t||0===t||!(t<48||t>57)||46===t},F=function(e){var t=e.which;return 8===t||0===t||!(t<48||t>57)},H=function(){var e=$("#mortgagePaymentModal .estimate_payment_fields");e.change(function(e){attr_id=e.target.id,z(attr_id)}),e.keyup(function(e){13===e.which&&(attr_id=e.target.id,z(attr_id))})},z=function(e){var t=$("input[name=down-payment-type]:checked").attr("id");switch(w=!1,e){case"estimate_dp_percent":J(),r.removeClass("error"),g.addClass("no-show"),N(),Z(),Q(),Y(),K(),W(t),D();break;case"estimate_dp_amount":j()?(r.removeClass("error"),g.addClass("no-show"),B(),G(),q(),N(),Y(),K(),W(t),D()):(r.addClass("error"),g.removeClass("no-show"));break;case"estimate_mortgage_percent":U(),W(t),D();break;case"estimate_mortgage_type":var i=$("#estimate_mortgage_type option:selected"),n=i.data("rate").toFixed(3)+"%";i.val()===pe()&&(n=fe()||n),J(),r.removeClass("error"),g.addClass("no-show"),s.val(n),N(),Z(),Q(),Y(),K(),W(),D();break;case"radio-dp-percent":case"radio-dp-amount":W(e)}},U=function(){var e,t=MOVE.Helper.formatMortgagePercent(s.val());!t||parseInt(t,10)<=0||"."===t?s.val("0.001%"):t>20?s.val("20%"):(e=parseFloat(t).toFixed(3),s.val(e+"%"))},W=function(e){var t=$("#estimate_mortgage_type option:selected");"radio-dp-percent"===e?d.text(c.val()):d.text(r.val()),a.text(t.text()),u.text(s.val())},j=function(){var e=MOVE.Helper.formatPrice(r.val());if(e){if(parseInt(e,10)>parseInt(i,10))return!1}else r.val(0);return!0},B=function(){var e=MOVE.Helper.formatPrice(r.val()),t=MOVE.Helper.commaDelimit(e);r.val("$"+t)},G=function(){var e,t=MOVE.Helper.formatPrice(r.val());i&&t&&(e=Math.round(100*parseInt(t,10)/parseInt(i,10)),c.val(e))},q=function(){var e,t=c.val();t&&"%"!==t?(t=MOVE.Helper.formatPercent(t),e=Math.round(parseFloat(t))):e=0,e<0?e=0:e>100&&(e=100),c.val(e+"%")},Y=function(){$("#est_display_dp_amount").html(r.val())},K=function(){var e=MOVE.Helper.formatPrice(r.val()),t=MOVE.Helper.commaDelimit(i-e);$("#est_loan_amount").html("$"+t)},J=function(){var e,t=c.val();t&&"%"!==t?(t=MOVE.Helper.formatPercent(t),e=Math.round(parseFloat(t))):e=0,e<0?e=0:e>100&&(e=100),c.val(e+"%")},Z=function(){var e=MOVE.Helper.formatPercent(c.val()),t=Math.round(parseInt(e,10)/100*parseInt(i,10));r.val(t)},Q=function(){var e=MOVE.Helper.formatPrice(r.val()),t=MOVE.Helper.commaDelimit(e);r.val("$"+t)},X=function(){v.click(function(){var e=$("input[name=down-payment-type]:checked").val(),t=$("#estimate_mortgage_type :selected").val(),i=l.text();Storage,le(e),ce(t),de(s.val()),ue(i),ee(i),se(),ae("updateUserSetting"),x.modal("hide"),MOVE_DATA.enableMiniRateTable&&MOVE.LDP.RateTable.init()})},ee=function(e){y.html(' <i class="ra ra-calculator font-size-base"></i> <span class="ldp-mortgage-monthly-price-label font-size-small hide-est-helper">Est. Payment </span>'+e+"/mo"),b.html(' <span class="ldp-mortgage-monthly-price-label font-size-base hide-est-helper">Est. Payment </span>'+e+"/mo"),ue(e),e&&$(document).trigger("saveEstimatedMonthly",e)},te=function(e){var t=he();"option1"===t&&"init"===e&&(localStorage.removeItem("local_stored_estimate_dp_amount"),localStorage.removeItem("local_stored_estimated_monthly_dp"));var i=pe(),n=ve();$(":radio[value="+t+"]").prop("checked",!0),h.find("option[value="+i+"]").prop("selected",!0),h.selectpicker("refresh"),O(),ie(),n&&(l.text(n),$(document).trigger("saveEstimatedMonthly"))},ie=function(){var e=me(),t=ge()||"20%",n=e?MOVE.Helper.formatPrice(me()):Math.round(MOVE.Helper.formatPercent(t)/100*i);n>i&&(n=i,t="100%"),c.val(t),r.val("$"+MOVE.Helper.commaDelimit(n))},ne=function(){return MOVE.Helper.formatPercent(c.val())},ae=function(e){var t=localStorage.local_stored_estimate_dp_percent,n=localStorage.local_stored_selected_mortgage_type,a=localStorage.local_stored_mortgage_percent,o=localStorage.local_stored_estimate_dp_amount;o&&MOVE.Helper.formatPrice(o)>=i&&(t="100%",o="$"+MOVE.Helper.commaDelimit(i)),t&&($("#down_payment_percent").attr("value",t),$("#down_payment_percent").val(t)),o&&($("#down_payment_amount").attr("value",o),$("#down_payment_amount").val(o)),n&&($("#mortgage_loan_type").val(n),$("#mortgage_loan_type").selectpicker("refresh")),a&&($("#mortgage_percent").attr("value",a),$("#mortgage_percent").val(a)),"updateUserSetting"===e&&MOVE.LDP.PaymentOptions.fetchFieldsFromService()},oe=function(){localStorage.setItem("local_stored_estimate_dp_amount",r.val())},re=function(){localStorage.setItem("local_stored_estimate_dp_percent",c.val())},se=function(){re(),oe()},le=function(e){localStorage.setItem("local_stored_checked_radio_option",e)},ce=function(e){localStorage.setItem("local_stored_selected_mortgage_type",e),$("#mortgage_loan_type").selectpicker("val",localStorage.local_stored_selected_mortgage_type)},de=function(e){localStorage.setItem("local_stored_mortgage_percent",e)},ue=function(e){localStorage.setItem("local_stored_estimated_monthly_dp",e)},he=function(){return localStorage.getItem("local_stored_checked_radio_option")||"option1"},pe=function(){return localStorage.getItem("local_stored_selected_mortgage_type")||"30yr_fixed"},fe=function(){return localStorage.getItem("local_stored_mortgage_percent")},me=function(){return localStorage.getItem("local_stored_estimate_dp_amount")},ge=function(){return localStorage.getItem("local_stored_estimate_dp_percent")},ve=function(){var e=0;return o&&(e="$"+MOVE.Helper.commaDelimit(Math.round(o.principal_and_interest).toString())),localStorage.getItem("local_stored_estimated_monthly_dp")||e};return e.MortgagePaymentModal={init:A,updateCalculations:P,syncPaymentOptions:ae},e.MortgagePaymentModal}(MOVE.LDP||{}),MOVE.LDP.PaymentOptions=function(e){var t,i,n,a,o,r,s,l,c,d,u,h,p,f,m,g,v,y,b,x=!1,w=$("#ldp-payment-options"),M="session_stored_mortgage_fields_"+$("#ldp-top-ctas .header-cta-save").attr("data-propertyid"),A=null,S=null,_=null,E=null,C=function(){t=model.getData(),y=xe(),y&&(A=y.home_price||null,S=y.monthly_property_taxes||null,_=y.monthly_home_insurance||null,E=y.hoa_fees||null),k(),MOVE.VeteranBenefits.showVeteranAds("#veteranAds",!1),ue(),Ae(),me(),V()},k=function(){O(),D(),L(),I(),F()},O=function(){$.ajax({url:"/mrtg_handler/payment_options",method:"GET",data:{home_price:A||MOVE.LDP.MortgagePayment.getHomePriceValue(t),hoa:t.hoa_fees,dp_percent:localStorage.getItem("local_stored_estimate_dp_percent")||20,location:t.postal_code+", "+t.city+", "+t.state_code},dataType:"html",success:function(e){$(".lazy_load_payment_options").html(e),T(),MOVE.LDP.MortgagePaymentModal.syncPaymentOptions(),de(),MOVE.LDP.MortgagePayment.initCalculations()}})},T=function(){i=$("#home_price"),n=$("#down_payment_amount"),a=$("#down_payment_percent"),mortgage_loan_type_field=$("#mortgage_loan_type"),o=$("#mortgage_percent"),r=$("#property_tax"),c=$("#home_insurance"),s=$("#principle_interest"),l=$("#mortgage_insurance"),d=$("#hoa_fees"),u=$("#ldp-downpayment-msg"),g=$("#pmytoptions-homeprice-err"),v=$("#pmytoptions-mortgamt-err"),h=$("#rent_per_month"),f=$("#ldp-mortgage-loadingimg"),m=$("#ldp-mortgage-loadingbkg"),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsPaymentOption,".TXTMORT"),ce(),MOVE.VeteranBenefits.showLoanTypeOption("#mortgage_loan_type",!1),MOVE.Helper.initPopOver($(".veteran-benefits-question"))},D=function(){w.on("keypress",".payment_option_fields",function(e){var t=e.target.id;return"home_price"===t||"down_payment_amount"===t||"property_tax"===t||"home_insurance"===t||"hoa_fees"===t?P(e):"down_payment_percent"===t||"mortgage_percent"===t?R(e):void 0})},P=function(e){var t=e.which;return 8===t||0===t||!(13!==t&&t<48||t>57)},R=function(e){var t=e.which;return 8===t||0===t||!(13!==t&&t<48||t>57)||46===t},L=function(){w.on("change",".payment_option_fields",function(e){attr_id=e.target.id,z(attr_id)})},N=function(){Q()&&(W(),MOVE_DATA.enableMiniRateTable&&MOVE.LDP.RateTable.init())},I=function(){loanType=$("#mortgage_loan_type option:selected").val(),w.on("click",".payment-cal-btn",function(){N()})},V=function(){w.on("change","#home_price, #down_payment_amount, #down_payment_percent, #mortgage_loan_type",function(){N()})},F=function(){w.on("click","#apply-benefits",function(){MOVE.VeteranBenefits.toggleVeteranBenefits("#apply-benefits","#mortgage_loan_type","down_payment_percent","#veteranAds")})},H=function(){var e=MOVE.Helper.formatPrice(i.val());e&&(r.val(parseInt(e,10)*parseFloat(r.data("rate"))/12),c.val(parseInt(e,10)*parseFloat(c.data("rate"))/12)),re(),se()},z=function(e){switch(e){case"home_price":K()&&(X(),ie(),ee(),te(),H(),W());break;case"down_payment_amount":K()&&(ee(),ne(),te(),ce(),W());break;case"down_payment_percent":te(),ie(),ee(),ce(),W();break;case"mortgage_loan_type":var t=$("#mortgage_loan_type option:selected");ce();var i=t.data("rate");o.val(parseFloat(i).toFixed(3)+"%"),te(),ie(),ee(),W();break;case"mortgage_percent":var n=ae();n&&(oe(),W());break;case"property_tax":re(),W();break;case"home_insurance":se(),W();break;case"hoa_fees":le(),W()}},U=function(){var e=$("#mortgage_loan_type option:selected"),t={home_price:MOVE.Helper.formatPrice($("#home_price").val()||""),downPayment:MOVE.Helper.formatPrice($("#down_payment_amount").val()||""),property_tax:Math.round(MOVE.Helper.formatPrice(r.val()||""))||0,hoa:MOVE.Helper.formatPrice($("#hoa_fees").val()||"")||0,hoi:MOVE.Helper.formatPrice($("#home_insurance").val()||"")||0,rate:parseFloat(o.val()).toFixed(3)/100,loanType:e.val(),term:e.data("term")};return t},W=function(){f.removeClass("no-show"),m.addClass("loading-bkg");var e=U();MOVE.LDP.MortgagePayment.getCalculatedData(e).done(j)},j=function(e){e&&Y(e),f.addClass("no-show"),m.removeClass("loading-bkg")},B=function(e){var t=e.monthly_payment,i={label:"Principal & Interest",amount:Math.round(e.principal_and_interest),data:[e.principal_and_interest/t*100]},n={label:"Tax",amount:Math.round(e.monthly_property_taxes),data:[e.monthly_property_taxes/t*100]},a={label:"Home Insurance",amount:Math.round(e.monthly_home_insurance),data:[e.monthly_home_insurance/t*100]},o={label:"HOA",amount:Math.round(e.hoa_fees),data:[e.hoa_fees/t*100]},r={label:"Mortgage Insurance",amount:Math.round(e.monthly_mortgage_insurance),data:[e.monthly_mortgage_insurance/t*100]},s=[i,n,a,o,r];p.setData(s),p.setupGrid(),p.draw()},G=function(e){r.val("$"+MOVE.Helper.commaDelimit(Math.round(e.monthly_property_taxes).toString())),c.val("$"+MOVE.Helper.commaDelimit(Math.round(e.monthly_home_insurance).toString())),d.val("$"+MOVE.Helper.commaDelimit(Math.round(e.hoa_fees).toString())),h.text("$"+MOVE.Helper.commaDelimit(Math.round(e.monthly_payment).toString())),s.text("$"+MOVE.Helper.commaDelimit(Math.round(e.principal_and_interest).toString())),l.text("$"+MOVE.Helper.commaDelimit(Math.round(e.monthly_mortgage_insurance).toString()))},q=function(e,t){return e?e-t:0},Y=function(e){if(x===!1){var t=q(S,e.monthly_property_taxes),i=q(_,e.monthly_home_insurance),n=q(E,e.hoa_fees);e.monthly_property_taxes=S||e.monthly_property_taxes,e.monthly_home_insurance=_||e.monthly_home_insurance,e.hoa_fees=E||e.hoa_fees,e.monthly_payment=e.monthly_payment+t+i+n,x=!0}B(e),G(e)},K=function(){return J()?(i.removeClass("error"),g.addClass("no-show"),Z()?(n.removeClass("error"),g.addClass("no-show"),!0):(n.addClass("error"),i.addClass("error"),g.removeClass("no-show").text("Purchase Price is less than Down Payment"),!1)):(i.addClass("error"),g.removeClass("no-show").text("Enter amount between $1000 - $999,999,999"),!1)},J=function(){var e=i.val(),t=!0;return e&&"$"!==e?(e=MOVE.Helper.formatPrice(e),(parseInt(e,10)<1e3||parseInt(e,10)>999999999)&&(t=!1)):t=!1,t},Z=function(){var e=!0,t=i.val(),a=n.val();return t=MOVE.Helper.format(t),a=MOVE.Helper.formatPrice(a),a?parseInt(a,10)>parseInt(t,10)&&(e=!1):n.val(0),e},Q=function(){return!(i.hasClass("error")||n.hasClass("error")||o.hasClass("error"))},X=function(){var e=i.val();e=MOVE.Helper.formatPrice(e);var t=MOVE.Helper.commaDelimit(e);i.val("$"+t)},ee=function(){var e=n.val(),t=MOVE.Helper.formatPrice(e),i=MOVE.Helper.commaDelimit(t);n.val("$"+i)},te=function(){var e=a.val(),t=null;e&&"%"!==e?(e=MOVE.Helper.formatPercent(e),t=Math.round(parseFloat(e))):t=0,t<0?t=0:t>100&&(t=100),a.val(t+"%")},ie=function(){var e=MOVE.Helper.formatPrice(i.val()),t=MOVE.Helper.formatPercent(a.val()),o=null;o=e?Math.round(parseInt(t,10)/100*parseInt(e,10)):0,n.val(o)},ne=function(){var e=i.val(),t=n.val(),o=null;return e=MOVE.Helper.formatPrice(e),t=MOVE.Helper.formatPrice(t),!(!e||!t)&&(o=Math.round(100*parseInt(t,10)/parseInt(e,10)),void a.val(o))},ae=function(){var e=o.val();return e=MOVE.Helper.formatMortgagePercent(e),!e||e<=0||e>20||"."===e?(o.addClass("error"),v.removeClass("no-show"),!1):(o.removeClass("error"),v.addClass("no-show"),!0)},oe=function(){var e=o.val();e=MOVE.Helper.formatMortgagePercent(e),e=parseFloat(e).toFixed(3),o.val(e+"%")},re=function(){var e=MOVE.Helper.formatPrice(r.val()),t=MOVE.Helper.commaDelimit(e);t||(t=0),r.val("$"+t)},se=function(){var e=MOVE.Helper.formatPrice(c.val()),t=MOVE.Helper.commaDelimit(e);t||(t=0),c.val("$"+t)},le=function(){var e=MOVE.Helper.formatPrice(d.val()),t=MOVE.Helper.commaDelimit(e);t||(t=0),d.val("$"+t)},ce=function(){var e=a.val().replace(/\%/g,""),t=$("#mortgage_loan_type option:selected").val();e<20&&"30yr_va"!==t?u.removeClass("no-show"):u.addClass("no-show")},de=function(){b=$("#ldp-payment-calculator");var e=function(){return b.length?["#92A0E5","#BCDB8F","#7BCDF3","#FF9A51","#F35A7F"]:["#f8a01c","#afd362","#6759a6","#50b4e6","#707271"]},t=function(){return b.length&&MOVE_DATA.propertyDetails.is_mobile?{hoverable:!0,clickable:!0}:{}},i=o.val().replace(/\%/g,"");o.val(parseFloat(i).toFixed(3)+"%"),$("#mortgage_loan_type").selectpicker();var n=[100,10,10,10,10],a=$("#ldp-mortgage-chart");p=$.plot(a,n,{colors:e(),series:{pie:{innerRadius:.7,show:!0,label:{show:!1},stroke:{width:0},highlight:{opacity:0}}},grid:t(),legend:{show:!1}}),a.on("plotclick",function(e,t,i){i&&($(".label-payment-option-chart").remove(),Me($(this).parent(),t.pageX,t.pageY)&&$("body").append('<a data-toggle="modal" data-target="#payment_options_mobile_modal"  href="javascript:void(0)"><div class="label-payment-option-chart pos-absolute text-center" style="top:'+t.pageY+"px; left:"+t.pageX+'px">'+i.series.label+"<br><u>$"+i.series.amount+"</u></div></a>"))}),$("#ldp-mortgage-chart-wrap .input-edit-inplace").prop("disabled",!0),$("#ldp-mortgage-chart-wrap .editinplace-trigger").on("click",function(){$(this).parent().find(".input-edit-inplace").prop("disabled",!1).removeClass("input-inplace-noborder").select().focus()}),$("#ldp-mortgage-chart-wrap .editinplace-hover-edit").hover(function(){$(this).parent().find(".input-edit-inplace").prop("disabled",!1).removeClass("input-inplace-noborder").focus()}),$(document).on("blur","#ldp-mortgage-chart-wrap .input-edit-inplace, #ldp-mortgage-chart-wrap .editinplace-hover-edit",function(){$(this).prop("disabled",!0).addClass("input-inplace-noborder").select().focus()}),$("#payment_options_mobile_modal").on("show.bs.modal",function(){$(".input-edit-inplace").prop("disabled",!1).removeClass("input-inplace-noborder")}),$("#payment_options_mobile_modal").on("hide.bs.modal",function(){$(window).scrollTop($("#ldp-payment-options").offset().top)})},ue=function(){he(),pe(),fe(),ge()},he=function(){w.on("change","#down_payment_percent, #down_payment_amount",function(){localStorage.setItem("local_stored_estimate_dp_percent",$("#down_payment_percent").val()),_satellite.track("finance:calculator:success")})},pe=function(){w.on("change","#mortgage_loan_type",function(){$value=$("#mortgage_loan_type :selected").val(),localStorage.setItem("local_stored_selected_mortgage_type",$value),$("#mortgage_loan_type").selectpicker("val",localStorage.local_stored_selected_mortgage_type),_satellite.track("finance:calculator:success")})},fe=function(){w.on("change","#mortgage_percent",function(){localStorage.setItem("local_stored_mortgage_percent",$("#mortgage_percent").val())})},me=function(){$(w).on("click",".payment-cal-btn",function(){_satellite.track("finance:calculator:success")})},ge=function(){w.on("change","#home_price, #property_tax, #home_insurance, #hoa_fees",function(){ve()}),w.on("change","#home_price",function(){_satellite.track("finance:calculator:success")})},ve=function(){we.home_price=$("#home_price").val().replace(/\D/g,""),we.monthly_property_taxes=ye($("#property_tax")),we.monthly_home_insurance=ye($("#home_insurance")),we.hoa_fees=ye($("#hoa_fees")),be()},ye=function(e){return parseInt(e.val().replace(/\D/g,""),10)},be=function(){window.sessionStorage.setItem(M,JSON.stringify(we))},xe=function(){var e=window.sessionStorage.getItem(M);return e?JSON.parse(e):{}},we=xe(),Me=function(e,t,i){var n=e.width()/2+e.offset().left,a=e.height()/2+e.offset().top,o=e.height()/2,r=Math.pow(t-n,2)+Math.pow(i-a,2),s=r<Math.pow(o,2),l=r>Math.pow(.7*o,2);return!(!s||!l)},Ae=function(){$(document).click(function(e){$(e.target).closest("#ldp-mortgage-chart").length||$(".label-payment-option-chart").remove()})};return e.PaymentOptions={init:C,updateCalculations:j,mortgageOptions:U,fetchFieldsFromService:W},e.PaymentOptions}(MOVE.LDP||{}),MOVE.LDP.PhotoGallery=function(e){var t,i,n,a,o,r,s,l,c,d,u,h,p,f,m,g=function(e){if(d=e.selectedPhotoIndex,t=!1,i=!1,n=!0,h=e.galleryContainer||$("#ldpPhotoGallery"),p=e.navContainer||$("#ldpPhotoGalleryNavigation"),f=e.showPhotoCount,u=e.thumbnailContainer||$("#photoCarousel","#ldp-fullscreen-gallery"),m=e.showAds,0===h.find(".owl-loaded").length&&(a(),o()),f){$("#photoGalleryMrect").addClass("hide"),$("#ldp-gallery-lead-form").addClass("hide");var s=h.find("div.owl-item:not('.cloned')").length;s>1?s>d+1?$("#galleryFirstCount").text(d+1):$("#galleryFirstCount").text(d):$("#galleryFirstCount").text("1")}e.showAds&&(MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),$("#photoGalleryMrect").removeClass("hide")),MOVE.LDP.Photos.preloadPhotos(h,d),r(),MOVE.Helper.highlightThumbnail(d,u)};return a=function(){var e,t={target:h,currentIndex:d,margin:50,touchDrag:MOVE_DATA.propertyDetails.photo_count>1,mouseDrag:MOVE_DATA.propertyDetails.photo_count>1,navigationContainer:p};if(f){e=function(e,t){var i=1===$("#photoGalleryMrect").length?1:0;
e>t+i?($("#galleryFirstCount").text(t+1),MOVE.Helper.highlightThumbnail(t,u),i>0&&e<=t+i+1+window.gptAds.gptadslotsFullPhotoGallery.preload&&MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),$("#photoGalleryMrect").addClass("hide")):e>1&&($("#galleryFirstCount").text(t),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),$("#photoGalleryMrect").removeClass("hide"))};var i=function(){$("#photoGalleryMrect").addClass("hide")};MOVE.LDP.Photos.init(t,e,i)}else e=function(e,t){MOVE.Helper.highlightThumbnail(t,u)},MOVE.LDP.Photos.init(t,e)},o=function(){MOVE.Helper.loadCarouselThumbnails(u),u.off("click",".owl-item").on("click",".owl-item",function(){var e=$(this),t=u.data("owl.carousel"),i=t.relative(e.index());h.trigger("to.owl.carousel",[i,200,!0]),u.find("div.highlight").removeClass("highlight"),e.addClass("highlight"),h.hasClass("hide")&&(l(),n=!0),galleryNavigationHide(!1),directionsHide(!0)}),$("#photoGalleryMap").off("click").on("click",function(){s(!1),galleryNavigationHide(!0),directionsHide(!1)}),$("#photoGalleryStreet").off("click").on("click",function(){s(!0),galleryNavigationHide(!0),directionsHide(!0)}),$("#ldp-fullscreen-gallery .jsLdpGalleryLeadCta").off("click").on("click",function(){_satellite.track("homes:modal:rmd")})},$("#viewOriginal").on("click",function(){if(void 0!==h){var e=h.find(".owl-item.active img").attr("src");e=void 0!==e?e.replace(/xd-(\w+)/,"r"):"",window.open(e,"_blank")}}),r=function(){h.trigger("to.owl.carousel",[d,200,!0]),$("#ldpPhotoGalleryNavigation").removeClass("hide"),h.hasClass("hide")&&(l(),n=!0)},c=function(){var e=$("#ldpBottomLeadModal");1===e.length&&e.modal("hide")},s=function(e){n&&(l(),n=!1),t?e?(i=!0,MOVE.LDP.Map.showStreetView(i)):i&&(i=!1,MOVE.LDP.Map.showStreetView(i)):(MOVE.LDP.Map.init("photoGalleryLDPMap",!0,e),t=!0,i=e),$("#photoGalleryMrect").addClass("hide")},l=function(){h.toggleClass("hide"),$("#galleryPhotoCount").toggleClass("hide"),$("#photoGalleryLDPMap").parent().toggleClass("hide")},galleryNavigationHide=function(e){$("#ldpPhotoGalleryNavigation").toggleClass("hide",e)},directionsHide=function(e){$("#galleryMapDirectionsBtn").toggleClass("hide",e)},e.PhotoGallery={init:g,hideLeadForm:c},e.PhotoGallery}(MOVE.LDP||{}),MOVE.LDP.PhotoGalleryOptimization=function(e){var t,i,n,a,o,r,s,l,c,d,u,h,p,f,m,g=function(e){if(d=e.selectedPhotoIndex,t=!1,i=!1,n=!0,h=e.galleryContainer||$("#ldpPhotoGallery"),p=e.navContainer||$("#ldpPhotoGalleryNavigation"),f=e.showPhotoCount,u=e.thumbnailContainer||$("#photoCarousel","#ldp-fullscreen-gallery"),m=e.showAds,0===h.find(".owl-loaded").length&&(a(),o()),f){$("#photoGalleryMrect").addClass("hide"),$("#ldp-gallery-lead-form").addClass("hide");var s=h.find("div.owl-item:not('.cloned')").length;s>1?s>d+1?$("#galleryFirstCount").text(d+1):s>d+2?$("#galleryFirstCount").text(d+2):$("#galleryFirstCount").text(d):$("#galleryFirstCount").text("1")}e.showAds&&d===MOVE_DATA.propertyDetails.photo_count-1&&(MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),$("#photoGalleryMrect").removeClass("hide")),MOVE.LDP.Photos.preloadPhotos(h,d),r(),MOVE.Helper.highlightThumbnail(d,u)};return a=function(){var e,t={target:h,currentIndex:d,margin:50,touchDrag:MOVE_DATA.propertyDetails.photo_count>1,mouseDrag:MOVE_DATA.propertyDetails.photo_count>1,navigationContainer:p};if(f){e=function(e,t){var i=1===$("#photoGalleryMrect").length?1:0;h.find("div.owl-item:not('.cloned')").length;e>t+i&&t!==MOVE_DATA.propertyDetails.photo_count?($("#galleryFirstCount").text(t+1),MOVE.Helper.highlightThumbnail(t,u),i>0&&e<=t+i+1+window.gptAds.gptadslotsFullPhotoGallery.preload&&MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),$("#photoGalleryMrect").addClass("hide"),$("#fullScreenphotoGalleryLead").addClass("hide"),$("#ldpPhotoGalleryNavigation").find(".owl-next span").remove()):e>1&&t===MOVE_DATA.propertyDetails.photo_count?($("#galleryFirstCount").text(t),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),$("#photoGalleryMrect").removeClass("hide"),$("#fullScreenphotoGalleryLead").addClass("hide"),$("#ldpPhotoGalleryNavigation").find(".owl-next span").remove()):e>1&&t===MOVE_DATA.propertyDetails.photo_count+1?($("#fullScreenphotoGalleryLead").removeClass("hide"),$("#photoGalleryMrect").addClass("hide"),$("#galleryFirstCount").text(t-1),$("#ldpPhotoGalleryNavigation").find(".owl-next .ra-chevron-right").before("<span data-omtag='edw:ldp:photo:next' class='gallery-photos-icon'><i class='ra ra-camera icon-space-right'></i>Photos</span>")):($("#galleryFirstCount").text(t-1),$("#photoGalleryMrect").addClass("hide"),$("#fullScreenphotoGalleryLead").addClass("hide"))};var i=function(){$("#photoGalleryMrect").addClass("hide")};MOVE.LDP.Photos.init(t,e,i)}else e=function(e,t){MOVE.Helper.highlightThumbnail(t,u)},MOVE.LDP.Photos.init(t,e)},o=function(){MOVE.Helper.loadCarouselThumbnails(u),u.off("click",".owl-item").on("click",".owl-item",function(){var e=$(this),t=u.data("owl.carousel"),i=t.relative(e.index());h.trigger("to.owl.carousel",[i,200,!0]),u.find("div.highlight").removeClass("highlight"),e.addClass("highlight"),h.hasClass("hide")&&(l(),n=!0),galleryNavigationHide(!1),directionsHide(!0)}),$("#photoGalleryMap").off("click").on("click",function(){s(!1),galleryNavigationHide(!0),directionsHide(!1)}),$("#photoGalleryStreet").off("click").on("click",function(){s(!0),galleryNavigationHide(!0),directionsHide(!0)}),$("#ldp-fullscreen-gallery .jsLdpGalleryLeadCta").off("click").on("click",function(){_satellite.track("homes:modal:rmd")})},$("#viewOriginal").on("click",function(){if(void 0!==h){var e=h.find(".owl-item.active img").attr("src");e=void 0!==e?e.replace(/xd-(\w+)/,"r"):"",window.open(e,"_blank")}}),r=function(){h.trigger("to.owl.carousel",[d,200,!0]),$("#ldpPhotoGalleryNavigation").removeClass("hide"),h.hasClass("hide")&&(l(),n=!0)},c=function(){var e=$("#ldpBottomLeadModal");1===e.length&&e.modal("hide")},s=function(e){n&&(l(),n=!1),t?e?(i=!0,MOVE.LDP.Map.showStreetView(i)):i&&(i=!1,MOVE.LDP.Map.showStreetView(i)):(MOVE.LDP.Map.init("photoGalleryLDPMap",!0,e),t=!0,i=e),$("#photoGalleryMrect").addClass("hide")},l=function(){h.toggleClass("hide"),$("#galleryPhotoCount").toggleClass("hide"),$("#photoGalleryLDPMap").parent().toggleClass("hide")},galleryNavigationHide=function(e){$("#ldpPhotoGalleryNavigation").toggleClass("hide",e)},directionsHide=function(e){$("#galleryMapDirectionsBtn").toggleClass("hide",e)},e.PhotoGalleryOptimization={init:g,hideLeadForm:c},e.PhotoGalleryOptimization}(MOVE.LDP||{}),MOVE.LDP.RateTable=function(e){var t=($(".mortgage-rate-widget"),$(".js-rate-table-items .row")),i=$(".js-rate-table-popover"),n=$(".js-rate-table-graph"),a=MOVE.DataStore.getData("propertyDetails"),o=function(){p().done(function(e){e.meta.success&&e.rate_table?s(e):r()}).fail(function(){r()})},r=function(){t.empty(),n.removeClass("hide"),m(),MOVE.MortgageGraph.init()},s=function(e){n.addClass("hide"),m(e),g(e)},l=function(){var e=localStorage.local_stored_selected_mortgage_type,t=$("#mortgage_loan_type option:selected").length>0?$("#mortgage_loan_type option:selected").val():void 0;return t||e||"30yr_fixed"},c=function(){var e=localStorage.local_stored_downpayment_percent_value,t=$("#down_payment_percent").length>0?$("#down_payment_percent").val().replace("%",""):void 0;return t||e||20},d=function(e){return 100-e},u=function(){return parseInt($("#ldp-payment-options").find("#home_price").val().replace(/\$|,/g,"").trim(),10)},h=function(){var e=l(),t={};switch(e){case"30yr_fixed":t={request_parameter:"30YrFixed",text_field:"30-Year Fixed"};break;case"30yr_fha":t={request_parameter:"30YrFixed_FHA",text_field:"30-Year Fixed FHA"};break;case"30yr_va":t={request_parameter:"30YrFixed_VA",text_field:"30-Year Fixed VA"};break;case"20yr_fixed":t={request_parameter:"20YrFixed",text_field:"20-Year Fixed"};break;case"15yr_fixed":t={request_parameter:"15YrFixed",text_field:"15-Year Fixed"};break;case"10yr_fixed":t={request_parameter:"10YrFixed",text_field:"10-Year Fixed"};break;case"51_arm":t={request_parameter:"5Arm",text_field:"5/1 ARM"};break;case"71_arm":t={request_parameter:"7Arm",text_field:"7/1 ARM"}}return t},p=function(){var e=$.Deferred();return $.ajax({url:"/mrtg_handler/mini_rates",method:"GET",dataType:"JSON",data:{property_price:u(),ltv:d(c()),zip:a.postal_code,loan_purpose:"purchase",state:a.state_code,loan_types:h().request_parameter,source:"ldp",limit:"3"},success:function(t){e.resolve(t)},error:function(t){e.reject(t)}}),e},f=function(){var e="http://www.realtor.com/mortgage/rates/#zip="+a.postal_code;return e+="&property_price="+u(),e+="&dper="+c(),window.location.href=e,!1},m=function(e){var t="",n="http://www.bankrate.com",a="Bankrate.com",o="bank-rate";e&&e.rate_table[0]&&e.rate_table[0].Provider&&(a=e.rate_table[0].Provider.Name,o="bankrate"!==a.toLowerCase()?e.rate_table[0].Provider.Name.toLowerCase():"bank-rate",t=e.rate_table[0].Provider.Logo,n=e.rate_table[0].Provider.Url),t?$(".js-rate-table-popover").html('<img src="'+t+'" alt="'+a+'logo" />'):$(".js-rate-table-popover").html(a),$(".js-rate-table-info span:first").text("Local rates for "+h().text_field+" loan after a "+c()+"% down payment."),$(".js-rate-table-view-more").attr("data-omtag","ldp:rr:rate-table:"+o+":view-more"),$(".js-rate-table-view-more").on("click",f),i.popover({html:"true",placement:"bottom",content:JST["templates/mortgage_rate_header_popover"]({providerName:a,providerUrl:n,providerOmnitureName:o}),trigger:"click"}).on("click",function(e){e.preventDefault()}),$("body").on("click touchstart",function(e){var t=$(e.target);!t.is(i)&&0===t.parents(".popover").length&&i.length>0&&i.popover("hide")})},g=function(e){t.empty(),$.each(e.rate_table,function(e,i){var n=i.Rate.toFixed(3),a=i.AprVal.toFixed(3),o=i.DateVal.substring(4),r=i.Provider&&"bankrate"!==i.Provider.Name.toLowerCase()?i.Provider.Name.toLowerCase():"bank-rate",s="ldp:rr:rate-table:"+r+":arm-rate:learn-more",l="";i.LoanTypeDisplayName.indexOf("ARM")<0&&(s="ldp:rr:rate-table:"+r+":fixed-rate:learn-more"),l=$(".js-rate-table-items.variant").length?"templates/mortgage_rate_item_variant":"templates/mortgage_rate_item";var c=JST[l]({advertiser:i,rate:n,apr:a,date:o,omtagLearnMore:s});t.append(c)})};return e.RateTable={init:o},e.RateTable}(MOVE.RateTable||{}),MOVE.LDP.RentalLeadFreeMovingQuotesModal=function(e){var t,i,n,a,o,r,s,l,c,d,u=function(){l=model.getData()||{},h(),f(),m(),MOVE.Common.openModalMovingLeadOmniture()},h=function(){if(t=$("#rental-lead-free-moving-quotes-modal"),i=t.find(".submit"),n=t.find("form"),o=n.find("#rental-free-moving-name"),a=n.find("#rental-free-moving-phone"),r=n.find("#rental-free-moving-date-picker"),s=n.find("#rental-free-moving-email"),MOVE.LocalStorage.isAvailable&&(c=localStorage.getItem(MOVE.CONSTANTS.CACHED_USER_INPUT_STOREAGE_NAME))){var e=JSON.parse(c);void 0!==e.fullName&&""!==e.fullName?(o.val(e.fullName),e.fullName.indexOf(" ")>=0&&n.find(".rental-moving-name-parent").hide()):n.find(".rental-moving-name-parent").show(),void 0!==e.phone&&""!==e.phone?(a.val(e.phone),n.find(".rental-moving-phone-parent").hide()):n.find(".rental-moving-phone-parent").show(),void 0!==e.email&&""!==e.email?(s.val(e.email),n.find(".rental-moving-email-parent").hide()):n.find(".rental-moving-email-parent").show()}},p=function(){t.modal("hide");var e=$("#thank-you-moving-quote");e.find(".close").on("click",function(){e.addClass("hide")}),e.removeClass("hide").show(),e.fadeTo(1e4,100).fadeOut("slow")},f=function(){var e=new Date;e.setDate(e.getDate()+14),r.datepicker({orientation:"auto",autoclose:!0,startDate:"+1d",endDate:"+6m"}),r.datepicker("setDate",e),r.datepicker("update")},m=function(){var e={"rental-free-moving-move-from":{required:"Please enter zip code",pattern:"Please enter a valid zip code",invalid:"Please enter a valid zip code"},"rental-free-moving-name":{required:"Please enter your full name",pattern:"Please enter a valid full name",invalid:"Please enter a valid full name"},"rental-free-moving-phone":{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number",invalid:"Please enter a valid phone number"},"rental-free-moving-email":{required:"Please enter your email",email:"Please enter a valid email",invalid:"Please enter a valid email",pattern:"Please enter a valid email"},"rental-free-moving-move-in-date":{required:"Please enter a date"}};d=n.validate({rules:{"rental-free-moving-move-from":{required:!0,pattern:/^\d{5}(-\d{4})?$/},"rental-free-moving-name":{required:!0,pattern:/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/},"rental-free-moving-phone":{required:!0,phoneUS:!0},"rental-free-moving-email":{required:!0,email:!0,pattern:/^.+@.+\..+$/},"rental-free-moving-move-in-date":{required:!0}},messages:e,errorPlacement:function(e,t){MOVE.Helper.movingQuoteErrorPlacement(e,t)},submitHandler:function(){var t=MOVE.DateFormat.getFormattedDate(r.datepicker("getDate")),i=o.val().split(" "),c={from_zip:n.find("#rental-free-moving-move-from").val(),to_zip:l.postal_code,last_name:i[1],first_name:i[0],email:s.val(),phone_home:a.val(),move_date:t,move_size:n.find("#rental-free-moving-move-size").val(),lead_source:"rdc-mod-ldp"};v(!1),$.ajax({url:"/moving/lead",method:"POST",data:c,dataType:"JSON",success:function(t){return MOVE.Common.cacheInputs(o,s,a),v(!0),t.meta.success?(g(),p()):void _.each(t.meta.errors,function(t){var i={},o=MOVE.Helper.mapMovingAPIErrorCodeToName(t.code);return"unsupported"===o?(g(),p()):(o="first-name"===o||"last-name"===o?"name":o,"phone"===o?(n.find(".rental-moving-phone-parent").show(),a.one("keyup",function(){$(this).valid()})):"email"===o&&(n.find(".rental-moving-email-parent").show(),s.one("keyup",function(){$(this).valid()})),o="rental-free-moving-"+o,i[o]=e[o].invalid,void d.showErrors(i))})}})}})},g=function(){MOVE.Helper.updateOmnitureLeadJson({leadType:"moving",leadPlacement:"ldp:top"}),MOVE.Common.successMovingLeadOmniture()},v=function(e){i.attr("disabled",!e)};return e.RentalLeadFreeMovingQuotesModal={init:u,showThankyou:p},e.RentalLeadFreeMovingQuotesModal}(MOVE.LDP||{}),MOVE.LDP.rentalLeadMovingForm=function(e){var t,i,n,a,o,r,s,l,c,d,u,h,p,f,m,g,v,y,b,x,w,M="#rental-lead-moving-modal",A=function(i){S(i),P(),E(),$("#modal-movingquote-back").off("click").on("click",function(){e.RentalLeadMovingModal.resetMovingQuotes()}),$("#modal-movingquote-submit").off("click").on("click",function(){var e=$('input[name="movinghelp"]:checked').val();e&&("none"===e?(MOVE.LDP.RentalLeadMovingModal.closeModal(),MOVE_DATA.adobeDTM.modal={selfIdentify:"no-moving-help"},MOVE.Common.openModalMovingLeadOmniture()):(x=$.extend(x,{move_type:e}),O(function(){T(!0),d.removeClass("hide").siblings().addClass("hide"),t.find(".modal-title").html("Thank You"),MOVE_DATA.adobeDTM.modal={name:"movingQuote.step3",selfIdentify:"labor"===e?"moving-labor":"moving-full"},MOVE.Common.openModalMovingLeadOmniture(),D()})))})},S=function(e){if(u=model.getData()||{},f=e,t=$(M),i=t.find("#rental-lead-moving-submit-btn"),$movingQuoteSubmitBtn=t.find("#modal-movingquote-submit"),l=$("#modal-movingquote-content1"),c=$("#modal-movingquote-content2"),d=$("#modal-movingquote-content3"),n=t.find("form"),o=n.find("#rental-moving-name"),a=n.find("#rental-moving-phone"),s=n.find("#rental-moving-email"),r=n.find("#rental-moving-date-picker"),$fromZip=n.find("#rental-moving-move-from"),$moveSize=n.find("#rental-moving-move-size"),MOVE.LocalStorage.isAvailable&&(h=localStorage.getItem(MOVE.CONSTANTS.CACHED_USER_INPUT_STOREAGE_NAME))){var p=JSON.parse(h);MOVE.Helper.isEmpty(p.fullName)?n.find(".rental-moving-name-parent").show():(o.val(p.fullName),n.find(".rental-moving-name-parent").hide()),MOVE.Helper.isEmpty(p.phone)?n.find(".rental-moving-phone-parent").show():(a.val(p.phone),n.find(".rental-moving-phone-parent").hide()),MOVE.Helper.isEmpty(p.email)?n.find(".rental-moving-email-parent").show():(s.val(p.email),n.find(".rental-moving-email-parent").hide())}},E=function(){w={"rental-moving-move-from":{required:"Please enter zip code",pattern:"Please enter a valid zip code",invalid:"Please enter a valid zip code"},"rental-moving-name":{required:"Please enter your full name",pattern:"Please enter a valid full name",invalid:"Please enter a valid full name"},"rental-moving-phone":{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number",invalid:"Please enter a valid phone number"},"rental-moving-email":{required:"Please enter your email",email:"Please enter a valid email",invalid:"Please enter a valid email"},"rental-moving-move-in-date":{required:"Please enter a date"},"rental-moving-move-size":{required:"Please enter a valid move size",pattern:"Please enter a valid move size"}},p=n.validate({ignore:"",rules:{"rental-moving-move-from":{required:!0,pattern:/^\d{5}(-\d{4})?$/},"rental-moving-name":{required:!0,pattern:/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/},email:{required:!0,email:!0},"rental-moving-phone":{required:!0,phoneUS:!0},"rental-moving-move-in-date":{required:!0},"rental-moving-move-size":{required:!0,pattern:/^[1-9]\d*$/}},messages:w,errorPlacement:function(e,t){t.parent(".input-group").hasClass("date")?e.insertAfter(t.parent(".input-group")):"rental-moving-move-size"===t.attr("id")?t.parent().append(e):e.insertAfter(t)},submitHandler:C})},C=function(){m=MOVE.DateFormat.getFormattedDate(r.datepicker("getDate")),g=$fromZip.val(),v=$moveSize.val(),y=u.postal_code,b=o.val().split(" "),x={from_zip:g,to_zip:y,last_name:b[1],first_name:b[0],email:s.val(),phone_home:a.val(),move_date:m,move_size:v,property_type:"rdc-rnt",product_type:MOVE_DATA.adobeDTM.productType,parent_lead_form_position:f,move_type:"company"},$.ajax({url:"/moving/area/zipcode",method:"POST",data:{zipcode:g},dataType:"JSON",success:function(e){var t=e&&e.state&&e.state.toLowerCase()===u.state_code.toLowerCase();t?k():(x=$.extend(x,{move_type:"company"}),O(function(e){return MOVE.Common.cacheInputs(o,s,a),T(!0),e.meta.success?(D(),MOVE.LDP.RentalLeadMovingModal.showThankyou()):void _.each(e.meta.errors,function(e){var t={},i=MOVE.Helper.mapMovingAPIErrorCodeToName(e.code);return"unsupported"===i?(D(),MOVE.LDP.RentalLeadMovingModal.showThankyou()):(i="first-name"===i||"last-name"===i?"name":i,"phone"===i?(n.find(".rental-moving-phone-parent").show(),a.one("keyup",function(){$(this).valid()})):"email"===i&&(n.find(".rental-moving-email-parent").show(),s.one("keyup",function(){$(this).valid()})),i="rental-moving-"+i,t[i]=w[i].invalid,void p.showErrors(t))})}))}})},k=function(){$.ajax({url:"/moving/calculate_cost",method:"POST",data:{from_zip:g,to_zip:y,move_weight_lbs:v,packing_option:"none"},dataType:"JSON",success:function(e){e.calculation&&$("#movingquote-estimate").html(e.calculation.low_estimate+" - "+e.calculation.high_estimate).closest("h3").removeClass("hide")},complete:function(){l.addClass("hide").next().removeClass("hide"),t.find(".modal-title").html("Free Moving Quotes"),MOVE_DATA.adobeDTM.modal={name:"movingQuote.step2"},_satellite.track("moving-quote:modal")}})},O=function(e){T(!1),$.ajax({url:"/moving/lead",method:"POST",data:x,dataType:"JSON",success:e})},T=function(e){$($movingQuoteSubmitBtn,i).attr("disabled",!e)},D=function(){MOVE.Helper.updateOmnitureLeadJson({leadType:"moving",leadPlacement:"post-lead"}),MOVE.Common.successMovingLeadOmniture()},P=function(){r.datepicker({orientation:"auto",autoclose:!0,startDate:"+1d",endDate:"+6m"}).on("hide",function(){n.valid()}),r.datepicker("update")};return e.RentalLeadMovingForm={init:A,submitHandler:C},e.RentalLeadMovingForm}(MOVE.LDP||{}),MOVE.LDP.RentalLeadMovingModal=function(e){var t,i,n,a="#rental-lead-moving-modal",o=function(e){i=model.getData()||{},n=e,r(),MOVE.LDP.RentalLeadMovingForm.init(e),t.off("hidden.bs.modal").on("hidden.bs.modal",function(){s()}),MOVE_DATA.adobeDTM.modal={name:"movingQuote.step1"},MOVE.Common.openModalMovingLeadOmniture()},r=function(){t=$(a)},s=function(){$("#modal-movingquote-content1").removeClass("hide").siblings().addClass("hide"),$("#movingquote-estimate").closest("h3").addClass("hide"),t.find(".modal-title").html("Thank You")},l=function(){t.modal("hide");var e=$("#thank-you-moving-quote");e.find(".close").on("click",function(){e.addClass("hide")}),e.removeClass("hide").show(),e.fadeTo(1e4,100).fadeOut("slow")},c=function(){t.modal("hide")},d=function(){t.modal()},u=function(e){$(a).length?(o(e),d()):MOVE.Helper.fetchModal(a,{position:e})};return e.RentalLeadMovingModal={init:o,show:u,showThankyou:l,closeModal:c,resetMovingQuotes:s},e.RentalLeadMovingModal}(MOVE.LDP||{}),MOVE.LDP.ReportListing=function(e){"use strict";var t,i,n,a=!0,o=function(){$("#aReportListing").hover(i),$("#aReportListing").click(t)};return i=function(e){e.preventDefault();var t=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),i=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);(a===!0&&t===!0||a===!0&&i===!0)&&(n(),a=!1)},t=function(){var e=$(this);e.addClass("disabled"),n(),setTimeout(function(){e.removeClass("disabled")},3e3)},n=function(){var e,t="SI_8iDQlV0kpz2qXOd",i=document.getElementById(t);i?(i.innerHTML="",e=i):(e=document.createElement("div"),e.id=t);var n=document.createElement("script");n.type="text/javascript",n.src="//zn_1svmh5y7lkb0axz-move.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_SIID=SI_8iDQlV0kpz2qXOd&Q_LOC="+encodeURIComponent(window.location.href),e.appendChild(n),document.body&&document.body.appendChild(e)},e.ReportListing={init:o},e.ReportListing}(MOVE.LDP||{}),MOVE.LDP.SaveDelete=function(e){var t=".ldp-save",i=".ldp-unsave",n=function(e){$("body").on("click",t,{listing:e},a).on("click",i,o).on("click",".js-tracking .ldp-save-not-logged-in, .js-tracking .save-not-logged-in",{is_listings:!0},function(e){$(".modal").is(":visible")&&$(".modal").find(".close").click();var t=$(this),i=function(){MOVE.Common.saveListingLoginTracking(),location.reload()};return raasLogin(function(){var n=t.closest(".js-tracking"),a={property_id:n.data("propertyid"),status:n.data("status"),listing_id:n.data("listingid")};MOVE.Common.saveListing(e,{listing:a,callBack:i,requireReload:!0})}),MOVE.Common.loginTracking(t),e.preventDefault(),!1})},a=function(e){var n=e.data.listing,a={property_id:n.property_id,status:n.status,listing_id:n.listing_id},o=function(e){var n=e.resources.id;$(t).hide().removeAttr("disabled"),$(i).show().data("res-id",n),MOVE_DATA.propertyDetails.saved_resource_id=n,GNAV.MYACCOUNT.getSavedResponse("my_properties")};MOVE.Common.saveListing(e,{listing:a,callBack:o,requireReload:!1})},o=function(e){var n=$(t),a=$(i),o=function(){n.show(),a.hide().data("res-id",null).removeAttr("disabled"),GNAV.MYACCOUNT.getSavedResponse("my_properties")};MOVE.Common.deleteListing(e,{id:a.data("res-id"),callBack:o})};return e.SaveDelete={init:n},e.SaveDelete}(MOVE.LDP||{}),MOVE.LDP.SellerLead=function(e){var t,i=function(){return $("#ldpBottomLeadModal").is(":visible")?t:null},n=function(e){e.find(".seller-enabled-lead-form .js-seller-agent").on("click",function(){var e=$(this);e.is(":checked")?e.attr("data-omtag","not for sale: lead form: position "+e.attr("data-selPosition")+": check"):e.attr("data-omtag","not for sale: lead form: position "+e.attr("data-selPosition")+": uncheck")}),e.find(".seller-enabled-lead-form .js-agent-name, .seller-enabled-lead-form .js-agent-photo").on("click",function(){_satellite.track("miniProfileImp")}),e.find(".seller-enabled-lead-form .agent-card-popover-listing-data a.btn").on("click",function(){_satellite.track("miniProfileFullDets")})},a=function(){$widget=$("#gallery_request_more_details"),$('a[data-target="#ldpBottomLeadModal"]').on("click",function(){"off_market"!==MOVE_DATA.adobeDTM.propertyStatusSub&&"recently_sold"!==MOVE_DATA.adobeDTM.propertyStatusSub||_satellite.track("homes:modal:rmd"),r($widget),t=$(this).data("lead-position"),o()})},o=function(){MOVE.Helper.updateOmnitureModalLeadJson({agentDefaultSelection:"unchecked"})},r=function(e){var t=e.find("form");t.validate().resetForm(),t.find(".error").removeClass("error");var i=e.find("div.bootstrap-select");i.removeClass("error-border");var n=i.parent();n.find("select").removeClass("error"),n.find("#leads_form_data_sell_by_date-error").remove()},s=function(e){var t=$(e.find("form")).attr("id"),n="";if("seller_summary"===t)n="homes:rmd:top";else{var a={primary:"rmd:top",secondary:"rmd:bottom"};n+="homes:",n+=null!==i()?"rmd:modal":a[t]}_satellite.track(n)},l=function(e,t){var i=t.find(".js-seller-agent:checked").length,n=t.find(".js-seller-agent:checked").closest(".seller-enabled-lead-form");return{leadGuid:e,selectionsCt:i,listing_advertiser_ids:c(n,"data-advertiserID"),selAgentPosition:c(n,"data-selPosition"),roleType:MOVE_DATA.adobeDTM.roleType,paidType:MOVE_DATA.adobeDTM.roleType.length?"paid":"courtesy"}},c=function(e,t){return e.map(function(){return $(this).attr(t)}).get().join()},d=function(e){var t=e.find(".lead-form-broker-info");return t.length?JSON.stringify({advertiser_id:t.data("advertiserid"),type:t.data("agenttype")}):""};return e.SellerLead={init:a,formName:i,onLoadCalls:n,sellerDirectCallOnSubmit:s,omnitureLeadJson:l,brokerInfo:d},e.SellerLead}(MOVE.LDP||{}),MOVE.LDP.TopMap=function(e){"use strict";var t=!1,i=!1,n=!0,a=!1,o=$("#ldpPhotos"),r=$("#topLDPMap").parent(),s=$("#ldp3dTours"),l=$("#ldpPhotoMrect"),c=function(e){var c=function(){t=!1,i=!1,n=!0,a=!1,o.addClass("hide"),r.addClass("hide"),s.addClass("hide"),l.addClass("hide")},d=function(){$("#top-map").removeClass("hide"),$("#top-map-street-view").addClass("hide")},u=function(){c(),o.removeClass("hide"),n=!0,d()},h=function(e){c(),r.removeClass("hide"),t?e?(i=!0,MOVE.LDP.Map.showStreetView(i)):i&&(i=!1,MOVE.LDP.Map.showStreetView(i)):(MOVE.LDP.Map.init("topLDPMap",!0,e),t=!0,i=e)},p=function(){c(),s.removeClass("hide");var e=$("#3dIframe");e.attr("src",e.data("src")),a=!0},f=function(e){e.parent().find("a.active").removeClass("active"),e.addClass("active")},m=function(e){$("#fullScreenBtn").toggleClass("hide",e)},g=function(e){$("#ldpPhotosNavigation").toggleClass("hide",e)},v=function(e){$(".label-new").add(".label-pending").add(".label-sold").toggleClass("hide",e)},y=function(e){$("#mapDirectionsBtn").toggleClass("hide",e)},b=function(){$("#top-map").toggleClass("hide"),$("#top-map-street-view").toggleClass("hide")};$("#view-photo").click(function(e){u(),f($(this)),1===$("#ldpPhotos .owl-item.active .ldp-photo-cta").length&&$("#ldpPhotoMrect").removeClass("hide"),m(!1),g(!1),v(!1),y(!0),e.preventDefault()}),$("#top-map").click(function(e){h(!1),b(),f($(this)),m(!0),g(!0),v(!1),y(!1),e.preventDefault()}),$("#top-map-street-view").click(function(e){h(!0),b(),f($(this)),m(!0),g(!0),v(!0),y(!0),e.preventDefault()}),$("#view-3dtours").click(function(e){p(),f($(this)),m(!0),g(!0),v(!0),y(!0),e.preventDefault()}),window.location.href.search("ldp-map=1")>-1&&$("#top-map").click(),e===!1&&(h(!0),v(!0),y(!0))};return e.TopMap={init:c},e.TopMap}(MOVE.TopMap||{}),MOVE.LDP.TopMapOptimization=function(e){"use strict";var t,i=!1,n=!1,a=!0,o=!1,r=MOVE.Helper.detectViewPort(),s=($("#ldpPhotoshero"),$("#topLDPMapHero").parent()),l=$("#ldphero3dTours"),c=function(e){var r=function(){i=!1,n=!1,a=e,o=!1,s.addClass("hide"),e&&l.addClass("hide")},c=function(){$("#hero-top-map").removeClass("hide"),$("#hero-top-map-street-view").addClass("hide")},d=function(){r(),a=!0,c()},u=function(e){r(),s.removeClass("hide"),i?e?(n=!0,MOVE.LDP.Map.showStreetView(n)):n&&(n=!1,MOVE.LDP.Map.showStreetView(n)):(MOVE.LDP.Map.init("topLDPMapHero",!0,e),i=!0,n=e)},h=function(){r(),l.removeClass("hide");var e=$("#3dIframehero");e.attr("src",e.data("src")),o=!0},p=function(e){$("#fullScreenBtnhero").toggleClass("hide",e)},f=function(e){$("#ldp-hero-photo-wrap .label-new").add("#ldp-hero-photo-wrap .label-pending").add("#ldp-hero-photo-wrap .label-sold").toggleClass("hide",e)},m=function(e){$("#heromapDirectionsBtn").toggleClass("hide",e)},g=function(){$("#hero-top-map").toggleClass("hide"),$("#hero-top-map-street-view").toggleClass("hide")},v=function(){d(),p(!1),f(!1),m(!0),t(),event.preventDefault()},y=function(){u(!1),g(),f(!1),m(!1),e&&p(!0),event.preventDefault()},b=function(){u(!0),g(),f(!0),m(!0),e&&p(!0),event.preventDefault()};$("#hero-view-photo").click(v),$("#hero-top-map").click(y),$("#hero-top-map-street-view").click(b),$("#map-aside-action-close").click(function(e){d(),p(!1),f(!1),m(!0),e.preventDefault()}),$("#heroview-3dtours").click(function(){h(),p(!0),f(!0),m(!0),event.preventDefault()});var x=function(e){var t=e.find("div.owl-item:not('.cloned')");t.length&&(e.trigger("remove.owl.carousel",t.length-1),e.trigger("prev.owl.carousel"))};$("#photomrect1AdsClose").off("click").click(function(e){e.stopPropagation(),$(e.target).parents(".fsgallery-ad").remove(),x($("#ldpPhotos"))}),e===!1&&(u(!0),f(!0),m(!0))};return t=function(){var e=($("#ldpPhotos").data("owl.carousel"),parseInt($("#firstPhotoCount").html(),10)-1);$("#ldp-fullscreen-gallery").modal({show:!0});var t={selectedPhotoIndex:e,showAds:!1,galleryContainer:$("#ldpPhotoGallery"),navContainer:$("#ldpPhotoGalleryNavigation"),thumbnailContainer:$("#photoCarousel","#ldp-fullscreen-gallery"),showPhotoCount:!0};!$(".hero-gallery-ad-lead").length||"large"!==r&&"medium"!==r&&"small"!==r?MOVE.LDP.PhotoGallery.init(t):MOVE.LDP.PhotoGalleryOptimization.init(t)},$(".js-fullgallery-trigger").click(function(){t()}),e.TopMapOptimization={init:c,showfullGallery:t},e.TopMapOptimization}(MOVE.TopMapOptimization||{}),MOVE.LDP.MortgagePayment=function(e){var t=function(){var e=model.getData();e.price||(e.price=e.min_price),MOVE.LDP.PaymentOptions.init(),MOVE.LDP.MortgagePaymentModal.init()},i=function(){a(MOVE.LDP.PaymentOptions.mortgageOptions()).done(function(e){MOVE.LDP.MortgagePaymentModal.updateCalculations(e),MOVE.LDP.PaymentOptions.updateCalculations(e)}),MOVE_DATA.enableMiniRateTable&&MOVE.LDP.RateTable.init()},n=function(e){var t=$.Deferred();return $.ajax({url:"/mrtg_handler/payment_estimate",method:"GET",dataType:"JSON",data:{home_price:e.price,dp_percent:e.downPaymentPercent||20,hoa:e.hoa_fees,location:e.postal_code+", "+e.city+", "+e.state_code},success:function(e){t.resolve(e)}}),t},a=function(e){var t=$.Deferred(),i=!0;return e.loanType.indexOf("_va")>-1&&(i=!1),$.ajax({type:"GET",url:"/mrtg_handler/calculate_mortgage",data:{price:e.home_price,down_payment:e.downPayment,rate:e.rate,term:e.term,tax_rate:12*e.property_tax/e.home_price,hoi:e.hoi||0,hoa:e.hoa||0,is_fees_included:!0,is_pmi_included:i,exclude_amortization_table:!0},success:function(e){t.resolve(e.mortgage_data)},async:!1}),t},o=function(e){return e.price_display.search("-")===-1?isNaN(e.price)?home_price_val=parseInt(e.price.replace(/[^0-9\.]+/g,""),10):home_price_val=e.price:home_price_val=e.min_price,isNaN(home_price_val)?0:home_price_val};return e.MortgagePayment={init:t,getEstimatedData:n,getCalculatedData:a,initCalculations:i,getHomePriceValue:o},e.MortgagePayment}(MOVE.LDP||{}),MOVE.LDP.PropertyDetailsView=function(e){var t,i="property_details",n="show",a=MOVE_DATA.propertyDetails.is_mobile,o=function(){a&&(MOVE.LDP.MobileBackToSearch.init(),MOVE.LDP.OptimizationMobile.init());var e=$("."+i+"."+n);1===e.length&&e.ready(r),MOVE.UserActivity.updateRecentViews(t,t.property_type),MOVE.AutoComplete.init($("#searchBox"),null,!0),MOVE.LDP.BrowseModules.loadBrowseModulePhotos()},r=function(){t=model.getData(),photos=MOVE_DATA.propertyDetails.photos,MOVE.LDP.BrowseModules.lazyLoadImages(),MOVE.LDP.LeadForm.init("primary_request_more_details"),MOVE.LDP.LeadForm.init("secondary_request_more_details"),MOVE.LDP.LeadForm.init("photo_gallery_request_more_details"),MOVE.LDP.LeadForm.init("full_bleed_secondary_request_more_details"),MOVE.LDP.LeadForm.init("full_bleed_inline_request_more_details"),t.status!==MOVE.CONSTANTS.PROPERTY_STATUS.forSale&&t.status!==MOVE.CONSTANTS.PROPERTY_STATUS.newCommunity&&t.status!==MOVE.CONSTANTS.PROPERTY_STATUS.newPlan||MOVE.LDP.MortgagePayment.init(),null===photos||photos&&(0===photos.length||MOVE.LDP.LdpPageSpecific.googleNoImageUrl(photos))?MOVE.LDP.TopMap.init(!1):MOVE.LDP.TopMap.init(!0),MOVE.LDP.StickyBar.init(),MOVE.LDP.SaveDelete.init(t),MOVE.LDP.ReportListing.init(),MOVE.LDP.CallLeads.init(),a||(MOVE.LDP.HomeAdvisorWidget.init(t.postal_code),MOVE.LDP.NearbyHomes.init(),MOVE.MovingEstimateWidget.init(),MOVE.LDP.RightRail.init(),MOVE.EditorsPicks.init(),MOVE.LDP.AdditionalCommunities.init(),MOVE.LDP.OptimizationDesktop.init()),MOVE.LDP.Optimization.init(),MOVE.AmenitiesNearYou.init(),MOVE.LifeStyleGallery.init(),MOVE.Common.showStickyBar("#ldp-sticky-buyer-lead",610),MOVE.LDP.BrowseModules.lazyLoadBrowseModules(t.postal_code),MOVE.LDP.LdpPageSpecific.init(),MOVE.LDP.FeaturesGallery.init()},s=function(){setTimeout(function(){window.print();
},0)};return e.PropertyDetailsView={init:o,setupPrint:s},e.PropertyDetailsView}(MOVE.LDP||{}),MOVE.Helper.isPrintMode()?MOVE.LDP.PropertyDetailsView.setupPrint():MOVE.LDP.PropertyDetailsView.init(),function(){this.JST||(this.JST={}),this.JST["local/templates/communityTile"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="js-local-fsgallery-toggle ',customClasses,'">\n  <div class="community-image community-image-',index,'">\n    '),"string"==typeof altText&&altText?__p.push('\n      <img class="img-responsive" data-src="',imgSrc,'" alt="',altText,'" title="',altText,'">\n    '):__p.push('\n      <img class="img-responsive" data-src="',imgSrc,'">\n    '),__p.push("\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["local/templates/community_photo_gallery"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),"string"==typeof altText&&altText?__p.push('\n    <img data-src="',imgSrc,'" class="hide owl-lazy"index="',index,'" alt="',altText,'" title="',altText,'">\n'):__p.push('\n    <img data-src="',imgSrc,'" class="hide owl-lazy"index="',index,'">\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["local/templates/community_small_photo_gallery"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<img data-src="',imgSrc,'" class="owl-lazy">\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["local/templates/community_widget"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="local-widget-photo-item js-local-fsgallery-toggle">\n    '),"string"==typeof altText&&altText?__p.push('\n        <img class="img-responsive" src="',imgSrc,'" alt="',altText,'" title="',altText,'">\n    '):__p.push('\n        <img class="img-responsive" src="',imgSrc,'">\n    '),__p.push("\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/saving_over_limit_warning"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="alert alert-dark alert-dismissible alert-notify alert-fixed-bottom-right" role="alert" id="save-listing-error-alert">\n    <button id="save-listing-error-alert-dismiss" type="button" class="close" aria-label="Close">\n      <span aria-hidden="true">\xd7</span>\n    </button>\n  <span>You\'ve been so busy. But you\'ve reached the maximum number listings you can save. Please delete some of the listings to add more.</span>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modal_error"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="modal fade share-unavailable-modal" id="shareUnavailable" tabindex="-1" role="dialog">\n  <div class="modal-dialog modal-sm">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span class="hidden-xs hidden-xxs" aria-hidden="true">&times;</span>\n          <span class="hidden-lg hidden-md hidden-sm" aria-hidden="true"><i class="ra ra-angle-left"></i></span>\n        </button>\n        <h2 class="modal-title">Something went wrong...</h2>\n      </div>\n      <div class="modal-body">\n        '),hasTarget?__p.push('\n          <p class="font-semibold">Sorry for the inconvenience.<br>Let&apos;s try again.</p>\n          <a href="#" data-toggle="modal" data-target="',target,'" data-property="',property,'" class="btn btn-primary">Try it again</a>\n        '):__p.push('\n          <p class="font-semibold">Sorry for the inconvenience.<br>Please try again later.</p>\n          <a href="#" data-dismiss="modal" class="btn btn-default">Close modal</a>\n        '),__p.push("\n      </div>\n    </div>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/browse_modules_card"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),classes_per_breakpoint=["col-md-3","col-md-4","col-md-5","col-md-5 hidden-xxs","col-md-4 hidden-xxs","col-md-3 hidden-xxs"],listing_class="",(listing_index<=2&&browse_module_count>=3||listing_index>=3&&6==browse_module_count&&!limit_three)&&(listing_class=classes_per_breakpoint[listing_index]),__p.push("\n"),""!==listing_class&&(__p.push('\n  <div class="listing-',listing_index," col-xxs-12 col-xs-4 ",listing_class,' item">\n    <div class="listing-card-filled listing-card-short">\n      <div class="aspect-content">\n        <div class="listing-photo">\n          <a href="',home.ldp_url,'" data-omtag="',omtag,'">\n            '),home.photo_url?__p.push('\n              <span><img class ="js-ldp-listing-photos" data-src="',home.photo_url,'" alt="',home.full_address_display,'" src="',home.photo_url,'" lazy=true></span>\n            '):__p.push('\n              <span class="photo-coming-soon"></span>\n            '),__p.push('\n          </a>\n          <div class="listing-photo-label">\n            '),home.search_flags.is_new_listing&&__p.push('\n              <span class="label label-green label-outline-none label-corner" data-label="property-label-new">New</span>\n            '),__p.push("\n            "),home.search_flags.is_pending&&__p.push('\n              <span class="label label-red label-corner" data-label="property-label-pending">Pending</span>\n            '),__p.push('\n          </div>\n        </div>\n        <div class="listing-info">\n          <ul class="list-unstyled property-meta">\n            <li class="listing-info-address ellipsis" title='),home.full_address_display,__p.push(">\n              ",home.full_address_display,'\n            </li>\n            <li class="listing-info-price">\n              ',home.price_display,'\n              <div class="listing-card-tags">\n              </div>\n            </li>\n            <li class="listing-info-meta">\n              <ul class="list-horizontal list-style-disc">\n                '),home.beds&&__p.push('\n                  <li data-label="property-meta-beds"><span class="data-value">',home.beds,"</span> bd</li>\n                "),__p.push("\n                "),home.baths&&__p.push('\n                  <li data-label="property-meta-baths"><span class="data-value">',home.baths,"</span> ba</li>\n                "),__p.push("\n                "),home.sqft_display&&__p.push('\n                  <li class="property-meta-sqft " data-label="property-meta-sqft"><span class="data-value">',home.sqft_display,"</span> sq ft</li>\n                "),__p.push("\n              </ul>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n")),__p.push("\n");return __p.join("")}}.call(this);